var _h=t=>{throw TypeError(t)};var fl=(t,e,n)=>e.has(t)||_h("Cannot "+n);var k=(t,e,n)=>(fl(t,e,"read from private field"),n?n.call(t):e.get(t)),B=(t,e,n)=>e.has(t)?_h("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),$=(t,e,n,r)=>(fl(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ce=(t,e,n)=>(fl(t,e,"access private method"),n);var ua=(t,e,n,r)=>({set _(s){$(t,e,s,n)},get _(){return k(t,e,r)}});function Cx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Hm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Km={exports:{}},Do={},Gm={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qi=Symbol.for("react.element"),Nx=Symbol.for("react.portal"),Ax=Symbol.for("react.fragment"),Rx=Symbol.for("react.strict_mode"),Ox=Symbol.for("react.profiler"),Ix=Symbol.for("react.provider"),Dx=Symbol.for("react.context"),Lx=Symbol.for("react.forward_ref"),Mx=Symbol.for("react.suspense"),$x=Symbol.for("react.memo"),Ux=Symbol.for("react.lazy"),bh=Symbol.iterator;function Fx(t){return t===null||typeof t!="object"?null:(t=bh&&t[bh]||t["@@iterator"],typeof t=="function"?t:null)}var Qm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jm=Object.assign,Ym={};function js(t,e,n){this.props=t,this.context=e,this.refs=Ym,this.updater=n||Qm}js.prototype.isReactComponent={};js.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};js.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xm(){}Xm.prototype=js.prototype;function Lc(t,e,n){this.props=t,this.context=e,this.refs=Ym,this.updater=n||Qm}var Mc=Lc.prototype=new Xm;Mc.constructor=Lc;Jm(Mc,js.prototype);Mc.isPureReactComponent=!0;var Sh=Array.isArray,Zm=Object.prototype.hasOwnProperty,$c={current:null},eg={key:!0,ref:!0,__self:!0,__source:!0};function tg(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Zm.call(e,r)&&!eg.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Qi,type:t,key:i,ref:a,props:s,_owner:$c.current}}function Vx(t,e){return{$$typeof:Qi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qi}function Bx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jh=/\/+/g;function pl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bx(""+t.key):e.toString(36)}function Ma(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Qi:case Nx:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+pl(a,0):r,Sh(s)?(n="",t!=null&&(n=t.replace(jh,"$&/")+"/"),Ma(s,e,n,"",function(u){return u})):s!=null&&(Uc(s)&&(s=Vx(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(jh,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Sh(t))for(var o=0;o<t.length;o++){i=t[o];var l=r+pl(i,o);a+=Ma(i,e,n,l,s)}else if(l=Fx(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=r+pl(i,o++),a+=Ma(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ca(t,e,n){if(t==null)return t;var r=[],s=0;return Ma(t,r,"","",function(i){return e.call(n,i,s++)}),r}function zx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ve={current:null},$a={transition:null},Wx={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:$a,ReactCurrentOwner:$c};function ng(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:ca,forEach:function(t,e,n){ca(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ca(t,function(){e++}),e},toArray:function(t){return ca(t,function(e){return e})||[]},only:function(t){if(!Uc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=js;V.Fragment=Ax;V.Profiler=Ox;V.PureComponent=Lc;V.StrictMode=Rx;V.Suspense=Mx;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wx;V.act=ng;V.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Jm({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=$c.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Zm.call(e,l)&&!eg.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Qi,type:t.type,key:s,ref:i,props:r,_owner:a}};V.createContext=function(t){return t={$$typeof:Dx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ix,_context:t},t.Consumer=t};V.createElement=tg;V.createFactory=function(t){var e=tg.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:Lx,render:t}};V.isValidElement=Uc;V.lazy=function(t){return{$$typeof:Ux,_payload:{_status:-1,_result:t},_init:zx}};V.memo=function(t,e){return{$$typeof:$x,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=$a.transition;$a.transition={};try{t()}finally{$a.transition=e}};V.unstable_act=ng;V.useCallback=function(t,e){return Ve.current.useCallback(t,e)};V.useContext=function(t){return Ve.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return Ve.current.useDeferredValue(t)};V.useEffect=function(t,e){return Ve.current.useEffect(t,e)};V.useId=function(){return Ve.current.useId()};V.useImperativeHandle=function(t,e,n){return Ve.current.useImperativeHandle(t,e,n)};V.useInsertionEffect=function(t,e){return Ve.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return Ve.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return Ve.current.useMemo(t,e)};V.useReducer=function(t,e,n){return Ve.current.useReducer(t,e,n)};V.useRef=function(t){return Ve.current.useRef(t)};V.useState=function(t){return Ve.current.useState(t)};V.useSyncExternalStore=function(t,e,n){return Ve.current.useSyncExternalStore(t,e,n)};V.useTransition=function(){return Ve.current.useTransition()};V.version="18.3.1";Gm.exports=V;var S=Gm.exports;const Fc=Hm(S),qx=Cx({__proto__:null,default:Fc},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx=S,Kx=Symbol.for("react.element"),Gx=Symbol.for("react.fragment"),Qx=Object.prototype.hasOwnProperty,Jx=Hx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yx={key:!0,ref:!0,__self:!0,__source:!0};function rg(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Qx.call(e,r)&&!Yx.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Kx,type:t,key:i,ref:a,props:s,_owner:Jx.current}}Do.Fragment=Gx;Do.jsx=rg;Do.jsxs=rg;Km.exports=Do;var c=Km.exports,uu={},sg={exports:{}},rt={},ig={exports:{}},ag={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,U){var F=C.length;C.push(U);e:for(;0<F;){var le=F-1>>>1,xe=C[le];if(0<s(xe,U))C[le]=U,C[F]=xe,F=le;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var U=C[0],F=C.pop();if(F!==U){C[0]=F;e:for(var le=0,xe=C.length,oa=xe>>>1;le<oa;){var zn=2*(le+1)-1,hl=C[zn],Wn=zn+1,la=C[Wn];if(0>s(hl,F))Wn<xe&&0>s(la,hl)?(C[le]=la,C[Wn]=F,le=Wn):(C[le]=hl,C[zn]=F,le=zn);else if(Wn<xe&&0>s(la,F))C[le]=la,C[Wn]=F,le=Wn;else break e}}return U}function s(C,U){var F=C.sortIndex-U.sortIndex;return F!==0?F:C.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,f=3,p=!1,x=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=C)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function _(C){if(v=!1,y(C),!x)if(n(l)!==null)x=!0,aa(b);else{var U=n(u);U!==null&&me(_,U.startTime-C)}}function b(C,U){x=!1,v&&(v=!1,g(E),E=-1),p=!0;var F=f;try{for(y(U),h=n(l);h!==null&&(!(h.expirationTime>U)||C&&!oe());){var le=h.callback;if(typeof le=="function"){h.callback=null,f=h.priorityLevel;var xe=le(h.expirationTime<=U);U=t.unstable_now(),typeof xe=="function"?h.callback=xe:h===n(l)&&r(l),y(U)}else r(l);h=n(l)}if(h!==null)var oa=!0;else{var zn=n(u);zn!==null&&me(_,zn.startTime-U),oa=!1}return oa}finally{h=null,f=F,p=!1}}var j=!1,T=null,E=-1,A=5,I=-1;function oe(){return!(t.unstable_now()-I<A)}function rn(){if(T!==null){var C=t.unstable_now();I=C;var U=!0;try{U=T(!0,C)}finally{U?Bn():(j=!1,T=null)}}else j=!1}var Bn;if(typeof m=="function")Bn=function(){m(rn)};else if(typeof MessageChannel<"u"){var Rs=new MessageChannel,wh=Rs.port2;Rs.port1.onmessage=rn,Bn=function(){wh.postMessage(null)}}else Bn=function(){w(rn,0)};function aa(C){T=C,j||(j=!0,Bn())}function me(C,U){E=w(function(){C(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,aa(b))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var F=f;f=U;try{return C()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,U){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=f;f=C;try{return U()}finally{f=F}},t.unstable_scheduleCallback=function(C,U,F){var le=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?le+F:le):F=le,C){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=F+xe,C={id:d++,callback:U,priorityLevel:C,startTime:F,expirationTime:xe,sortIndex:-1},F>le?(C.sortIndex=F,e(u,C),n(l)===null&&C===n(u)&&(v?(g(E),E=-1):v=!0,me(_,F-le))):(C.sortIndex=xe,e(l,C),x||p||(x=!0,aa(b))),C},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(C){var U=f;return function(){var F=f;f=U;try{return C.apply(this,arguments)}finally{f=F}}}})(ag);ig.exports=ag;var Xx=ig.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx=S,tt=Xx;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var og=new Set,fi={};function wr(t,e){fs(t,e),fs(t+"Capture",e)}function fs(t,e){for(fi[t]=e,t=0;t<e.length;t++)og.add(e[t])}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=Object.prototype.hasOwnProperty,ew=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kh={},Eh={};function tw(t){return cu.call(Eh,t)?!0:cu.call(kh,t)?!1:ew.test(t)?Eh[t]=!0:(kh[t]=!0,!1)}function nw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rw(t,e,n,r){if(e===null||typeof e>"u"||nw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Be(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pe[t]=new Be(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pe[e]=new Be(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pe[t]=new Be(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pe[t]=new Be(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pe[t]=new Be(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pe[t]=new Be(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pe[t]=new Be(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pe[t]=new Be(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pe[t]=new Be(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vc=/[\-:]([a-z])/g;function Bc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vc,Bc);Pe[e]=new Be(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vc,Bc);Pe[e]=new Be(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vc,Bc);Pe[e]=new Be(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pe[t]=new Be(t,1,!1,t.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pe[t]=new Be(t,1,!1,t.toLowerCase(),null,!0,!0)});function zc(t,e,n,r){var s=Pe.hasOwnProperty(e)?Pe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rw(e,n,s,r)&&(n=null),r||s===null?tw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tn=Zx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,da=Symbol.for("react.element"),Or=Symbol.for("react.portal"),Ir=Symbol.for("react.fragment"),Wc=Symbol.for("react.strict_mode"),du=Symbol.for("react.profiler"),lg=Symbol.for("react.provider"),ug=Symbol.for("react.context"),qc=Symbol.for("react.forward_ref"),hu=Symbol.for("react.suspense"),fu=Symbol.for("react.suspense_list"),Hc=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),cg=Symbol.for("react.offscreen"),Th=Symbol.iterator;function Os(t){return t===null||typeof t!="object"?null:(t=Th&&t[Th]||t["@@iterator"],typeof t=="function"?t:null)}var ne=Object.assign,ml;function zs(t){if(ml===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ml=e&&e[1]||""}return`
`+ml+t}var gl=!1;function yl(t,e){if(!t||gl)return"";gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{gl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zs(t):""}function sw(t){switch(t.tag){case 5:return zs(t.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 2:case 15:return t=yl(t.type,!1),t;case 11:return t=yl(t.type.render,!1),t;case 1:return t=yl(t.type,!0),t;default:return""}}function pu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ir:return"Fragment";case Or:return"Portal";case du:return"Profiler";case Wc:return"StrictMode";case hu:return"Suspense";case fu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ug:return(t.displayName||"Context")+".Consumer";case lg:return(t._context.displayName||"Context")+".Provider";case qc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hc:return e=t.displayName||null,e!==null?e:pu(t.type)||"Memo";case ln:e=t._payload,t=t._init;try{return pu(t(e))}catch{}}return null}function iw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pu(e);case 8:return e===Wc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aw(t){var e=dg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ha(t){t._valueTracker||(t._valueTracker=aw(t))}function hg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mu(t,e){var n=e.checked;return ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ph(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fg(t,e){e=e.checked,e!=null&&zc(t,"checked",e,!1)}function gu(t,e){fg(t,e);var n=Rn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yu(t,e.type,n):e.hasOwnProperty("defaultValue")&&yu(t,e.type,Rn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ch(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yu(t,e,n){(e!=="number"||Xa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ws=Array.isArray;function Yr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function vu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Ws(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rn(n)}}function pg(t,e){var n=Rn(e.value),r=Rn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ah(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fa,gg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fa=fa||document.createElement("div"),fa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ow=["Webkit","ms","Moz","O"];Object.keys(Ys).forEach(function(t){ow.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ys[e]=Ys[t]})});function yg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ys.hasOwnProperty(t)&&Ys[t]?(""+e).trim():e+"px"}function vg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=yg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var lw=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wu(t,e){if(e){if(lw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function _u(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=null;function Kc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Su=null,Xr=null,Zr=null;function Rh(t){if(t=Xi(t)){if(typeof Su!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Fo(e),Su(t.stateNode,t.type,e))}}function xg(t){Xr?Zr?Zr.push(t):Zr=[t]:Xr=t}function wg(){if(Xr){var t=Xr,e=Zr;if(Zr=Xr=null,Rh(t),e)for(t=0;t<e.length;t++)Rh(e[t])}}function _g(t,e){return t(e)}function bg(){}var vl=!1;function Sg(t,e,n){if(vl)return t(e,n);vl=!0;try{return _g(t,e,n)}finally{vl=!1,(Xr!==null||Zr!==null)&&(bg(),wg())}}function mi(t,e){var n=t.stateNode;if(n===null)return null;var r=Fo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var ju=!1;if(Jt)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){ju=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{ju=!1}function uw(t,e,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Xs=!1,Za=null,eo=!1,ku=null,cw={onError:function(t){Xs=!0,Za=t}};function dw(t,e,n,r,s,i,a,o,l){Xs=!1,Za=null,uw.apply(cw,arguments)}function hw(t,e,n,r,s,i,a,o,l){if(dw.apply(this,arguments),Xs){if(Xs){var u=Za;Xs=!1,Za=null}else throw Error(P(198));eo||(eo=!0,ku=u)}}function _r(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Oh(t){if(_r(t)!==t)throw Error(P(188))}function fw(t){var e=t.alternate;if(!e){if(e=_r(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Oh(s),t;if(i===r)return Oh(s),e;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function kg(t){return t=fw(t),t!==null?Eg(t):null}function Eg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Eg(t);if(e!==null)return e;t=t.sibling}return null}var Tg=tt.unstable_scheduleCallback,Ih=tt.unstable_cancelCallback,pw=tt.unstable_shouldYield,mw=tt.unstable_requestPaint,de=tt.unstable_now,gw=tt.unstable_getCurrentPriorityLevel,Gc=tt.unstable_ImmediatePriority,Pg=tt.unstable_UserBlockingPriority,to=tt.unstable_NormalPriority,yw=tt.unstable_LowPriority,Cg=tt.unstable_IdlePriority,Lo=null,Dt=null;function vw(t){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Lo,t,void 0,(t.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:_w,xw=Math.log,ww=Math.LN2;function _w(t){return t>>>=0,t===0?32:31-(xw(t)/ww|0)|0}var pa=64,ma=4194304;function qs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function no(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=qs(o):(i&=a,i!==0&&(r=qs(i)))}else a=n&~s,a!==0?r=qs(a):i!==0&&(r=qs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Et(e),s=1<<n,r|=t[n],e&=~s;return r}function bw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Et(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=bw(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function Eu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ng(){var t=pa;return pa<<=1,!(pa&4194240)&&(pa=64),t}function xl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ji(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Et(e),t[e]=n}function jw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Et(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Qc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Et(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var W=0;function Ag(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Rg,Jc,Og,Ig,Dg,Tu=!1,ga=[],Sn=null,jn=null,kn=null,gi=new Map,yi=new Map,dn=[],kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dh(t,e){switch(t){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":gi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(e.pointerId)}}function Ds(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xi(e),e!==null&&Jc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ew(t,e,n,r,s){switch(e){case"focusin":return Sn=Ds(Sn,t,e,n,r,s),!0;case"dragenter":return jn=Ds(jn,t,e,n,r,s),!0;case"mouseover":return kn=Ds(kn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return gi.set(i,Ds(gi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,yi.set(i,Ds(yi.get(i)||null,t,e,n,r,s)),!0}return!1}function Lg(t){var e=tr(t.target);if(e!==null){var n=_r(e);if(n!==null){if(e=n.tag,e===13){if(e=jg(n),e!==null){t.blockedOn=e,Dg(t.priority,function(){Og(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ua(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bu=r,n.target.dispatchEvent(r),bu=null}else return e=Xi(n),e!==null&&Jc(e),t.blockedOn=n,!1;e.shift()}return!0}function Lh(t,e,n){Ua(t)&&n.delete(e)}function Tw(){Tu=!1,Sn!==null&&Ua(Sn)&&(Sn=null),jn!==null&&Ua(jn)&&(jn=null),kn!==null&&Ua(kn)&&(kn=null),gi.forEach(Lh),yi.forEach(Lh)}function Ls(t,e){t.blockedOn===e&&(t.blockedOn=null,Tu||(Tu=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,Tw)))}function vi(t){function e(s){return Ls(s,t)}if(0<ga.length){Ls(ga[0],t);for(var n=1;n<ga.length;n++){var r=ga[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sn!==null&&Ls(Sn,t),jn!==null&&Ls(jn,t),kn!==null&&Ls(kn,t),gi.forEach(e),yi.forEach(e),n=0;n<dn.length;n++)r=dn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<dn.length&&(n=dn[0],n.blockedOn===null);)Lg(n),n.blockedOn===null&&dn.shift()}var es=tn.ReactCurrentBatchConfig,ro=!0;function Pw(t,e,n,r){var s=W,i=es.transition;es.transition=null;try{W=1,Yc(t,e,n,r)}finally{W=s,es.transition=i}}function Cw(t,e,n,r){var s=W,i=es.transition;es.transition=null;try{W=4,Yc(t,e,n,r)}finally{W=s,es.transition=i}}function Yc(t,e,n,r){if(ro){var s=Pu(t,e,n,r);if(s===null)Cl(t,e,r,so,n),Dh(t,r);else if(Ew(s,t,e,n,r))r.stopPropagation();else if(Dh(t,r),e&4&&-1<kw.indexOf(t)){for(;s!==null;){var i=Xi(s);if(i!==null&&Rg(i),i=Pu(t,e,n,r),i===null&&Cl(t,e,r,so,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Cl(t,e,r,null,n)}}var so=null;function Pu(t,e,n,r){if(so=null,t=Kc(r),t=tr(t),t!==null)if(e=_r(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return so=t,null}function Mg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gw()){case Gc:return 1;case Pg:return 4;case to:case yw:return 16;case Cg:return 536870912;default:return 16}default:return 16}}var wn=null,Xc=null,Fa=null;function $g(){if(Fa)return Fa;var t,e=Xc,n=e.length,r,s="value"in wn?wn.value:wn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Fa=s.slice(t,1<r?1-r:void 0)}function Va(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ya(){return!0}function Mh(){return!1}function st(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ya:Mh,this.isPropagationStopped=Mh,this}return ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),e}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zc=st(ks),Yi=ne({},ks,{view:0,detail:0}),Nw=st(Yi),wl,_l,Ms,Mo=ne({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ed,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ms&&(Ms&&t.type==="mousemove"?(wl=t.screenX-Ms.screenX,_l=t.screenY-Ms.screenY):_l=wl=0,Ms=t),wl)},movementY:function(t){return"movementY"in t?t.movementY:_l}}),$h=st(Mo),Aw=ne({},Mo,{dataTransfer:0}),Rw=st(Aw),Ow=ne({},Yi,{relatedTarget:0}),bl=st(Ow),Iw=ne({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Dw=st(Iw),Lw=ne({},ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mw=st(Lw),$w=ne({},ks,{data:0}),Uh=st($w),Uw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Vw[t])?!!e[t]:!1}function ed(){return Bw}var zw=ne({},Yi,{key:function(t){if(t.key){var e=Uw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Va(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ed,charCode:function(t){return t.type==="keypress"?Va(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Va(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ww=st(zw),qw=ne({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fh=st(qw),Hw=ne({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ed}),Kw=st(Hw),Gw=ne({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qw=st(Gw),Jw=ne({},Mo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yw=st(Jw),Xw=[9,13,27,32],td=Jt&&"CompositionEvent"in window,Zs=null;Jt&&"documentMode"in document&&(Zs=document.documentMode);var Zw=Jt&&"TextEvent"in window&&!Zs,Ug=Jt&&(!td||Zs&&8<Zs&&11>=Zs),Vh=" ",Bh=!1;function Fg(t,e){switch(t){case"keyup":return Xw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dr=!1;function e_(t,e){switch(t){case"compositionend":return Vg(e);case"keypress":return e.which!==32?null:(Bh=!0,Vh);case"textInput":return t=e.data,t===Vh&&Bh?null:t;default:return null}}function t_(t,e){if(Dr)return t==="compositionend"||!td&&Fg(t,e)?(t=$g(),Fa=Xc=wn=null,Dr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ug&&e.locale!=="ko"?null:e.data;default:return null}}var n_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!n_[t.type]:e==="textarea"}function Bg(t,e,n,r){xg(r),e=io(e,"onChange"),0<e.length&&(n=new Zc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ei=null,xi=null;function r_(t){Zg(t,0)}function $o(t){var e=$r(t);if(hg(e))return t}function s_(t,e){if(t==="change")return e}var zg=!1;if(Jt){var Sl;if(Jt){var jl="oninput"in document;if(!jl){var Wh=document.createElement("div");Wh.setAttribute("oninput","return;"),jl=typeof Wh.oninput=="function"}Sl=jl}else Sl=!1;zg=Sl&&(!document.documentMode||9<document.documentMode)}function qh(){ei&&(ei.detachEvent("onpropertychange",Wg),xi=ei=null)}function Wg(t){if(t.propertyName==="value"&&$o(xi)){var e=[];Bg(e,xi,t,Kc(t)),Sg(r_,e)}}function i_(t,e,n){t==="focusin"?(qh(),ei=e,xi=n,ei.attachEvent("onpropertychange",Wg)):t==="focusout"&&qh()}function a_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $o(xi)}function o_(t,e){if(t==="click")return $o(e)}function l_(t,e){if(t==="input"||t==="change")return $o(e)}function u_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pt=typeof Object.is=="function"?Object.is:u_;function wi(t,e){if(Pt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!cu.call(e,s)||!Pt(t[s],e[s]))return!1}return!0}function Hh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kh(t,e){var n=Hh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hh(n)}}function qg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hg(){for(var t=window,e=Xa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xa(t.document)}return e}function nd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function c_(t){var e=Hg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qg(n.ownerDocument.documentElement,n)){if(r!==null&&nd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Kh(n,i);var a=Kh(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var d_=Jt&&"documentMode"in document&&11>=document.documentMode,Lr=null,Cu=null,ti=null,Nu=!1;function Gh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nu||Lr==null||Lr!==Xa(r)||(r=Lr,"selectionStart"in r&&nd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ti&&wi(ti,r)||(ti=r,r=io(Cu,"onSelect"),0<r.length&&(e=new Zc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Lr)))}function va(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mr={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionend:va("Transition","TransitionEnd")},kl={},Kg={};Jt&&(Kg=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Uo(t){if(kl[t])return kl[t];if(!Mr[t])return t;var e=Mr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Kg)return kl[t]=e[n];return t}var Gg=Uo("animationend"),Qg=Uo("animationiteration"),Jg=Uo("animationstart"),Yg=Uo("transitionend"),Xg=new Map,Qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(t,e){Xg.set(t,e),wr(e,[t])}for(var El=0;El<Qh.length;El++){var Tl=Qh[El],h_=Tl.toLowerCase(),f_=Tl[0].toUpperCase()+Tl.slice(1);Ln(h_,"on"+f_)}Ln(Gg,"onAnimationEnd");Ln(Qg,"onAnimationIteration");Ln(Jg,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(Yg,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hs));function Jh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hw(r,e,void 0,t),t.currentTarget=null}function Zg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Jh(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Jh(s,o,u),i=l}}}if(eo)throw t=ku,eo=!1,ku=null,t}function G(t,e){var n=e[Du];n===void 0&&(n=e[Du]=new Set);var r=t+"__bubble";n.has(r)||(ey(e,t,2,!1),n.add(r))}function Pl(t,e,n){var r=0;e&&(r|=4),ey(n,t,r,e)}var xa="_reactListening"+Math.random().toString(36).slice(2);function _i(t){if(!t[xa]){t[xa]=!0,og.forEach(function(n){n!=="selectionchange"&&(p_.has(n)||Pl(n,!1,t),Pl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xa]||(e[xa]=!0,Pl("selectionchange",!1,e))}}function ey(t,e,n,r){switch(Mg(e)){case 1:var s=Pw;break;case 4:s=Cw;break;default:s=Yc}n=s.bind(null,e,n,t),s=void 0,!ju||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Cl(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=tr(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}Sg(function(){var u=i,d=Kc(n),h=[];e:{var f=Xg.get(t);if(f!==void 0){var p=Zc,x=t;switch(t){case"keypress":if(Va(n)===0)break e;case"keydown":case"keyup":p=Ww;break;case"focusin":x="focus",p=bl;break;case"focusout":x="blur",p=bl;break;case"beforeblur":case"afterblur":p=bl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Rw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Kw;break;case Gg:case Qg:case Jg:p=Dw;break;case Yg:p=Qw;break;case"scroll":p=Nw;break;case"wheel":p=Yw;break;case"copy":case"cut":case"paste":p=Mw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Fh}var v=(e&4)!==0,w=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var m=u,y;m!==null;){y=m;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,g!==null&&(_=mi(m,g),_!=null&&v.push(bi(m,_,y)))),w)break;m=m.return}0<v.length&&(f=new p(f,x,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==bu&&(x=n.relatedTarget||n.fromElement)&&(tr(x)||x[Yt]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=u,x=x?tr(x):null,x!==null&&(w=_r(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(v=$h,_="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=Fh,_="onPointerLeave",g="onPointerEnter",m="pointer"),w=p==null?f:$r(p),y=x==null?f:$r(x),f=new v(_,m+"leave",p,n,d),f.target=w,f.relatedTarget=y,_=null,tr(d)===u&&(v=new v(g,m+"enter",x,n,d),v.target=y,v.relatedTarget=w,_=v),w=_,p&&x)t:{for(v=p,g=x,m=0,y=v;y;y=Sr(y))m++;for(y=0,_=g;_;_=Sr(_))y++;for(;0<m-y;)v=Sr(v),m--;for(;0<y-m;)g=Sr(g),y--;for(;m--;){if(v===g||g!==null&&v===g.alternate)break t;v=Sr(v),g=Sr(g)}v=null}else v=null;p!==null&&Yh(h,f,p,v,!1),x!==null&&w!==null&&Yh(h,w,x,v,!0)}}e:{if(f=u?$r(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var b=s_;else if(zh(f))if(zg)b=l_;else{b=a_;var j=i_}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=o_);if(b&&(b=b(t,u))){Bg(h,b,n,d);break e}j&&j(t,f,u),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&yu(f,"number",f.value)}switch(j=u?$r(u):window,t){case"focusin":(zh(j)||j.contentEditable==="true")&&(Lr=j,Cu=u,ti=null);break;case"focusout":ti=Cu=Lr=null;break;case"mousedown":Nu=!0;break;case"contextmenu":case"mouseup":case"dragend":Nu=!1,Gh(h,n,d);break;case"selectionchange":if(d_)break;case"keydown":case"keyup":Gh(h,n,d)}var T;if(td)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Dr?Fg(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Ug&&n.locale!=="ko"&&(Dr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Dr&&(T=$g()):(wn=d,Xc="value"in wn?wn.value:wn.textContent,Dr=!0)),j=io(u,E),0<j.length&&(E=new Uh(E,t,null,n,d),h.push({event:E,listeners:j}),T?E.data=T:(T=Vg(n),T!==null&&(E.data=T)))),(T=Zw?e_(t,n):t_(t,n))&&(u=io(u,"onBeforeInput"),0<u.length&&(d=new Uh("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=T))}Zg(h,e)})}function bi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function io(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=mi(t,n),i!=null&&r.unshift(bi(t,i,s)),i=mi(t,e),i!=null&&r.push(bi(t,i,s))),t=t.return}return r}function Sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yh(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=mi(n,i),l!=null&&a.unshift(bi(n,l,o))):s||(l=mi(n,i),l!=null&&a.push(bi(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var m_=/\r\n?/g,g_=/\u0000|\uFFFD/g;function Xh(t){return(typeof t=="string"?t:""+t).replace(m_,`
`).replace(g_,"")}function wa(t,e,n){if(e=Xh(e),Xh(t)!==e&&n)throw Error(P(425))}function ao(){}var Au=null,Ru=null;function Ou(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Iu=typeof setTimeout=="function"?setTimeout:void 0,y_=typeof clearTimeout=="function"?clearTimeout:void 0,Zh=typeof Promise=="function"?Promise:void 0,v_=typeof queueMicrotask=="function"?queueMicrotask:typeof Zh<"u"?function(t){return Zh.resolve(null).then(t).catch(x_)}:Iu;function x_(t){setTimeout(function(){throw t})}function Nl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),vi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vi(e)}function En(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ef(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Es=Math.random().toString(36).slice(2),It="__reactFiber$"+Es,Si="__reactProps$"+Es,Yt="__reactContainer$"+Es,Du="__reactEvents$"+Es,w_="__reactListeners$"+Es,__="__reactHandles$"+Es;function tr(t){var e=t[It];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yt]||n[It]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ef(t);t!==null;){if(n=t[It])return n;t=ef(t)}return e}t=n,n=t.parentNode}return null}function Xi(t){return t=t[It]||t[Yt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $r(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Fo(t){return t[Si]||null}var Lu=[],Ur=-1;function Mn(t){return{current:t}}function J(t){0>Ur||(t.current=Lu[Ur],Lu[Ur]=null,Ur--)}function K(t,e){Ur++,Lu[Ur]=t.current,t.current=e}var On={},Le=Mn(On),He=Mn(!1),mr=On;function ps(t,e){var n=t.type.contextTypes;if(!n)return On;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ke(t){return t=t.childContextTypes,t!=null}function oo(){J(He),J(Le)}function tf(t,e,n){if(Le.current!==On)throw Error(P(168));K(Le,e),K(He,n)}function ty(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(P(108,iw(t)||"Unknown",s));return ne({},n,r)}function lo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||On,mr=Le.current,K(Le,t),K(He,He.current),!0}function nf(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=ty(t,e,mr),r.__reactInternalMemoizedMergedChildContext=t,J(He),J(Le),K(Le,t)):J(He),K(He,n)}var zt=null,Vo=!1,Al=!1;function ny(t){zt===null?zt=[t]:zt.push(t)}function b_(t){Vo=!0,ny(t)}function $n(){if(!Al&&zt!==null){Al=!0;var t=0,e=W;try{var n=zt;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zt=null,Vo=!1}catch(s){throw zt!==null&&(zt=zt.slice(t+1)),Tg(Gc,$n),s}finally{W=e,Al=!1}}return null}var Fr=[],Vr=0,uo=null,co=0,lt=[],ut=0,gr=null,qt=1,Ht="";function Gn(t,e){Fr[Vr++]=co,Fr[Vr++]=uo,uo=t,co=e}function ry(t,e,n){lt[ut++]=qt,lt[ut++]=Ht,lt[ut++]=gr,gr=t;var r=qt;t=Ht;var s=32-Et(r)-1;r&=~(1<<s),n+=1;var i=32-Et(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,qt=1<<32-Et(e)+s|n<<s|r,Ht=i+t}else qt=1<<i|n<<s|r,Ht=t}function rd(t){t.return!==null&&(Gn(t,1),ry(t,1,0))}function sd(t){for(;t===uo;)uo=Fr[--Vr],Fr[Vr]=null,co=Fr[--Vr],Fr[Vr]=null;for(;t===gr;)gr=lt[--ut],lt[ut]=null,Ht=lt[--ut],lt[ut]=null,qt=lt[--ut],lt[ut]=null}var Ze=null,Xe=null,X=!1,jt=null;function sy(t,e){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function rf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ze=t,Xe=En(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ze=t,Xe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gr!==null?{id:qt,overflow:Ht}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ze=t,Xe=null,!0):!1;default:return!1}}function Mu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $u(t){if(X){var e=Xe;if(e){var n=e;if(!rf(t,e)){if(Mu(t))throw Error(P(418));e=En(n.nextSibling);var r=Ze;e&&rf(t,e)?sy(r,n):(t.flags=t.flags&-4097|2,X=!1,Ze=t)}}else{if(Mu(t))throw Error(P(418));t.flags=t.flags&-4097|2,X=!1,Ze=t}}}function sf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ze=t}function _a(t){if(t!==Ze)return!1;if(!X)return sf(t),X=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ou(t.type,t.memoizedProps)),e&&(e=Xe)){if(Mu(t))throw iy(),Error(P(418));for(;e;)sy(t,e),e=En(e.nextSibling)}if(sf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xe=En(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xe=null}}else Xe=Ze?En(t.stateNode.nextSibling):null;return!0}function iy(){for(var t=Xe;t;)t=En(t.nextSibling)}function ms(){Xe=Ze=null,X=!1}function id(t){jt===null?jt=[t]:jt.push(t)}var S_=tn.ReactCurrentBatchConfig;function $s(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function ba(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function af(t){var e=t._init;return e(t._payload)}function ay(t){function e(g,m){if(t){var y=g.deletions;y===null?(g.deletions=[m],g.flags|=16):y.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Nn(g,m),g.index=0,g.sibling=null,g}function i(g,m,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<m?(g.flags|=2,m):y):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,m,y,_){return m===null||m.tag!==6?(m=$l(y,g.mode,_),m.return=g,m):(m=s(m,y),m.return=g,m)}function l(g,m,y,_){var b=y.type;return b===Ir?d(g,m,y.props.children,_,y.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ln&&af(b)===m.type)?(_=s(m,y.props),_.ref=$s(g,m,y),_.return=g,_):(_=Ga(y.type,y.key,y.props,null,g.mode,_),_.ref=$s(g,m,y),_.return=g,_)}function u(g,m,y,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Ul(y,g.mode,_),m.return=g,m):(m=s(m,y.children||[]),m.return=g,m)}function d(g,m,y,_,b){return m===null||m.tag!==7?(m=fr(y,g.mode,_,b),m.return=g,m):(m=s(m,y),m.return=g,m)}function h(g,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=$l(""+m,g.mode,y),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case da:return y=Ga(m.type,m.key,m.props,null,g.mode,y),y.ref=$s(g,null,m),y.return=g,y;case Or:return m=Ul(m,g.mode,y),m.return=g,m;case ln:var _=m._init;return h(g,_(m._payload),y)}if(Ws(m)||Os(m))return m=fr(m,g.mode,y,null),m.return=g,m;ba(g,m)}return null}function f(g,m,y,_){var b=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:o(g,m,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case da:return y.key===b?l(g,m,y,_):null;case Or:return y.key===b?u(g,m,y,_):null;case ln:return b=y._init,f(g,m,b(y._payload),_)}if(Ws(y)||Os(y))return b!==null?null:d(g,m,y,_,null);ba(g,y)}return null}function p(g,m,y,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(y)||null,o(m,g,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case da:return g=g.get(_.key===null?y:_.key)||null,l(m,g,_,b);case Or:return g=g.get(_.key===null?y:_.key)||null,u(m,g,_,b);case ln:var j=_._init;return p(g,m,y,j(_._payload),b)}if(Ws(_)||Os(_))return g=g.get(y)||null,d(m,g,_,b,null);ba(m,_)}return null}function x(g,m,y,_){for(var b=null,j=null,T=m,E=m=0,A=null;T!==null&&E<y.length;E++){T.index>E?(A=T,T=null):A=T.sibling;var I=f(g,T,y[E],_);if(I===null){T===null&&(T=A);break}t&&T&&I.alternate===null&&e(g,T),m=i(I,m,E),j===null?b=I:j.sibling=I,j=I,T=A}if(E===y.length)return n(g,T),X&&Gn(g,E),b;if(T===null){for(;E<y.length;E++)T=h(g,y[E],_),T!==null&&(m=i(T,m,E),j===null?b=T:j.sibling=T,j=T);return X&&Gn(g,E),b}for(T=r(g,T);E<y.length;E++)A=p(T,g,E,y[E],_),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?E:A.key),m=i(A,m,E),j===null?b=A:j.sibling=A,j=A);return t&&T.forEach(function(oe){return e(g,oe)}),X&&Gn(g,E),b}function v(g,m,y,_){var b=Os(y);if(typeof b!="function")throw Error(P(150));if(y=b.call(y),y==null)throw Error(P(151));for(var j=b=null,T=m,E=m=0,A=null,I=y.next();T!==null&&!I.done;E++,I=y.next()){T.index>E?(A=T,T=null):A=T.sibling;var oe=f(g,T,I.value,_);if(oe===null){T===null&&(T=A);break}t&&T&&oe.alternate===null&&e(g,T),m=i(oe,m,E),j===null?b=oe:j.sibling=oe,j=oe,T=A}if(I.done)return n(g,T),X&&Gn(g,E),b;if(T===null){for(;!I.done;E++,I=y.next())I=h(g,I.value,_),I!==null&&(m=i(I,m,E),j===null?b=I:j.sibling=I,j=I);return X&&Gn(g,E),b}for(T=r(g,T);!I.done;E++,I=y.next())I=p(T,g,E,I.value,_),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?E:I.key),m=i(I,m,E),j===null?b=I:j.sibling=I,j=I);return t&&T.forEach(function(rn){return e(g,rn)}),X&&Gn(g,E),b}function w(g,m,y,_){if(typeof y=="object"&&y!==null&&y.type===Ir&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case da:e:{for(var b=y.key,j=m;j!==null;){if(j.key===b){if(b=y.type,b===Ir){if(j.tag===7){n(g,j.sibling),m=s(j,y.props.children),m.return=g,g=m;break e}}else if(j.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ln&&af(b)===j.type){n(g,j.sibling),m=s(j,y.props),m.ref=$s(g,j,y),m.return=g,g=m;break e}n(g,j);break}else e(g,j);j=j.sibling}y.type===Ir?(m=fr(y.props.children,g.mode,_,y.key),m.return=g,g=m):(_=Ga(y.type,y.key,y.props,null,g.mode,_),_.ref=$s(g,m,y),_.return=g,g=_)}return a(g);case Or:e:{for(j=y.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(g,m.sibling),m=s(m,y.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Ul(y,g.mode,_),m.return=g,g=m}return a(g);case ln:return j=y._init,w(g,m,j(y._payload),_)}if(Ws(y))return x(g,m,y,_);if(Os(y))return v(g,m,y,_);ba(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,y),m.return=g,g=m):(n(g,m),m=$l(y,g.mode,_),m.return=g,g=m),a(g)):n(g,m)}return w}var gs=ay(!0),oy=ay(!1),ho=Mn(null),fo=null,Br=null,ad=null;function od(){ad=Br=fo=null}function ld(t){var e=ho.current;J(ho),t._currentValue=e}function Uu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ts(t,e){fo=t,ad=Br=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qe=!0),t.firstContext=null)}function ht(t){var e=t._currentValue;if(ad!==t)if(t={context:t,memoizedValue:e,next:null},Br===null){if(fo===null)throw Error(P(308));Br=t,fo.dependencies={lanes:0,firstContext:t}}else Br=Br.next=t;return e}var nr=null;function ud(t){nr===null?nr=[t]:nr.push(t)}function ly(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ud(e)):(n.next=s.next,s.next=n),e.interleaved=n,Xt(t,r)}function Xt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var un=!1;function cd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Xt(t,n)}return s=r.interleaved,s===null?(e.next=e,ud(r)):(e.next=s.next,s.next=e),r.interleaved=e,Xt(t,n)}function Ba(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qc(t,n)}}function of(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function po(t,e,n,r){var s=t.updateQueue;un=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,d=u=l=null,o=i;do{var f=o.lane,p=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,v=o;switch(f=e,p=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=ne({},h,f);break e;case 2:un=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);vr|=a,t.lanes=a,t.memoizedState=h}}function lf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var Zi={},Lt=Mn(Zi),ji=Mn(Zi),ki=Mn(Zi);function rr(t){if(t===Zi)throw Error(P(174));return t}function dd(t,e){switch(K(ki,e),K(ji,t),K(Lt,Zi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xu(e,t)}J(Lt),K(Lt,e)}function ys(){J(Lt),J(ji),J(ki)}function cy(t){rr(ki.current);var e=rr(Lt.current),n=xu(e,t.type);e!==n&&(K(ji,t),K(Lt,n))}function hd(t){ji.current===t&&(J(Lt),J(ji))}var Z=Mn(0);function mo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rl=[];function fd(){for(var t=0;t<Rl.length;t++)Rl[t]._workInProgressVersionPrimary=null;Rl.length=0}var za=tn.ReactCurrentDispatcher,Ol=tn.ReactCurrentBatchConfig,yr=0,te=null,ye=null,_e=null,go=!1,ni=!1,Ei=0,j_=0;function Ne(){throw Error(P(321))}function pd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pt(t[n],e[n]))return!1;return!0}function md(t,e,n,r,s,i){if(yr=i,te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,za.current=t===null||t.memoizedState===null?P_:C_,t=n(r,s),ni){i=0;do{if(ni=!1,Ei=0,25<=i)throw Error(P(301));i+=1,_e=ye=null,e.updateQueue=null,za.current=N_,t=n(r,s)}while(ni)}if(za.current=yo,e=ye!==null&&ye.next!==null,yr=0,_e=ye=te=null,go=!1,e)throw Error(P(300));return t}function gd(){var t=Ei!==0;return Ei=0,t}function Nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?te.memoizedState=_e=t:_e=_e.next=t,_e}function ft(){if(ye===null){var t=te.alternate;t=t!==null?t.memoizedState:null}else t=ye.next;var e=_e===null?te.memoizedState:_e.next;if(e!==null)_e=e,ye=t;else{if(t===null)throw Error(P(310));ye=t,t={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},_e===null?te.memoizedState=_e=t:_e=_e.next=t}return _e}function Ti(t,e){return typeof e=="function"?e(t):e}function Il(t){var e=ft(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=ye,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var d=u.lane;if((yr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=r):l=l.next=h,te.lanes|=d,vr|=d}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,Pt(r,e.memoizedState)||(qe=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,te.lanes|=i,vr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dl(t){var e=ft(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Pt(i,e.memoizedState)||(qe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function dy(){}function hy(t,e){var n=te,r=ft(),s=e(),i=!Pt(r.memoizedState,s);if(i&&(r.memoizedState=s,qe=!0),r=r.queue,yd(my.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,Pi(9,py.bind(null,n,r,s,e),void 0,null),be===null)throw Error(P(349));yr&30||fy(n,e,s)}return s}function fy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function py(t,e,n,r){e.value=n,e.getSnapshot=r,gy(e)&&yy(t)}function my(t,e,n){return n(function(){gy(e)&&yy(t)})}function gy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pt(t,n)}catch{return!0}}function yy(t){var e=Xt(t,1);e!==null&&Tt(e,t,1,-1)}function uf(t){var e=Nt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:t},e.queue=t,t=t.dispatch=T_.bind(null,te,t),[e.memoizedState,t]}function Pi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vy(){return ft().memoizedState}function Wa(t,e,n,r){var s=Nt();te.flags|=t,s.memoizedState=Pi(1|e,n,void 0,r===void 0?null:r)}function Bo(t,e,n,r){var s=ft();r=r===void 0?null:r;var i=void 0;if(ye!==null){var a=ye.memoizedState;if(i=a.destroy,r!==null&&pd(r,a.deps)){s.memoizedState=Pi(e,n,i,r);return}}te.flags|=t,s.memoizedState=Pi(1|e,n,i,r)}function cf(t,e){return Wa(8390656,8,t,e)}function yd(t,e){return Bo(2048,8,t,e)}function xy(t,e){return Bo(4,2,t,e)}function wy(t,e){return Bo(4,4,t,e)}function _y(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function by(t,e,n){return n=n!=null?n.concat([t]):null,Bo(4,4,_y.bind(null,e,t),n)}function vd(){}function Sy(t,e){var n=ft();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jy(t,e){var n=ft();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ky(t,e,n){return yr&21?(Pt(n,e)||(n=Ng(),te.lanes|=n,vr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qe=!0),t.memoizedState=n)}function k_(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=Ol.transition;Ol.transition={};try{t(!1),e()}finally{W=n,Ol.transition=r}}function Ey(){return ft().memoizedState}function E_(t,e,n){var r=Cn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ty(t))Py(e,n);else if(n=ly(t,e,n,r),n!==null){var s=Fe();Tt(n,t,r,s),Cy(n,e,r)}}function T_(t,e,n){var r=Cn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ty(t))Py(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Pt(o,a)){var l=e.interleaved;l===null?(s.next=s,ud(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=ly(t,e,s,r),n!==null&&(s=Fe(),Tt(n,t,r,s),Cy(n,e,r))}}function Ty(t){var e=t.alternate;return t===te||e!==null&&e===te}function Py(t,e){ni=go=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Cy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qc(t,n)}}var yo={readContext:ht,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},P_={readContext:ht,useCallback:function(t,e){return Nt().memoizedState=[t,e===void 0?null:e],t},useContext:ht,useEffect:cf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wa(4194308,4,_y.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wa(4,2,t,e)},useMemo:function(t,e){var n=Nt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=E_.bind(null,te,t),[r.memoizedState,t]},useRef:function(t){var e=Nt();return t={current:t},e.memoizedState=t},useState:uf,useDebugValue:vd,useDeferredValue:function(t){return Nt().memoizedState=t},useTransition:function(){var t=uf(!1),e=t[0];return t=k_.bind(null,t[1]),Nt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=te,s=Nt();if(X){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),be===null)throw Error(P(349));yr&30||fy(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,cf(my.bind(null,r,i,t),[t]),r.flags|=2048,Pi(9,py.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Nt(),e=be.identifierPrefix;if(X){var n=Ht,r=qt;n=(r&~(1<<32-Et(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ei++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=j_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},C_={readContext:ht,useCallback:Sy,useContext:ht,useEffect:yd,useImperativeHandle:by,useInsertionEffect:xy,useLayoutEffect:wy,useMemo:jy,useReducer:Il,useRef:vy,useState:function(){return Il(Ti)},useDebugValue:vd,useDeferredValue:function(t){var e=ft();return ky(e,ye.memoizedState,t)},useTransition:function(){var t=Il(Ti)[0],e=ft().memoizedState;return[t,e]},useMutableSource:dy,useSyncExternalStore:hy,useId:Ey,unstable_isNewReconciler:!1},N_={readContext:ht,useCallback:Sy,useContext:ht,useEffect:yd,useImperativeHandle:by,useInsertionEffect:xy,useLayoutEffect:wy,useMemo:jy,useReducer:Dl,useRef:vy,useState:function(){return Dl(Ti)},useDebugValue:vd,useDeferredValue:function(t){var e=ft();return ye===null?e.memoizedState=t:ky(e,ye.memoizedState,t)},useTransition:function(){var t=Dl(Ti)[0],e=ft().memoizedState;return[t,e]},useMutableSource:dy,useSyncExternalStore:hy,useId:Ey,unstable_isNewReconciler:!1};function yt(t,e){if(t&&t.defaultProps){e=ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zo={isMounted:function(t){return(t=t._reactInternals)?_r(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Fe(),s=Cn(t),i=Kt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Tn(t,i,s),e!==null&&(Tt(e,t,s,r),Ba(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Fe(),s=Cn(t),i=Kt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Tn(t,i,s),e!==null&&(Tt(e,t,s,r),Ba(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Fe(),r=Cn(t),s=Kt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Tn(t,s,r),e!==null&&(Tt(e,t,r,n),Ba(e,t,r))}};function df(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!wi(n,r)||!wi(s,i):!0}function Ny(t,e,n){var r=!1,s=On,i=e.contextType;return typeof i=="object"&&i!==null?i=ht(i):(s=Ke(e)?mr:Le.current,r=e.contextTypes,i=(r=r!=null)?ps(t,s):On),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function hf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zo.enqueueReplaceState(e,e.state,null)}function Vu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},cd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ht(i):(i=Ke(e)?mr:Le.current,s.context=ps(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Fu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zo.enqueueReplaceState(s,s.state,null),po(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function vs(t,e){try{var n="",r=e;do n+=sw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ll(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var A_=typeof WeakMap=="function"?WeakMap:Map;function Ay(t,e,n){n=Kt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xo||(xo=!0,Xu=r),Bu(t,e)},n}function Ry(t,e,n){n=Kt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Bu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Bu(t,e),typeof r!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function ff(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new A_;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=q_.bind(null,t,e,n),e.then(t,t))}function pf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kt(-1,1),e.tag=2,Tn(n,e,1))),n.lanes|=1),t)}var R_=tn.ReactCurrentOwner,qe=!1;function $e(t,e,n,r){e.child=t===null?oy(e,null,n,r):gs(e,t.child,n,r)}function gf(t,e,n,r,s){n=n.render;var i=e.ref;return ts(e,s),r=md(t,e,n,r,i,s),n=gd(),t!==null&&!qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zt(t,e,s)):(X&&n&&rd(e),e.flags|=1,$e(t,e,r,s),e.child)}function yf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ed(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Oy(t,e,i,r,s)):(t=Ga(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:wi,n(a,r)&&t.ref===e.ref)return Zt(t,e,s)}return e.flags|=1,t=Nn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Oy(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(wi(i,r)&&t.ref===e.ref)if(qe=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(qe=!0);else return e.lanes=t.lanes,Zt(t,e,s)}return zu(t,e,n,r,s)}function Iy(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Wr,Je),Je|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(Wr,Je),Je|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(Wr,Je),Je|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,K(Wr,Je),Je|=r;return $e(t,e,s,n),e.child}function Dy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zu(t,e,n,r,s){var i=Ke(n)?mr:Le.current;return i=ps(e,i),ts(e,s),n=md(t,e,n,r,i,s),r=gd(),t!==null&&!qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zt(t,e,s)):(X&&r&&rd(e),e.flags|=1,$e(t,e,n,s),e.child)}function vf(t,e,n,r,s){if(Ke(n)){var i=!0;lo(e)}else i=!1;if(ts(e,s),e.stateNode===null)qa(t,e),Ny(e,n,r),Vu(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=Ke(n)?mr:Le.current,u=ps(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&hf(e,a,r,u),un=!1;var f=e.memoizedState;a.state=f,po(e,r,a,s),l=e.memoizedState,o!==r||f!==l||He.current||un?(typeof d=="function"&&(Fu(e,n,d,r),l=e.memoizedState),(o=un||df(e,n,o,r,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,uy(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:yt(e.type,o),a.props=u,h=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ht(l):(l=Ke(n)?mr:Le.current,l=ps(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&hf(e,a,r,l),un=!1,f=e.memoizedState,a.state=f,po(e,r,a,s);var x=e.memoizedState;o!==h||f!==x||He.current||un?(typeof p=="function"&&(Fu(e,n,p,r),x=e.memoizedState),(u=un||df(e,n,u,r,f,x,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Wu(t,e,n,r,i,s)}function Wu(t,e,n,r,s,i){Dy(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&nf(e,n,!1),Zt(t,e,i);r=e.stateNode,R_.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=gs(e,t.child,null,i),e.child=gs(e,null,o,i)):$e(t,e,o,i),e.memoizedState=r.state,s&&nf(e,n,!0),e.child}function Ly(t){var e=t.stateNode;e.pendingContext?tf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tf(t,e.context,!1),dd(t,e.containerInfo)}function xf(t,e,n,r,s){return ms(),id(s),e.flags|=256,$e(t,e,n,r),e.child}var qu={dehydrated:null,treeContext:null,retryLane:0};function Hu(t){return{baseLanes:t,cachePool:null,transitions:null}}function My(t,e,n){var r=e.pendingProps,s=Z.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),K(Z,s&1),t===null)return $u(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ho(a,r,0,null),t=fr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Hu(n),e.memoizedState=qu,t):xd(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return O_(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Nn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Nn(o,i):(i=fr(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Hu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=qu,r}return i=t.child,t=i.sibling,r=Nn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xd(t,e){return e=Ho({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sa(t,e,n,r){return r!==null&&id(r),gs(e,t.child,null,n),t=xd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function O_(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Ll(Error(P(422))),Sa(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ho({mode:"visible",children:r.children},s,0,null),i=fr(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&gs(e,t.child,null,a),e.child.memoizedState=Hu(a),e.memoizedState=qu,i);if(!(e.mode&1))return Sa(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(P(419)),r=Ll(i,r,void 0),Sa(t,e,a,r)}if(o=(a&t.childLanes)!==0,qe||o){if(r=be,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xt(t,s),Tt(r,t,s,-1))}return kd(),r=Ll(Error(P(421))),Sa(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=H_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Xe=En(s.nextSibling),Ze=e,X=!0,jt=null,t!==null&&(lt[ut++]=qt,lt[ut++]=Ht,lt[ut++]=gr,qt=t.id,Ht=t.overflow,gr=e),e=xd(e,r.children),e.flags|=4096,e)}function wf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Uu(t.return,e,n)}function Ml(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function $y(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($e(t,e,r.children,n),r=Z.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wf(t,n,e);else if(t.tag===19)wf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(Z,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&mo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ml(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ml(e,!0,n,null,i);break;case"together":Ml(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Nn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function I_(t,e,n){switch(e.tag){case 3:Ly(e),ms();break;case 5:cy(e);break;case 1:Ke(e.type)&&lo(e);break;case 4:dd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;K(ho,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(K(Z,Z.current&1),e.flags|=128,null):n&e.child.childLanes?My(t,e,n):(K(Z,Z.current&1),t=Zt(t,e,n),t!==null?t.sibling:null);K(Z,Z.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $y(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(Z,Z.current),r)break;return null;case 22:case 23:return e.lanes=0,Iy(t,e,n)}return Zt(t,e,n)}var Uy,Ku,Fy,Vy;Uy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ku=function(){};Fy=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,rr(Lt.current);var i=null;switch(n){case"input":s=mu(t,s),r=mu(t,r),i=[];break;case"select":s=ne({},s,{value:void 0}),r=ne({},r,{value:void 0}),i=[];break;case"textarea":s=vu(t,s),r=vu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ao)}wu(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&G("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Vy=function(t,e,n,r){n!==r&&(e.flags|=4)};function Us(t,e){if(!X)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function D_(t,e,n){var r=e.pendingProps;switch(sd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(e),null;case 1:return Ke(e.type)&&oo(),Ae(e),null;case 3:return r=e.stateNode,ys(),J(He),J(Le),fd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_a(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jt!==null&&(tc(jt),jt=null))),Ku(t,e),Ae(e),null;case 5:hd(e);var s=rr(ki.current);if(n=e.type,t!==null&&e.stateNode!=null)Fy(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return Ae(e),null}if(t=rr(Lt.current),_a(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[It]=e,r[Si]=i,t=(e.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(s=0;s<Hs.length;s++)G(Hs[s],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":Ph(r,i),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},G("invalid",r);break;case"textarea":Nh(r,i),G("invalid",r)}wu(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&wa(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&wa(r.textContent,o,t),s=["children",""+o]):fi.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&G("scroll",r)}switch(n){case"input":ha(r),Ch(r,i,!0);break;case"textarea":ha(r),Ah(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ao)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[It]=e,t[Si]=r,Uy(t,e,!1,!1),e.stateNode=t;e:{switch(a=_u(n,r),n){case"dialog":G("cancel",t),G("close",t),s=r;break;case"iframe":case"object":case"embed":G("load",t),s=r;break;case"video":case"audio":for(s=0;s<Hs.length;s++)G(Hs[s],t);s=r;break;case"source":G("error",t),s=r;break;case"img":case"image":case"link":G("error",t),G("load",t),s=r;break;case"details":G("toggle",t),s=r;break;case"input":Ph(t,r),s=mu(t,r),G("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ne({},r,{value:void 0}),G("invalid",t);break;case"textarea":Nh(t,r),s=vu(t,r),G("invalid",t);break;default:s=r}wu(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?vg(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gg(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&pi(t,l):typeof l=="number"&&pi(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&G("scroll",t):l!=null&&zc(t,i,l,a))}switch(n){case"input":ha(t),Ch(t,r,!1);break;case"textarea":ha(t),Ah(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Yr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Yr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ao)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ae(e),null;case 6:if(t&&e.stateNode!=null)Vy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=rr(ki.current),rr(Lt.current),_a(e)){if(r=e.stateNode,n=e.memoizedProps,r[It]=e,(i=r.nodeValue!==n)&&(t=Ze,t!==null))switch(t.tag){case 3:wa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wa(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=e,e.stateNode=r}return Ae(e),null;case 13:if(J(Z),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(X&&Xe!==null&&e.mode&1&&!(e.flags&128))iy(),ms(),e.flags|=98560,i=!1;else if(i=_a(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[It]=e}else ms(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),i=!1}else jt!==null&&(tc(jt),jt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Z.current&1?ve===0&&(ve=3):kd())),e.updateQueue!==null&&(e.flags|=4),Ae(e),null);case 4:return ys(),Ku(t,e),t===null&&_i(e.stateNode.containerInfo),Ae(e),null;case 10:return ld(e.type._context),Ae(e),null;case 17:return Ke(e.type)&&oo(),Ae(e),null;case 19:if(J(Z),i=e.memoizedState,i===null)return Ae(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Us(i,!1);else{if(ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=mo(t),a!==null){for(e.flags|=128,Us(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(Z,Z.current&1|2),e.child}t=t.sibling}i.tail!==null&&de()>xs&&(e.flags|=128,r=!0,Us(i,!1),e.lanes=4194304)}else{if(!r)if(t=mo(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Us(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!X)return Ae(e),null}else 2*de()-i.renderingStartTime>xs&&n!==1073741824&&(e.flags|=128,r=!0,Us(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=de(),e.sibling=null,n=Z.current,K(Z,r?n&1|2:n&1),e):(Ae(e),null);case 22:case 23:return jd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Je&1073741824&&(Ae(e),e.subtreeFlags&6&&(e.flags|=8192)):Ae(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function L_(t,e){switch(sd(e),e.tag){case 1:return Ke(e.type)&&oo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ys(),J(He),J(Le),fd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hd(e),null;case 13:if(J(Z),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));ms()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(Z),null;case 4:return ys(),null;case 10:return ld(e.type._context),null;case 22:case 23:return jd(),null;case 24:return null;default:return null}}var ja=!1,Ie=!1,M_=typeof WeakSet=="function"?WeakSet:Set,N=null;function zr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(t,e,r)}else n.current=null}function Gu(t,e,n){try{n()}catch(r){ae(t,e,r)}}var _f=!1;function $_(t,e){if(Au=ro,t=Hg(),nd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(o=a+s),h!==i||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===s&&(o=a),f===i&&++d===r&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ru={focusedElem:t,selectionRange:n},ro=!1,N=e;N!==null;)if(e=N,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,N=t;else for(;N!==null;){e=N;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,w=x.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:yt(e.type,v),w);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(_){ae(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,N=t;break}N=e.return}return x=_f,_f=!1,x}function ri(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Gu(e,n,i)}s=s.next}while(s!==r)}}function Wo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function By(t){var e=t.alternate;e!==null&&(t.alternate=null,By(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[It],delete e[Si],delete e[Du],delete e[w_],delete e[__])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zy(t){return t.tag===5||t.tag===3||t.tag===4}function bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ju(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ao));else if(r!==4&&(t=t.child,t!==null))for(Ju(t,e,n),t=t.sibling;t!==null;)Ju(t,e,n),t=t.sibling}function Yu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yu(t,e,n),t=t.sibling;t!==null;)Yu(t,e,n),t=t.sibling}var ke=null,bt=!1;function sn(t,e,n){for(n=n.child;n!==null;)Wy(t,e,n),n=n.sibling}function Wy(t,e,n){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Lo,n)}catch{}switch(n.tag){case 5:Ie||zr(n,e);case 6:var r=ke,s=bt;ke=null,sn(t,e,n),ke=r,bt=s,ke!==null&&(bt?(t=ke,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ke.removeChild(n.stateNode));break;case 18:ke!==null&&(bt?(t=ke,n=n.stateNode,t.nodeType===8?Nl(t.parentNode,n):t.nodeType===1&&Nl(t,n),vi(t)):Nl(ke,n.stateNode));break;case 4:r=ke,s=bt,ke=n.stateNode.containerInfo,bt=!0,sn(t,e,n),ke=r,bt=s;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Gu(n,e,a),s=s.next}while(s!==r)}sn(t,e,n);break;case 1:if(!Ie&&(zr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ae(n,e,o)}sn(t,e,n);break;case 21:sn(t,e,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,sn(t,e,n),Ie=r):sn(t,e,n);break;default:sn(t,e,n)}}function Sf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new M_),e.forEach(function(r){var s=K_.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function pt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ke=o.stateNode,bt=!1;break e;case 3:ke=o.stateNode.containerInfo,bt=!0;break e;case 4:ke=o.stateNode.containerInfo,bt=!0;break e}o=o.return}if(ke===null)throw Error(P(160));Wy(i,a,s),ke=null,bt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ae(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qy(e,t),e=e.sibling}function qy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pt(e,t),Ct(t),r&4){try{ri(3,t,t.return),Wo(3,t)}catch(v){ae(t,t.return,v)}try{ri(5,t,t.return)}catch(v){ae(t,t.return,v)}}break;case 1:pt(e,t),Ct(t),r&512&&n!==null&&zr(n,n.return);break;case 5:if(pt(e,t),Ct(t),r&512&&n!==null&&zr(n,n.return),t.flags&32){var s=t.stateNode;try{pi(s,"")}catch(v){ae(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&fg(s,i),_u(o,a);var u=_u(o,i);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?vg(s,h):d==="dangerouslySetInnerHTML"?gg(s,h):d==="children"?pi(s,h):zc(s,d,h,u)}switch(o){case"input":gu(s,i);break;case"textarea":pg(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Yr(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Yr(s,!!i.multiple,i.defaultValue,!0):Yr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Si]=i}catch(v){ae(t,t.return,v)}}break;case 6:if(pt(e,t),Ct(t),r&4){if(t.stateNode===null)throw Error(P(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){ae(t,t.return,v)}}break;case 3:if(pt(e,t),Ct(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vi(e.containerInfo)}catch(v){ae(t,t.return,v)}break;case 4:pt(e,t),Ct(t);break;case 13:pt(e,t),Ct(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(bd=de())),r&4&&Sf(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ie=(u=Ie)||d,pt(e,t),Ie=u):pt(e,t),Ct(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(N=t,d=t.child;d!==null;){for(h=N=d;N!==null;){switch(f=N,p=f.child,f.tag){case 0:case 11:case 14:case 15:ri(4,f,f.return);break;case 1:zr(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){ae(r,n,v)}}break;case 5:zr(f,f.return);break;case 22:if(f.memoizedState!==null){kf(h);continue}}p!==null?(p.return=f,N=p):kf(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=yg("display",a))}catch(v){ae(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ae(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pt(e,t),Ct(t),r&4&&Sf(t);break;case 21:break;default:pt(e,t),Ct(t)}}function Ct(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zy(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pi(s,""),r.flags&=-33);var i=bf(t);Yu(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=bf(t);Ju(t,o,a);break;default:throw Error(P(161))}}catch(l){ae(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function U_(t,e,n){N=t,Hy(t)}function Hy(t,e,n){for(var r=(t.mode&1)!==0;N!==null;){var s=N,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ja;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Ie;o=ja;var u=Ie;if(ja=a,(Ie=l)&&!u)for(N=s;N!==null;)a=N,l=a.child,a.tag===22&&a.memoizedState!==null?Ef(s):l!==null?(l.return=a,N=l):Ef(s);for(;i!==null;)N=i,Hy(i),i=i.sibling;N=s,ja=o,Ie=u}jf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,N=i):jf(t)}}function jf(t){for(;N!==null;){var e=N;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ie||Wo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:yt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&lf(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lf(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&vi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ie||e.flags&512&&Qu(e)}catch(f){ae(e,e.return,f)}}if(e===t){N=null;break}if(n=e.sibling,n!==null){n.return=e.return,N=n;break}N=e.return}}function kf(t){for(;N!==null;){var e=N;if(e===t){N=null;break}var n=e.sibling;if(n!==null){n.return=e.return,N=n;break}N=e.return}}function Ef(t){for(;N!==null;){var e=N;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wo(4,e)}catch(l){ae(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ae(e,s,l)}}var i=e.return;try{Qu(e)}catch(l){ae(e,i,l)}break;case 5:var a=e.return;try{Qu(e)}catch(l){ae(e,a,l)}}}catch(l){ae(e,e.return,l)}if(e===t){N=null;break}var o=e.sibling;if(o!==null){o.return=e.return,N=o;break}N=e.return}}var F_=Math.ceil,vo=tn.ReactCurrentDispatcher,wd=tn.ReactCurrentOwner,dt=tn.ReactCurrentBatchConfig,z=0,be=null,pe=null,Te=0,Je=0,Wr=Mn(0),ve=0,Ci=null,vr=0,qo=0,_d=0,si=null,ze=null,bd=0,xs=1/0,Vt=null,xo=!1,Xu=null,Pn=null,ka=!1,_n=null,wo=0,ii=0,Zu=null,Ha=-1,Ka=0;function Fe(){return z&6?de():Ha!==-1?Ha:Ha=de()}function Cn(t){return t.mode&1?z&2&&Te!==0?Te&-Te:S_.transition!==null?(Ka===0&&(Ka=Ng()),Ka):(t=W,t!==0||(t=window.event,t=t===void 0?16:Mg(t.type)),t):1}function Tt(t,e,n,r){if(50<ii)throw ii=0,Zu=null,Error(P(185));Ji(t,n,r),(!(z&2)||t!==be)&&(t===be&&(!(z&2)&&(qo|=n),ve===4&&hn(t,Te)),Ge(t,r),n===1&&z===0&&!(e.mode&1)&&(xs=de()+500,Vo&&$n()))}function Ge(t,e){var n=t.callbackNode;Sw(t,e);var r=no(t,t===be?Te:0);if(r===0)n!==null&&Ih(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ih(n),e===1)t.tag===0?b_(Tf.bind(null,t)):ny(Tf.bind(null,t)),v_(function(){!(z&6)&&$n()}),n=null;else{switch(Ag(r)){case 1:n=Gc;break;case 4:n=Pg;break;case 16:n=to;break;case 536870912:n=Cg;break;default:n=to}n=ev(n,Ky.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ky(t,e){if(Ha=-1,Ka=0,z&6)throw Error(P(327));var n=t.callbackNode;if(ns()&&t.callbackNode!==n)return null;var r=no(t,t===be?Te:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_o(t,r);else{e=r;var s=z;z|=2;var i=Qy();(be!==t||Te!==e)&&(Vt=null,xs=de()+500,hr(t,e));do try{z_();break}catch(o){Gy(t,o)}while(!0);od(),vo.current=i,z=s,pe!==null?e=0:(be=null,Te=0,e=ve)}if(e!==0){if(e===2&&(s=Eu(t),s!==0&&(r=s,e=ec(t,s))),e===1)throw n=Ci,hr(t,0),hn(t,r),Ge(t,de()),n;if(e===6)hn(t,r);else{if(s=t.current.alternate,!(r&30)&&!V_(s)&&(e=_o(t,r),e===2&&(i=Eu(t),i!==0&&(r=i,e=ec(t,i))),e===1))throw n=Ci,hr(t,0),hn(t,r),Ge(t,de()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:Qn(t,ze,Vt);break;case 3:if(hn(t,r),(r&130023424)===r&&(e=bd+500-de(),10<e)){if(no(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Fe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Iu(Qn.bind(null,t,ze,Vt),e);break}Qn(t,ze,Vt);break;case 4:if(hn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Et(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*F_(r/1960))-r,10<r){t.timeoutHandle=Iu(Qn.bind(null,t,ze,Vt),r);break}Qn(t,ze,Vt);break;case 5:Qn(t,ze,Vt);break;default:throw Error(P(329))}}}return Ge(t,de()),t.callbackNode===n?Ky.bind(null,t):null}function ec(t,e){var n=si;return t.current.memoizedState.isDehydrated&&(hr(t,e).flags|=256),t=_o(t,e),t!==2&&(e=ze,ze=n,e!==null&&tc(e)),t}function tc(t){ze===null?ze=t:ze.push.apply(ze,t)}function V_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Pt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hn(t,e){for(e&=~_d,e&=~qo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Et(e),r=1<<n;t[n]=-1,e&=~r}}function Tf(t){if(z&6)throw Error(P(327));ns();var e=no(t,0);if(!(e&1))return Ge(t,de()),null;var n=_o(t,e);if(t.tag!==0&&n===2){var r=Eu(t);r!==0&&(e=r,n=ec(t,r))}if(n===1)throw n=Ci,hr(t,0),hn(t,e),Ge(t,de()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qn(t,ze,Vt),Ge(t,de()),null}function Sd(t,e){var n=z;z|=1;try{return t(e)}finally{z=n,z===0&&(xs=de()+500,Vo&&$n())}}function xr(t){_n!==null&&_n.tag===0&&!(z&6)&&ns();var e=z;z|=1;var n=dt.transition,r=W;try{if(dt.transition=null,W=1,t)return t()}finally{W=r,dt.transition=n,z=e,!(z&6)&&$n()}}function jd(){Je=Wr.current,J(Wr)}function hr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,y_(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(sd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oo();break;case 3:ys(),J(He),J(Le),fd();break;case 5:hd(r);break;case 4:ys();break;case 13:J(Z);break;case 19:J(Z);break;case 10:ld(r.type._context);break;case 22:case 23:jd()}n=n.return}if(be=t,pe=t=Nn(t.current,null),Te=Je=e,ve=0,Ci=null,_d=qo=vr=0,ze=si=null,nr!==null){for(e=0;e<nr.length;e++)if(n=nr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}nr=null}return t}function Gy(t,e){do{var n=pe;try{if(od(),za.current=yo,go){for(var r=te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}go=!1}if(yr=0,_e=ye=te=null,ni=!1,Ei=0,wd.current=null,n===null||n.return===null){ve=1,Ci=e,pe=null;break}e:{var i=t,a=n.return,o=n,l=e;if(e=Te,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=pf(a);if(p!==null){p.flags&=-257,mf(p,a,o,i,e),p.mode&1&&ff(i,u,e),e=p,l=u;var x=e.updateQueue;if(x===null){var v=new Set;v.add(l),e.updateQueue=v}else x.add(l);break e}else{if(!(e&1)){ff(i,u,e),kd();break e}l=Error(P(426))}}else if(X&&o.mode&1){var w=pf(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),mf(w,a,o,i,e),id(vs(l,o));break e}}i=l=vs(l,o),ve!==4&&(ve=2),si===null?si=[i]:si.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Ay(i,l,e);of(i,g);break e;case 1:o=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Pn===null||!Pn.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Ry(i,o,e);of(i,_);break e}}i=i.return}while(i!==null)}Yy(n)}catch(b){e=b,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(!0)}function Qy(){var t=vo.current;return vo.current=yo,t===null?yo:t}function kd(){(ve===0||ve===3||ve===2)&&(ve=4),be===null||!(vr&268435455)&&!(qo&268435455)||hn(be,Te)}function _o(t,e){var n=z;z|=2;var r=Qy();(be!==t||Te!==e)&&(Vt=null,hr(t,e));do try{B_();break}catch(s){Gy(t,s)}while(!0);if(od(),z=n,vo.current=r,pe!==null)throw Error(P(261));return be=null,Te=0,ve}function B_(){for(;pe!==null;)Jy(pe)}function z_(){for(;pe!==null&&!pw();)Jy(pe)}function Jy(t){var e=Zy(t.alternate,t,Je);t.memoizedProps=t.pendingProps,e===null?Yy(t):pe=e,wd.current=null}function Yy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=L_(n,e),n!==null){n.flags&=32767,pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ve=6,pe=null;return}}else if(n=D_(n,e,Je),n!==null){pe=n;return}if(e=e.sibling,e!==null){pe=e;return}pe=e=t}while(e!==null);ve===0&&(ve=5)}function Qn(t,e,n){var r=W,s=dt.transition;try{dt.transition=null,W=1,W_(t,e,n,r)}finally{dt.transition=s,W=r}return null}function W_(t,e,n,r){do ns();while(_n!==null);if(z&6)throw Error(P(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(jw(t,i),t===be&&(pe=be=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ka||(ka=!0,ev(to,function(){return ns(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dt.transition,dt.transition=null;var a=W;W=1;var o=z;z|=4,wd.current=null,$_(t,n),qy(n,t),c_(Ru),ro=!!Au,Ru=Au=null,t.current=n,U_(n),mw(),z=o,W=a,dt.transition=i}else t.current=n;if(ka&&(ka=!1,_n=t,wo=s),i=t.pendingLanes,i===0&&(Pn=null),vw(n.stateNode),Ge(t,de()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(xo)throw xo=!1,t=Xu,Xu=null,t;return wo&1&&t.tag!==0&&ns(),i=t.pendingLanes,i&1?t===Zu?ii++:(ii=0,Zu=t):ii=0,$n(),null}function ns(){if(_n!==null){var t=Ag(wo),e=dt.transition,n=W;try{if(dt.transition=null,W=16>t?16:t,_n===null)var r=!1;else{if(t=_n,_n=null,wo=0,z&6)throw Error(P(331));var s=z;for(z|=4,N=t.current;N!==null;){var i=N,a=i.child;if(N.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(N=u;N!==null;){var d=N;switch(d.tag){case 0:case 11:case 15:ri(8,d,i)}var h=d.child;if(h!==null)h.return=d,N=h;else for(;N!==null;){d=N;var f=d.sibling,p=d.return;if(By(d),d===u){N=null;break}if(f!==null){f.return=p,N=f;break}N=p}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}N=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,N=a;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ri(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,N=g;break e}N=i.return}}var m=t.current;for(N=m;N!==null;){a=N;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,N=y;else e:for(a=m;N!==null;){if(o=N,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Wo(9,o)}}catch(b){ae(o,o.return,b)}if(o===a){N=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,N=_;break e}N=o.return}}if(z=s,$n(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Lo,t)}catch{}r=!0}return r}finally{W=n,dt.transition=e}}return!1}function Pf(t,e,n){e=vs(n,e),e=Ay(t,e,1),t=Tn(t,e,1),e=Fe(),t!==null&&(Ji(t,1,e),Ge(t,e))}function ae(t,e,n){if(t.tag===3)Pf(t,t,n);else for(;e!==null;){if(e.tag===3){Pf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pn===null||!Pn.has(r))){t=vs(n,t),t=Ry(e,t,1),e=Tn(e,t,1),t=Fe(),e!==null&&(Ji(e,1,t),Ge(e,t));break}}e=e.return}}function q_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Fe(),t.pingedLanes|=t.suspendedLanes&n,be===t&&(Te&n)===n&&(ve===4||ve===3&&(Te&130023424)===Te&&500>de()-bd?hr(t,0):_d|=n),Ge(t,e)}function Xy(t,e){e===0&&(t.mode&1?(e=ma,ma<<=1,!(ma&130023424)&&(ma=4194304)):e=1);var n=Fe();t=Xt(t,e),t!==null&&(Ji(t,e,n),Ge(t,n))}function H_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Xy(t,n)}function K_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),Xy(t,n)}var Zy;Zy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||He.current)qe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qe=!1,I_(t,e,n);qe=!!(t.flags&131072)}else qe=!1,X&&e.flags&1048576&&ry(e,co,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qa(t,e),t=e.pendingProps;var s=ps(e,Le.current);ts(e,n),s=md(null,e,r,t,s,n);var i=gd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ke(r)?(i=!0,lo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cd(e),s.updater=zo,e.stateNode=s,s._reactInternals=e,Vu(e,r,t,n),e=Wu(null,e,r,!0,i,n)):(e.tag=0,X&&i&&rd(e),$e(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qa(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Q_(r),t=yt(r,t),s){case 0:e=zu(null,e,r,t,n);break e;case 1:e=vf(null,e,r,t,n);break e;case 11:e=gf(null,e,r,t,n);break e;case 14:e=yf(null,e,r,yt(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yt(r,s),zu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yt(r,s),vf(t,e,r,s,n);case 3:e:{if(Ly(e),t===null)throw Error(P(387));r=e.pendingProps,i=e.memoizedState,s=i.element,uy(t,e),po(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=vs(Error(P(423)),e),e=xf(t,e,r,n,s);break e}else if(r!==s){s=vs(Error(P(424)),e),e=xf(t,e,r,n,s);break e}else for(Xe=En(e.stateNode.containerInfo.firstChild),Ze=e,X=!0,jt=null,n=oy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ms(),r===s){e=Zt(t,e,n);break e}$e(t,e,r,n)}e=e.child}return e;case 5:return cy(e),t===null&&$u(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Ou(r,s)?a=null:i!==null&&Ou(r,i)&&(e.flags|=32),Dy(t,e),$e(t,e,a,n),e.child;case 6:return t===null&&$u(e),null;case 13:return My(t,e,n);case 4:return dd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gs(e,null,r,n):$e(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yt(r,s),gf(t,e,r,s,n);case 7:return $e(t,e,e.pendingProps,n),e.child;case 8:return $e(t,e,e.pendingProps.children,n),e.child;case 12:return $e(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,K(ho,r._currentValue),r._currentValue=a,i!==null)if(Pt(i.value,a)){if(i.children===s.children&&!He.current){e=Zt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Kt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Uu(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(P(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Uu(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}$e(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ts(e,n),s=ht(s),r=r(s),e.flags|=1,$e(t,e,r,n),e.child;case 14:return r=e.type,s=yt(r,e.pendingProps),s=yt(r.type,s),yf(t,e,r,s,n);case 15:return Oy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yt(r,s),qa(t,e),e.tag=1,Ke(r)?(t=!0,lo(e)):t=!1,ts(e,n),Ny(e,r,s),Vu(e,r,s,n),Wu(null,e,r,!0,t,n);case 19:return $y(t,e,n);case 22:return Iy(t,e,n)}throw Error(P(156,e.tag))};function ev(t,e){return Tg(t,e)}function G_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(t,e,n,r){return new G_(t,e,n,r)}function Ed(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q_(t){if(typeof t=="function")return Ed(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qc)return 11;if(t===Hc)return 14}return 2}function Nn(t,e){var n=t.alternate;return n===null?(n=ct(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ga(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Ed(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ir:return fr(n.children,s,i,e);case Wc:a=8,s|=8;break;case du:return t=ct(12,n,e,s|2),t.elementType=du,t.lanes=i,t;case hu:return t=ct(13,n,e,s),t.elementType=hu,t.lanes=i,t;case fu:return t=ct(19,n,e,s),t.elementType=fu,t.lanes=i,t;case cg:return Ho(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lg:a=10;break e;case ug:a=9;break e;case qc:a=11;break e;case Hc:a=14;break e;case ln:a=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=ct(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function fr(t,e,n,r){return t=ct(7,t,r,e),t.lanes=n,t}function Ho(t,e,n,r){return t=ct(22,t,r,e),t.elementType=cg,t.lanes=n,t.stateNode={isHidden:!1},t}function $l(t,e,n){return t=ct(6,t,null,e),t.lanes=n,t}function Ul(t,e,n){return e=ct(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function J_(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xl(0),this.expirationTimes=xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Td(t,e,n,r,s,i,a,o,l){return t=new J_(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ct(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cd(i),t}function Y_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Or,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tv(t){if(!t)return On;t=t._reactInternals;e:{if(_r(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ke(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Ke(n))return ty(t,n,e)}return e}function nv(t,e,n,r,s,i,a,o,l){return t=Td(n,r,!0,t,s,i,a,o,l),t.context=tv(null),n=t.current,r=Fe(),s=Cn(n),i=Kt(r,s),i.callback=e??null,Tn(n,i,s),t.current.lanes=s,Ji(t,s,r),Ge(t,r),t}function Ko(t,e,n,r){var s=e.current,i=Fe(),a=Cn(s);return n=tv(n),e.context===null?e.context=n:e.pendingContext=n,e=Kt(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Tn(s,e,a),t!==null&&(Tt(t,s,a,i),Ba(t,s,a)),a}function bo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Pd(t,e){Cf(t,e),(t=t.alternate)&&Cf(t,e)}function X_(){return null}var rv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cd(t){this._internalRoot=t}Go.prototype.render=Cd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Ko(t,e,null,null)};Go.prototype.unmount=Cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xr(function(){Ko(null,t,null,null)}),e[Yt]=null}};function Go(t){this._internalRoot=t}Go.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ig();t={blockedOn:null,target:t,priority:e};for(var n=0;n<dn.length&&e!==0&&e<dn[n].priority;n++);dn.splice(n,0,t),n===0&&Lg(t)}};function Nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nf(){}function Z_(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=bo(a);i.call(u)}}var a=nv(e,r,t,0,null,!1,!1,"",Nf);return t._reactRootContainer=a,t[Yt]=a.current,_i(t.nodeType===8?t.parentNode:t),xr(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=bo(l);o.call(u)}}var l=Td(t,0,!1,null,null,!1,!1,"",Nf);return t._reactRootContainer=l,t[Yt]=l.current,_i(t.nodeType===8?t.parentNode:t),xr(function(){Ko(e,l,n,r)}),l}function Jo(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=bo(a);o.call(l)}}Ko(e,a,t,s)}else a=Z_(n,e,t,s,r);return bo(a)}Rg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qs(e.pendingLanes);n!==0&&(Qc(e,n|1),Ge(e,de()),!(z&6)&&(xs=de()+500,$n()))}break;case 13:xr(function(){var r=Xt(t,1);if(r!==null){var s=Fe();Tt(r,t,1,s)}}),Pd(t,1)}};Jc=function(t){if(t.tag===13){var e=Xt(t,134217728);if(e!==null){var n=Fe();Tt(e,t,134217728,n)}Pd(t,134217728)}};Og=function(t){if(t.tag===13){var e=Cn(t),n=Xt(t,e);if(n!==null){var r=Fe();Tt(n,t,e,r)}Pd(t,e)}};Ig=function(){return W};Dg=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};Su=function(t,e,n){switch(e){case"input":if(gu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Fo(r);if(!s)throw Error(P(90));hg(r),gu(r,s)}}}break;case"textarea":pg(t,n);break;case"select":e=n.value,e!=null&&Yr(t,!!n.multiple,e,!1)}};_g=Sd;bg=xr;var eb={usingClientEntryPoint:!1,Events:[Xi,$r,Fo,xg,wg,Sd]},Fs={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tb={bundleType:Fs.bundleType,version:Fs.version,rendererPackageName:Fs.rendererPackageName,rendererConfig:Fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kg(t),t===null?null:t.stateNode},findFiberByHostInstance:Fs.findFiberByHostInstance||X_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ea=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ea.isDisabled&&Ea.supportsFiber)try{Lo=Ea.inject(tb),Dt=Ea}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eb;rt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nd(e))throw Error(P(200));return Y_(t,e,null,n)};rt.createRoot=function(t,e){if(!Nd(t))throw Error(P(299));var n=!1,r="",s=rv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Td(t,1,!1,null,null,n,!1,r,s),t[Yt]=e.current,_i(t.nodeType===8?t.parentNode:t),new Cd(e)};rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=kg(e),t=t===null?null:t.stateNode,t};rt.flushSync=function(t){return xr(t)};rt.hydrate=function(t,e,n){if(!Qo(e))throw Error(P(200));return Jo(null,t,e,!0,n)};rt.hydrateRoot=function(t,e,n){if(!Nd(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=rv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=nv(e,null,t,1,n??null,s,!1,i,a),t[Yt]=e.current,_i(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Go(e)};rt.render=function(t,e,n){if(!Qo(e))throw Error(P(200));return Jo(null,t,e,!1,n)};rt.unmountComponentAtNode=function(t){if(!Qo(t))throw Error(P(40));return t._reactRootContainer?(xr(function(){Jo(null,null,t,!1,function(){t._reactRootContainer=null,t[Yt]=null})}),!0):!1};rt.unstable_batchedUpdates=Sd;rt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qo(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Jo(t,e,n,!1,r)};rt.version="18.3.1-next-f1338f8080-20240426";function sv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sv)}catch(t){console.error(t)}}sv(),sg.exports=rt;var nb=sg.exports,Af=nb;uu.createRoot=Af.createRoot,uu.hydrateRoot=Af.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ni(){return Ni=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ni.apply(this,arguments)}var bn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bn||(bn={}));const Rf="popstate";function rb(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return nc("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:So(s)}return ib(e,n,null,t)}function he(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ad(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sb(){return Math.random().toString(36).substr(2,8)}function Of(t,e){return{usr:t.state,key:t.key,idx:e}}function nc(t,e,n,r){return n===void 0&&(n=null),Ni({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ts(e):e,{state:n,key:e&&e.key||r||sb()})}function So(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ts(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ib(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=bn.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(Ni({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=bn.Pop;let w=d(),g=w==null?null:w-u;u=w,l&&l({action:o,location:v.location,delta:g})}function f(w,g){o=bn.Push;let m=nc(v.location,w,g);u=d()+1;let y=Of(m,u),_=v.createHref(m);try{a.pushState(y,"",_)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(_)}i&&l&&l({action:o,location:v.location,delta:1})}function p(w,g){o=bn.Replace;let m=nc(v.location,w,g);u=d();let y=Of(m,u),_=v.createHref(m);a.replaceState(y,"",_),i&&l&&l({action:o,location:v.location,delta:0})}function x(w){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof w=="string"?w:So(w);return m=m.replace(/ $/,"%20"),he(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let v={get action(){return o},get location(){return t(s,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Rf,h),l=w,()=>{s.removeEventListener(Rf,h),l=null}},createHref(w){return e(s,w)},createURL:x,encodeLocation(w){let g=x(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(w){return a.go(w)}};return v}var If;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(If||(If={}));function ab(t,e,n){return n===void 0&&(n="/"),ob(t,e,n)}function ob(t,e,n,r){let s=typeof e=="string"?Ts(e):e,i=Rd(s.pathname||"/",n);if(i==null)return null;let a=iv(t);lb(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=wb(i);o=yb(a[l],u)}return o}function iv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(he(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=An([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(he(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iv(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:mb(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of av(i.path))s(i,a,l)}),e}function av(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=av(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function lb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ub=/^:[\w-]+$/,cb=3,db=2,hb=1,fb=10,pb=-2,Df=t=>t==="*";function mb(t,e){let n=t.split("/"),r=n.length;return n.some(Df)&&(r+=pb),e&&(r+=db),n.filter(s=>!Df(s)).reduce((s,i)=>s+(ub.test(i)?cb:i===""?hb:fb),r)}function gb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function yb(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=vb({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:An([i,h.pathname]),pathnameBase:kb(An([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=An([i,h.pathnameBase]))}return a}function vb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xb(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let v=o[h]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=o[h];return p&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function xb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ad(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function wb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ad(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Rd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const _b=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bb=t=>_b.test(t);function Sb(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ts(t):t,i;if(n)if(bb(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Ad(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=Lf(n.substring(1),"/"):i=Lf(n,e)}else i=e;return{pathname:i,search:Eb(r),hash:Tb(s)}}function Lf(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Fl(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Od(t,e){let n=jb(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Id(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ts(t):(s=Ni({},t),he(!s.pathname||!s.pathname.includes("?"),Fl("?","pathname","search",s)),he(!s.pathname||!s.pathname.includes("#"),Fl("#","pathname","hash",s)),he(!s.search||!s.search.includes("#"),Fl("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=Sb(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const An=t=>t.join("/").replace(/\/\/+/g,"/"),kb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Eb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Tb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Pb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ov=["post","put","patch","delete"];new Set(ov);const Cb=["get",...ov];new Set(Cb);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ai(){return Ai=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ai.apply(this,arguments)}const Dd=S.createContext(null),Nb=S.createContext(null),Un=S.createContext(null),Yo=S.createContext(null),Ut=S.createContext({outlet:null,matches:[],isDataRoute:!1}),lv=S.createContext(null);function Ab(t,e){let{relative:n}=e===void 0?{}:e;Ps()||he(!1);let{basename:r,navigator:s}=S.useContext(Un),{hash:i,pathname:a,search:o}=cv(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:An([r,a])),s.createHref({pathname:l,search:o,hash:i})}function Ps(){return S.useContext(Yo)!=null}function ea(){return Ps()||he(!1),S.useContext(Yo).location}function uv(t){S.useContext(Un).static||S.useLayoutEffect(t)}function Fn(){let{isDataRoute:t}=S.useContext(Ut);return t?Kb():Rb()}function Rb(){Ps()||he(!1);let t=S.useContext(Dd),{basename:e,future:n,navigator:r}=S.useContext(Un),{matches:s}=S.useContext(Ut),{pathname:i}=ea(),a=JSON.stringify(Od(s,n.v7_relativeSplatPath)),o=S.useRef(!1);return uv(()=>{o.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=Id(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:An([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,i,t])}const Ob=S.createContext(null);function Ib(t){let e=S.useContext(Ut).outlet;return e&&S.createElement(Ob.Provider,{value:t},e)}function Db(){let{matches:t}=S.useContext(Ut),e=t[t.length-1];return e?e.params:{}}function cv(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Un),{matches:s}=S.useContext(Ut),{pathname:i}=ea(),a=JSON.stringify(Od(s,r.v7_relativeSplatPath));return S.useMemo(()=>Id(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function Lb(t,e){return Mb(t,e)}function Mb(t,e,n,r){Ps()||he(!1);let{navigator:s}=S.useContext(Un),{matches:i}=S.useContext(Ut),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=ea(),d;if(e){var h;let w=typeof e=="string"?Ts(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||he(!1),d=w}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=ab(t,{pathname:p}),v=Bb(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:An([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:An([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&v?S.createElement(Yo.Provider,{value:{location:Ai({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bn.Pop}},v):v}function $b(){let t=Hb(),e=Pb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,null)}const Ub=S.createElement($b,null);class Fb extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Ut.Provider,{value:this.props.routeContext},S.createElement(lv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vb(t){let{routeContext:e,match:n,children:r}=t,s=S.useContext(Dd);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Ut.Provider,{value:e},r)}function Bb(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||he(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,x=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,x=!1,v=null,w=null;n&&(p=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||Ub,l&&(u<0&&f===0?(Gb("route-fallback"),x=!0,w=null):u===f&&(x=!0,w=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),m=()=>{let y;return p?y=v:x?y=w:h.route.Component?y=S.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,S.createElement(Vb,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?S.createElement(Fb,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var dv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dv||{}),hv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hv||{});function zb(t){let e=S.useContext(Dd);return e||he(!1),e}function Wb(t){let e=S.useContext(Nb);return e||he(!1),e}function qb(t){let e=S.useContext(Ut);return e||he(!1),e}function fv(t){let e=qb(),n=e.matches[e.matches.length-1];return n.route.id||he(!1),n.route.id}function Hb(){var t;let e=S.useContext(lv),n=Wb(),r=fv();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Kb(){let{router:t}=zb(dv.UseNavigateStable),e=fv(hv.UseNavigateStable),n=S.useRef(!1);return uv(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ai({fromRouteId:e},i)))},[t,e])}const Mf={};function Gb(t,e,n){Mf[t]||(Mf[t]=!0)}function Qb(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Jb(t){let{to:e,replace:n,state:r,relative:s}=t;Ps()||he(!1);let{future:i,static:a}=S.useContext(Un),{matches:o}=S.useContext(Ut),{pathname:l}=ea(),u=Fn(),d=Id(e,Od(o,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return S.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function pv(t){return Ib(t.context)}function Me(t){he(!1)}function Yb(t){let{basename:e="/",children:n=null,location:r,navigationType:s=bn.Pop,navigator:i,static:a=!1,future:o}=t;Ps()&&he(!1);let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:i,static:a,future:Ai({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=Ts(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:x="default"}=r,v=S.useMemo(()=>{let w=Rd(d,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:x},navigationType:s}},[l,d,h,f,p,x,s]);return v==null?null:S.createElement(Un.Provider,{value:u},S.createElement(Yo.Provider,{children:n,value:v}))}function Xb(t){let{children:e,location:n}=t;return Lb(rc(e),n)}new Promise(()=>{});function rc(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,rc(r.props.children,i));return}r.type!==Me&&he(!1),!r.props.index||!r.props.children||he(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=rc(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sc.apply(this,arguments)}function Zb(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function eS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tS(t,e){return t.button===0&&(!e||e==="_self")&&!eS(t)}const nS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rS="6";try{window.__reactRouterVersion=rS}catch{}const sS="startTransition",$f=qx[sS];function iS(t){let{basename:e,children:n,future:r,window:s}=t,i=S.useRef();i.current==null&&(i.current=rb({window:s,v5Compat:!0}));let a=i.current,[o,l]=S.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=S.useCallback(h=>{u&&$f?$f(()=>l(h)):l(h)},[l,u]);return S.useLayoutEffect(()=>a.listen(d),[a,d]),S.useEffect(()=>Qb(r),[r]),S.createElement(Yb,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const aS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=S.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=Zb(e,nS),{basename:p}=S.useContext(Un),x,v=!1;if(typeof u=="string"&&oS.test(u)&&(x=u,aS))try{let y=new URL(window.location.href),_=u.startsWith("//")?new URL(y.protocol+u):new URL(u),b=Rd(_.pathname,p);_.origin===y.origin&&b!=null?u=b+_.search+_.hash:v=!0}catch{}let w=Ab(u,{relative:s}),g=lS(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:h});function m(y){r&&r(y),y.defaultPrevented||g(y)}return S.createElement("a",sc({},f,{href:x||w,onClick:v||i?r:m,ref:n,target:l}))});var Uf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Uf||(Uf={}));var Ff;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ff||(Ff={}));function lS(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,l=Fn(),u=ea(),d=cv(t,{relative:a});return S.useCallback(h=>{if(tS(h,n)){h.preventDefault();let f=r!==void 0?r:So(u)===So(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,l,d,r,s,n,t,i,a,o])}var Xo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uS={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},pn,Dc,Mm,cS=(Mm=class{constructor(){B(this,pn,uS);B(this,Dc,!1)}setTimeoutProvider(t){$(this,pn,t)}setTimeout(t,e){return k(this,pn).setTimeout(t,e)}clearTimeout(t){k(this,pn).clearTimeout(t)}setInterval(t,e){return k(this,pn).setInterval(t,e)}clearInterval(t){k(this,pn).clearInterval(t)}},pn=new WeakMap,Dc=new WeakMap,Mm),ic=new cS;function dS(t){setTimeout(t,0)}var Zo=typeof window>"u"||"Deno"in globalThis;function vt(){}function hS(t,e){return typeof t=="function"?t(e):t}function fS(t){return typeof t=="number"&&t>=0&&t!==1/0}function pS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ac(t,e){return typeof t=="function"?t(e):t}function mS(t,e){return typeof t=="function"?t(e):t}function Vf(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==Ld(a,e.options))return!1}else if(!Oi(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function Bf(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ri(e.options.mutationKey)!==Ri(i))return!1}else if(!Oi(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ld(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ri)(t)}function Ri(t){return JSON.stringify(t,(e,n)=>oc(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Oi(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Oi(t[n],e[n])):!1}var gS=Object.prototype.hasOwnProperty;function mv(t,e,n=0){if(t===e)return t;if(n>500)return e;const r=zf(t)&&zf(e);if(!r&&!(oc(t)&&oc(e)))return e;const i=(r?t:Object.keys(t)).length,a=r?e:Object.keys(e),o=a.length,l=r?new Array(o):{};let u=0;for(let d=0;d<o;d++){const h=r?d:a[d],f=t[h],p=e[h];if(f===p){l[h]=f,(r?d<i:gS.call(t,h))&&u++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){l[h]=p;continue}const x=mv(f,p,n+1);l[h]=x,x===f&&u++}return i===o&&u===i?t:l}function zf(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function oc(t){if(!Wf(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Wf(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Wf(t){return Object.prototype.toString.call(t)==="[object Object]"}function yS(t){return new Promise(e=>{ic.setTimeout(e,t)})}function vS(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?mv(t,e):e}function xS(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function wS(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Md=Symbol();function gv(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Md?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function _S(t,e,n){let r=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=e()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),t}var ar,mn,is,$m,bS=($m=class extends Xo{constructor(){super();B(this,ar);B(this,mn);B(this,is);$(this,is,e=>{if(!Zo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){k(this,mn)||this.setEventListener(k(this,is))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,mn))==null||e.call(this),$(this,mn,void 0))}setEventListener(e){var n;$(this,is,e),(n=k(this,mn))==null||n.call(this),$(this,mn,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){k(this,ar)!==e&&($(this,ar,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof k(this,ar)=="boolean"?k(this,ar):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ar=new WeakMap,mn=new WeakMap,is=new WeakMap,$m),yv=new bS;function SS(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var jS=dS;function kS(){let t=[],e=0,n=o=>{o()},r=o=>{o()},s=jS;const i=o=>{e?t.push(o):s(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&s(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var Ue=kS(),as,gn,os,Um,ES=(Um=class extends Xo{constructor(){super();B(this,as,!0);B(this,gn);B(this,os);$(this,os,e=>{if(!Zo&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){k(this,gn)||this.setEventListener(k(this,os))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,gn))==null||e.call(this),$(this,gn,void 0))}setEventListener(e){var n;$(this,os,e),(n=k(this,gn))==null||n.call(this),$(this,gn,e(this.setOnline.bind(this)))}setOnline(e){k(this,as)!==e&&($(this,as,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return k(this,as)}},as=new WeakMap,gn=new WeakMap,os=new WeakMap,Um),jo=new ES;function TS(t){return Math.min(1e3*2**t,3e4)}function vv(t){return(t??"online")==="online"?jo.isOnline():!0}var lc=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function xv(t){let e=!1,n=0,r;const s=SS(),i=()=>s.status!=="pending",a=v=>{var w;if(!i()){const g=new lc(v);f(g),(w=t.onCancel)==null||w.call(t,g)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>yv.isFocused()&&(t.networkMode==="always"||jo.isOnline())&&t.canRun(),d=()=>vv(t.networkMode)&&t.canRun(),h=v=>{i()||(r==null||r(),s.resolve(v))},f=v=>{i()||(r==null||r(),s.reject(v))},p=()=>new Promise(v=>{var w;r=g=>{(i()||u())&&v(g)},(w=t.onPause)==null||w.call(t)}).then(()=>{var v;r=void 0,i()||(v=t.onContinue)==null||v.call(t)}),x=()=>{if(i())return;let v;const w=n===0?t.initialPromise:void 0;try{v=w??t.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(h).catch(g=>{var j;if(i())return;const m=t.retry??(Zo?0:3),y=t.retryDelay??TS,_=typeof y=="function"?y(n,g):y,b=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,g);if(e||!b){f(g);return}n++,(j=t.onFail)==null||j.call(t,n,g),yS(_).then(()=>u()?void 0:p()).then(()=>{e?f(g):x()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?x():p().then(x),s)}}var or,Fm,wv=(Fm=class{constructor(){B(this,or)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fS(this.gcTime)&&$(this,or,ic.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Zo?1/0:5*60*1e3))}clearGcTimeout(){k(this,or)&&(ic.clearTimeout(k(this,or)),$(this,or,void 0))}},or=new WeakMap,Fm),lr,ls,ot,ur,we,Hi,cr,wt,Ft,Vm,PS=(Vm=class extends wv{constructor(e){super();B(this,wt);B(this,lr);B(this,ls);B(this,ot);B(this,ur);B(this,we);B(this,Hi);B(this,cr);$(this,cr,!1),$(this,Hi,e.defaultOptions),this.setOptions(e.options),this.observers=[],$(this,ur,e.client),$(this,ot,k(this,ur).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,$(this,lr,Hf(this.options)),this.state=e.state??k(this,lr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=k(this,we))==null?void 0:e.promise}setOptions(e){if(this.options={...k(this,Hi),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Hf(this.options);n.data!==void 0&&(this.setState(qf(n.data,n.dataUpdatedAt)),$(this,lr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,ot).remove(this)}setData(e,n){const r=vS(this.state.data,e,this.options);return Ce(this,wt,Ft).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ce(this,wt,Ft).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=k(this,we))==null?void 0:r.promise;return(s=k(this,we))==null||s.cancel(e),n?n.then(vt).catch(vt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,lr))}isActive(){return this.observers.some(e=>mS(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Md||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ac(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!pS(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=k(this,we))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=k(this,we))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),k(this,ot).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(k(this,we)&&(k(this,cr)?k(this,we).cancel({revert:!0}):k(this,we).cancelRetry()),this.scheduleGc()),k(this,ot).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ce(this,wt,Ft).call(this,{type:"invalidate"})}async fetch(e,n){var l,u,d,h,f,p,x,v,w,g,m,y;if(this.state.fetchStatus!=="idle"&&((l=k(this,we))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(k(this,we))return k(this,we).continueRetry(),k(this,we).promise}if(e&&this.setOptions(e),!this.options.queryFn){const _=this.observers.find(b=>b.options.queryFn);_&&this.setOptions(_.options)}const r=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>($(this,cr,!0),r.signal)})},i=()=>{const _=gv(this.options,n),j=(()=>{const T={client:k(this,ur),queryKey:this.queryKey,meta:this.meta};return s(T),T})();return $(this,cr,!1),this.options.persister?this.options.persister(_,j,this):_(j)},o=(()=>{const _={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:k(this,ur),state:this.state,fetchFn:i};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(o,this),$(this,ls,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Ce(this,wt,Ft).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),$(this,we,xv({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:_=>{_ instanceof lc&&_.revert&&this.setState({...k(this,ls),fetchStatus:"idle"}),r.abort()},onFail:(_,b)=>{Ce(this,wt,Ft).call(this,{type:"failed",failureCount:_,error:b})},onPause:()=>{Ce(this,wt,Ft).call(this,{type:"pause"})},onContinue:()=>{Ce(this,wt,Ft).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const _=await k(this,we).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(f=k(this,ot).config).onSuccess)==null||p.call(f,_,this),(v=(x=k(this,ot).config).onSettled)==null||v.call(x,_,this.state.error,this),_}catch(_){if(_ instanceof lc){if(_.silent)return k(this,we).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw Ce(this,wt,Ft).call(this,{type:"error",error:_}),(g=(w=k(this,ot).config).onError)==null||g.call(w,_,this),(y=(m=k(this,ot).config).onSettled)==null||y.call(m,this.state.data,_,this),_}finally{this.scheduleGc()}}},lr=new WeakMap,ls=new WeakMap,ot=new WeakMap,ur=new WeakMap,we=new WeakMap,Hi=new WeakMap,cr=new WeakMap,wt=new WeakSet,Ft=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...CS(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,...qf(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return $(this,ls,e.manual?s:void 0),s;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ue.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),k(this,ot).notify({query:this,type:"updated",action:e})})},Vm);function CS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vv(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function qf(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Hf(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Kf(t){return{onFetch:(e,n)=>{var d,h,f,p,x;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],a=((x=e.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const w=y=>{_S(y,()=>e.signal,()=>v=!0)},g=gv(e.options,e.fetchOptions),m=async(y,_,b)=>{if(v)return Promise.reject();if(_==null&&y.pages.length)return Promise.resolve(y);const T=(()=>{const oe={client:e.client,queryKey:e.queryKey,pageParam:_,direction:b?"backward":"forward",meta:e.options.meta};return w(oe),oe})(),E=await g(T),{maxPages:A}=e.options,I=b?wS:xS;return{pages:I(y.pages,E,A),pageParams:I(y.pageParams,_,A)}};if(s&&i.length){const y=s==="backward",_=y?NS:Gf,b={pages:i,pageParams:a},j=_(r,b);o=await m(b,j,y)}else{const y=t??i.length;do{const _=l===0?a[0]??r.initialPageParam:Gf(r,o);if(l>0&&_==null)break;o=await m(o,_),l++}while(l<y)}return o};e.options.persister?e.fetchFn=()=>{var v,w;return(w=(v=e.options).persister)==null?void 0:w.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Gf(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function NS(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ki,At,Re,dr,Rt,an,Bm,AS=(Bm=class extends wv{constructor(e){super();B(this,Rt);B(this,Ki);B(this,At);B(this,Re);B(this,dr);$(this,Ki,e.client),this.mutationId=e.mutationId,$(this,Re,e.mutationCache),$(this,At,[]),this.state=e.state||RS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){k(this,At).includes(e)||(k(this,At).push(e),this.clearGcTimeout(),k(this,Re).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){$(this,At,k(this,At).filter(n=>n!==e)),this.scheduleGc(),k(this,Re).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){k(this,At).length||(this.state.status==="pending"?this.scheduleGc():k(this,Re).remove(this))}continue(){var e;return((e=k(this,dr))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,u,d,h,f,p,x,v,w,g,m,y,_,b,j,T;const n=()=>{Ce(this,Rt,an).call(this,{type:"continue"})},r={client:k(this,Ki),meta:this.options.meta,mutationKey:this.options.mutationKey};$(this,dr,xv({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(E,A)=>{Ce(this,Rt,an).call(this,{type:"failed",failureCount:E,error:A})},onPause:()=>{Ce(this,Rt,an).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,Re).canRun(this)}));const s=this.state.status==="pending",i=!k(this,dr).canStart();try{if(s)n();else{Ce(this,Rt,an).call(this,{type:"pending",variables:e,isPaused:i}),k(this,Re).config.onMutate&&await k(this,Re).config.onMutate(e,this,r);const A=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,e,r));A!==this.state.context&&Ce(this,Rt,an).call(this,{type:"pending",context:A,variables:e,isPaused:i})}const E=await k(this,dr).start();return await((u=(l=k(this,Re).config).onSuccess)==null?void 0:u.call(l,E,e,this.state.context,this,r)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,E,e,this.state.context,r)),await((p=(f=k(this,Re).config).onSettled)==null?void 0:p.call(f,E,null,this.state.variables,this.state.context,this,r)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,E,null,e,this.state.context,r)),Ce(this,Rt,an).call(this,{type:"success",data:E}),E}catch(E){try{await((g=(w=k(this,Re).config).onError)==null?void 0:g.call(w,E,e,this.state.context,this,r))}catch(A){Promise.reject(A)}try{await((y=(m=this.options).onError)==null?void 0:y.call(m,E,e,this.state.context,r))}catch(A){Promise.reject(A)}try{await((b=(_=k(this,Re).config).onSettled)==null?void 0:b.call(_,void 0,E,this.state.variables,this.state.context,this,r))}catch(A){Promise.reject(A)}try{await((T=(j=this.options).onSettled)==null?void 0:T.call(j,void 0,E,e,this.state.context,r))}catch(A){Promise.reject(A)}throw Ce(this,Rt,an).call(this,{type:"error",error:E}),E}finally{k(this,Re).runNext(this)}}},Ki=new WeakMap,At=new WeakMap,Re=new WeakMap,dr=new WeakMap,Rt=new WeakSet,an=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ue.batch(()=>{k(this,At).forEach(r=>{r.onMutationUpdate(e)}),k(this,Re).notify({mutation:this,type:"updated",action:e})})},Bm);function RS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wt,_t,Gi,zm,OS=(zm=class extends Xo{constructor(e={}){super();B(this,Wt);B(this,_t);B(this,Gi);this.config=e,$(this,Wt,new Set),$(this,_t,new Map),$(this,Gi,0)}build(e,n,r){const s=new AS({client:e,mutationCache:this,mutationId:++ua(this,Gi)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){k(this,Wt).add(e);const n=Ta(e);if(typeof n=="string"){const r=k(this,_t).get(n);r?r.push(e):k(this,_t).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(k(this,Wt).delete(e)){const n=Ta(e);if(typeof n=="string"){const r=k(this,_t).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&k(this,_t).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Ta(e);if(typeof n=="string"){const r=k(this,_t).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Ta(e);if(typeof n=="string"){const s=(r=k(this,_t).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ue.batch(()=>{k(this,Wt).forEach(e=>{this.notify({type:"removed",mutation:e})}),k(this,Wt).clear(),k(this,_t).clear()})}getAll(){return Array.from(k(this,Wt))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Bf(n,r))}findAll(e={}){return this.getAll().filter(n=>Bf(e,n))}notify(e){Ue.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ue.batch(()=>Promise.all(e.map(n=>n.continue().catch(vt))))}},Wt=new WeakMap,_t=new WeakMap,Gi=new WeakMap,zm);function Ta(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ot,Wm,IS=(Wm=class extends Xo{constructor(e={}){super();B(this,Ot);this.config=e,$(this,Ot,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ld(s,n);let a=this.get(i);return a||(a=new PS({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){k(this,Ot).has(e.queryHash)||(k(this,Ot).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=k(this,Ot).get(e.queryHash);n&&(e.destroy(),n===e&&k(this,Ot).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ue.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,Ot).get(e)}getAll(){return[...k(this,Ot).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Vf(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Vf(e,r)):n}notify(e){Ue.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ue.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ue.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ot=new WeakMap,Wm),re,yn,vn,us,cs,xn,ds,hs,qm,DS=(qm=class{constructor(t={}){B(this,re);B(this,yn);B(this,vn);B(this,us);B(this,cs);B(this,xn);B(this,ds);B(this,hs);$(this,re,t.queryCache||new IS),$(this,yn,t.mutationCache||new OS),$(this,vn,t.defaultOptions||{}),$(this,us,new Map),$(this,cs,new Map),$(this,xn,0)}mount(){ua(this,xn)._++,k(this,xn)===1&&($(this,ds,yv.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,re).onFocus())})),$(this,hs,jo.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,re).onOnline())})))}unmount(){var t,e;ua(this,xn)._--,k(this,xn)===0&&((t=k(this,ds))==null||t.call(this),$(this,ds,void 0),(e=k(this,hs))==null||e.call(this),$(this,hs,void 0))}isFetching(t){return k(this,re).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return k(this,yn).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=k(this,re).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=k(this,re).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ac(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return k(this,re).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=k(this,re).get(r.queryHash),i=s==null?void 0:s.state.data,a=hS(e,i);if(a!==void 0)return k(this,re).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Ue.batch(()=>k(this,re).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=k(this,re).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=k(this,re);Ue.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=k(this,re);return Ue.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ue.batch(()=>k(this,re).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(vt).catch(vt)}invalidateQueries(t,e={}){return Ue.batch(()=>(k(this,re).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ue.batch(()=>k(this,re).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(vt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(vt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=k(this,re).build(this,e);return n.isStaleByTime(ac(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(vt).catch(vt)}fetchInfiniteQuery(t){return t.behavior=Kf(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(vt).catch(vt)}ensureInfiniteQueryData(t){return t.behavior=Kf(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return jo.isOnline()?k(this,yn).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,re)}getMutationCache(){return k(this,yn)}getDefaultOptions(){return k(this,vn)}setDefaultOptions(t){$(this,vn,t)}setQueryDefaults(t,e){k(this,us).set(Ri(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...k(this,us).values()],n={};return e.forEach(r=>{Oi(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){k(this,cs).set(Ri(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...k(this,cs).values()],n={};return e.forEach(r=>{Oi(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...k(this,vn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ld(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Md&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...k(this,vn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){k(this,re).clear(),k(this,yn).clear()}},re=new WeakMap,yn=new WeakMap,vn=new WeakMap,us=new WeakMap,cs=new WeakMap,xn=new WeakMap,ds=new WeakMap,hs=new WeakMap,qm),LS=S.createContext(void 0),MS=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(LS.Provider,{value:t,children:e}));function el(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function $S(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})}const US=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class $d extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class FS extends $d{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Qf extends $d{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Jf extends $d{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var uc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(uc||(uc={}));class VS{constructor(e,{headers:n={},customFetch:r,region:s=uc.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=US(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return $S(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:o,method:l,body:u,signal:d,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const x=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?v=JSON.stringify(u):v=u;let w=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(w=a.signal,d.addEventListener("abort",()=>a.abort())):w=a.signal);const g=yield this.fetch(x.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:v,signal:w}).catch(b=>{throw new FS(b)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new Qf(g);if(!g.ok)throw new Jf(g);let y=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield g.json():y==="application/octet-stream"||y==="application/pdf"?_=yield g.blob():y==="text/event-stream"?_=g:y==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof Jf||o instanceof Qf?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var BS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},zS=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var p;const g=await i.text();g===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const v=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),w=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&w&&w.length>1&&(l=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var x;const v=await i.text();try{a=JSON.parse(v),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,d="OK")}catch{i.status===404&&v===""?(u=204,d="No Content"):a={message:v}}if(a&&n.isMaybeSingle&&(!(a==null||(x=a.details)===null||x===void 0)&&x.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&n.shouldThrowOnError)throw new BS(a)}return{error:a,data:o,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="";const l=i==null?void 0:i.cause;if(l){var u,d,h,f;const x=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",v=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";o=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${x}`,v&&(o+=` (${v})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var p;o=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},WS=class extends zS{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Yf=new RegExp("[,()]");var Nr=class extends WS{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Yf.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Yf.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},qS=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new Nr({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),n||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new Nr({method:s,url:i,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new Nr({method:a,url:o,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Nr({method:r,url:s,headers:i,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Nr({method:n,url:r,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},HS=class _v{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new qS(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new _v(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),h=r&&Object.values(n).some(d);h?(o="POST",u=n):r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([p,x])=>x!==void 0).map(([p,x])=>[p,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([p,x])=>{l.searchParams.append(p,x)})):(o="POST",u=n);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Nr({method:o,url:l,headers:f,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class KS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const GS="2.93.3",QS=`realtime-js/${GS}`,JS="1.0.0",bv="2.0.0",Xf=bv,cc=1e4,YS=1e3,XS=100;var cn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(cn||(cn={}));var ge;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ge||(ge={}));var St;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(St||(St={}));var dc;(function(t){t.websocket="websocket"})(dc||(dc={}));var Zn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Zn||(Zn={}));class ZS{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var s,i;const a=e.topic,o=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let x=new DataView(p),v=0;x.setUint8(v++,this.KINDS.userBroadcastPush),x.setUint8(v++,l.length),x.setUint8(v++,o.length),x.setUint8(v++,a.length),x.setUint8(v++,u.length),x.setUint8(v++,h.length),x.setUint8(v++,n),Array.from(l,g=>x.setUint8(v++,g.charCodeAt(0))),Array.from(o,g=>x.setUint8(v++,g.charCodeAt(0))),Array.from(a,g=>x.setUint8(v++,g.charCodeAt(0))),Array.from(u,g=>x.setUint8(v++,g.charCodeAt(0))),Array.from(h,g=>x.setUint8(v++,g.charCodeAt(0)));var w=new Uint8Array(p.byteLength+r.byteLength);return w.set(new Uint8Array(p),0),w.set(new Uint8Array(r),p.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,a,o,l]=r;return n({join_ref:s,ref:i,topic:a,event:o,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+i));l=l+i;const h=r.decode(e.slice(l,l+a));l=l+a;const f=e.slice(l,e.byteLength),p=o===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,x={type:this.BROADCAST_EVENT,event:d,payload:p};return a>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class Sv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(H||(H={}));const Zf=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=e1(a,t,e,s),i),{}):{}},e1=(t,e,n,r)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?jv(i,a):hc(a)},jv=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return s1(e,n)}switch(t){case H.bool:return t1(e);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return n1(e);case H.json:case H.jsonb:return r1(e);case H.timestamp:return i1(e);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return hc(e);default:return hc(e)}},hc=t=>t,t1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},n1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},r1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},s1=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>jv(e,o))}return t},i1=t=>typeof t=="string"?t.replace(" ","T"):t,kv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Vl{constructor(e,n,r={},s=cc){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ep;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ep||(ep={}));class ai{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ai.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=ai.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ai.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(i,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(w=>w.presence_ref),p=h.map(w=>w.presence_ref),x=d.filter(w=>p.indexOf(w.presence_ref)<0),v=h.filter(w=>f.indexOf(w.presence_ref)<0);x.length>0&&(o[u]=x),v.length>0&&(l[u]=v)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const h=e[o].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[o].unshift(...f)}r(o,d,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=u,s(o,u,l),u.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tp;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(tp||(tp={}));var oi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(oi||(oi={}));var Bt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Bt||(Bt={}));class qr{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Vl(this,St.join,this.params,this.timeout),this.rejoinTimer=new Sv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ge.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(St.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new ai(this),this.broadcastEndpointURL=kv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ge.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[oi.PRESENCE]&&this.bindings[oi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Bt.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Bt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(Bt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,w=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,g=[];for(let m=0;m<w;m++){const y=v[m],{filter:{event:_,schema:b,table:j,filter:T}}=y,E=p&&p[m];if(E&&E.event===_&&qr.isFilterValueEqual(E.schema,b)&&qr.isFilterValueEqual(E.table,j)&&qr.isFilterValueEqual(E.filter,T))g.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=ge.errored,e==null||e(Bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Bt.SUBSCRIBED);return}}).receive("error",p=>{this.state=ge.errored,e==null||e(Bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ge.joined&&e===oi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ge.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(St.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Vl(this,St.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ge.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Vl(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>XS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=St;if(r&&[o,l,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,v,w;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(v=p.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(p=>p.callback(f,r)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var x,v,w,g,m,y;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const _=p.id,b=(x=p.filter)===null||x===void 0?void 0:x.event;return _&&((v=n.ids)===null||v===void 0?void 0:v.includes(_))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(m=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:v,table:w,commit_timestamp:g,type:m,errors:y}=x;f=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:g,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(x))}p.callback(f,r)})}_isClosed(){return this.state===ge.closed}_isJoined(){return this.state===ge.joined}_isJoining(){return this.state===ge.joining}_isLeaving(){return this.state===ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&qr.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(St.close,{},e)}_onError(e){this._on(St.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Zf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Zf(e.columns,e.old_record)),n}}const Bl=()=>{},Pa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},a1=[1e3,2e3,5e3,1e4],o1=1e4,l1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class u1{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cc,this.transport=null,this.heartbeatIntervalMs=Pa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bl,this.ref=0,this.reconnectTimer=null,this.vsn=Xf,this.logger=Bl,this.conn=null,this.sendBuffer=[],this.serializer=new ZS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${dc.websocket}`,this.httpEndpoint=kv(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=KS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case cn.connecting:return Zn.Connecting;case cn.open:return Zn.Open;case cn.closing:return Zn.Closing;default:return Zn.Closed}}isConnected(){return this.connectionState()===Zn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new qr(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(YS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Pa.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:a}=n,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===cn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===cn.open||this.conn.readyState===cn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(St.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([l1],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:QS};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(St.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Sv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,a,o,l,u,d,h,f,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:cc,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Pa.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Bl,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Xf,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:x=>a1[x-1]||o1,this.vsn){case JS:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(x,v)=>v(JSON.stringify(x)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(x,v)=>v(JSON.parse(x));break;case bv:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Ii=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function c1(t,e,n){const r=new URL(e,t);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function d1(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function h1(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const o=c1(t.baseUrl,r,s),l=await d1(t.auth),u=await e(o,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const p=h?f:void 0,x=p==null?void 0:p.error;throw new Ii((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:p})}return{status:u.status,headers:u.headers,data:f}}}}function Ca(t){return t.join("")}var f1=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ca(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ca(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ca(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ca(t.namespace)}`}),!0}catch(e){if(e instanceof Ii&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Ii&&n.status===409)return;throw n}}};function jr(t){return t.join("")}var p1=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Ii&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Ii&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},m1=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=h1({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new f1(this.client,e),this.tableOps=new p1(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},tl=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function nl(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Na=class extends tl{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ev=class extends tl{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const g1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),y1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},fc=t=>{if(Array.isArray(t))return t.map(n=>fc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=fc(r)}),e},v1=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Di(t){"@babel/helpers - typeof";return Di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Di(t)}function x1(t,e){if(Di(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Di(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w1(t){var e=x1(t,"string");return Di(e)=="symbol"?e:e+""}function _1(t,e,n){return(e=w1(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function np(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?np(Object(n),!0).forEach(function(r){_1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):np(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const rp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},b1=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new Na(rp(a),i,o,r))}).catch(()=>{if(r==="vectors"){const a=i+"";e(new Na(s.statusText||`HTTP ${i} error`,i,a,r))}else{const a=i+"";e(new Na(s.statusText||`HTTP ${i} error`,i,a,r))}});else{const a=i+"";e(new Na(s.statusText||`HTTP ${i} error`,i,a,r))}}else e(new Ev(rp(t),t,r))},S1=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!r?M(M({},s),n):(y1(r)?(s.headers=M({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),M(M({},s),n))};async function Vs(t,e,n,r,s,i,a){return new Promise((o,l)=>{t(n,S1(e,r,s,i)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(a==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>b1(u,l,r,a))})}function Tv(t="storage"){return{get:async(e,n,r,s)=>Vs(e,"GET",n,r,s,void 0,t),post:async(e,n,r,s,i)=>Vs(e,"POST",n,s,i,r,t),put:async(e,n,r,s,i)=>Vs(e,"PUT",n,s,i,r,t),head:async(e,n,r,s)=>Vs(e,"HEAD",n,M(M({},r),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,n,r,s,i)=>Vs(e,"DELETE",n,s,i,r,t)}}const j1=Tv("storage"),{get:Li,post:xt,put:pc,head:k1,remove:Ud}=j1,Ye=Tv("vectors");var Cs=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=g1(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(nl(n))return{data:null,error:n};throw n}}},E1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(nl(e))return{data:null,error:e};throw e}}};let Pv;Pv=Symbol.toStringTag;var T1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Pv]="BlobDownloadBuilder",this.promise=null}asStream(){return new E1(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(nl(e))return{data:null,error:e};throw e}}};const P1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var C1=class extends Cs{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var s=this;return s.handleOperation(async()=>{let i;const a=M(M({},sp),r);let o=M(M({},s.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(o=M(M({},o),r.headers));const u=s._removeEmptyFolders(e),d=s._getFinalPath(u),h=await(t=="PUT"?pc:xt)(s.fetch,`${s.url}/object/${d}`,i,M({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var s=this;const i=s._removeEmptyFolders(t),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",e),s.handleOperation(async()=>{let l;const u=M({upsert:sp.upsert},r),d=M(M({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await pc(s.fetch,o.toString(),l,{headers:d})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const s=M({},n.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await xt(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),o=a.searchParams.get("token");if(!o)throw new tl("No token returned by API");return{signedUrl:a.toString(),path:t,token:o}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await xt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await xt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(t),i=await xt(r.fetch,`${r.url}/object/sign/${s}`,M({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const s=await xt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(a=>M(M({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null}))})}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(t),a=()=>Li(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new T1(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>fc(await Li(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await k1(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nl(r)&&r instanceof Ev){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&r.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${o}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Ud(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const s=M(M(M({},P1),e),{},{prefix:t||""});return await xt(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=M({},t);return await xt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const N1="2.93.3",ta={"X-Client-Info":`storage-js/${N1}`};var A1=class extends Cs{constructor(t,e={},n,r){const s=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=M(M({},ta),e);super(i,a,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await Li(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await xt(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await pc(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await xt(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Ud(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},R1=class extends Cs{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=M(M({},ta),e);super(r,s,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await xt(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await Li(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Ud(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!v1(t))throw new tl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new m1({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},O1=class extends Cs{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=M(M({},ta),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Ye.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await Ye.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Ye.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await Ye.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},I1=class extends Cs{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=M(M({},ta),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Ye.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Ye.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Ye.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Ye.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Ye.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},D1=class extends Cs{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=M(M({},ta),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Ye.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Ye.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Ye.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Ye.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},L1=class extends D1{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new M1(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},M1=class extends O1{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,M(M({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,M(M({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new $1(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},$1=class extends I1{constructor(t,e,n,r,s){super(t,e,s),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,M(M({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,M(M({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,M(M({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,M(M({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,M(M({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},U1=class extends A1{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new C1(this.url,this.headers,t,this.fetch)}get vectors(){return new L1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new R1(this.url+"/iceberg",this.headers,this.fetch)}};const Cv="2.93.3",Ar=30*1e3,mc=3,zl=mc*Ar,F1="http://localhost:9999",V1="supabase.auth.token",B1={"X-Client-Info":`gotrue-js/${Cv}`},gc="X-Supabase-Api-Version",Nv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,W1=10*60*1e3;class Mi extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function R(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class q1 extends Mi{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function H1(t){return R(t)&&t.name==="AuthApiError"}class er extends Mi{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class nn extends Mi{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Qe extends nn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wl(t){return R(t)&&t.name==="AuthSessionMissingError"}class kr extends nn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Aa extends nn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ra extends nn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function K1(t){return R(t)&&t.name==="AuthImplicitGrantRedirectError"}class ip extends nn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class G1 extends nn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class yc extends nn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ql(t){return R(t)&&t.name==="AuthRetryableFetchError"}class ap extends nn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class vc extends nn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ko="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),op=` 	
\r=`.split(""),Q1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<op.length;e+=1)t[op[e].charCodeAt(0)]=-2;for(let e=0;e<ko.length;e+=1)t[ko[e].charCodeAt(0)]=e;return t})();function lp(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ko[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ko[r]),e.queuedBits-=6}}function Av(t,e,n){const r=Q1[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function up(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{X1(a,r,n)};for(let a=0;a<t.length;a+=1)Av(t.charCodeAt(a),s,i);return e.join("")}function J1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Y1(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}J1(r,e)}}function X1(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function rs(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Av(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Z1(t){const e=[];return Y1(t,n=>e.push(n)),new Uint8Array(e)}function sr(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>lp(s,n,r)),lp(null,n,r),e.join("")}function ej(t){return Math.round(Date.now()/1e3)+t}function tj(){return Symbol("auth-callback")}const je=()=>typeof window<"u"&&typeof document<"u",qn={tested:!1,writable:!1},Rv=()=>{if(!je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qn.tested)return qn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qn.tested=!0,qn.writable=!0}catch{qn.tested=!0,qn.writable=!1}return qn.writable};function nj(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Ov=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rj=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Rr=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Hn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Se=async(t,e)=>{await t.removeItem(e)};class rl{constructor(){this.promise=new rl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}rl.promiseConstructor=Promise;function Oa(t){const e=t.split(".");if(e.length!==3)throw new vc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!z1.test(e[r]))throw new vc("JWT not in base64url format");return{header:JSON.parse(up(e[0])),payload:JSON.parse(up(e[1])),signature:rs(e[2]),raw:{header:e[0],payload:e[1]}}}async function sj(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ij(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function aj(t){return("0"+t.toString(16)).substr(-2)}function oj(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,aj).join("")}async function lj(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function uj(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await lj(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Er(t,e,n=!1){const r=oj();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Rr(t,`${e}-code-verifier`,s);const i=await uj(r);return[i,r===i?"plain":"s256"]}const cj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dj(t){const e=t.headers.get(gc);if(!e||!e.match(cj))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function hj(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function fj(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tr(t){if(!pj.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hl(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mj(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function cp(t){return JSON.parse(JSON.stringify(t))}const Jn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gj=[502,503,504];async function dp(t){var e;if(!rj(t))throw new yc(Jn(t),0);if(gj.includes(t.status))throw new yc(Jn(t),t.status);let n;try{n=await t.json()}catch(i){throw new er(Jn(i),i)}let r;const s=dj(t);if(s&&s.getTime()>=Nv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ap(Jn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Qe}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new ap(Jn(n),t.status,n.weak_password.reasons);throw new q1(Jn(n),t.status||500,r)}const yj=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function D(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[gc]||(i[gc]=Nv["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await vj(t,e,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function vj(t,e,n,r,s,i){const a=yj(e,r,s,i);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new yc(Jn(l),0)}if(o.ok||await dp(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await dp(l)}}function mt(t){var e;let n=null;_j(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=ej(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function hp(t){const e=mt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function fn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function xj(t){return{data:t,error:null}}function wj(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=el(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function fp(t){return t}function _j(t){return t.access_token&&t.refresh_token&&t.expires_in}const Kl=["global","local","others"];class bj{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Ov(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Kl[0]){if(Kl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kl.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fn})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=el(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:wj,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(R(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fn})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fp});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Tr(e);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fn})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Tr(e);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:fn})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Tr(e);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:fn})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Tr(e.userId);try{const{data:n,error:r}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Tr(e.userId),Tr(e.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fp});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(R(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await D(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await D(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await D(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}}function pp(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Pr={debug:!!(globalThis&&Rv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Iv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Sj extends Iv{}async function jj(t,e,n){Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Sj(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Pr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function kj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Ej(t){return parseInt(t,16)}function Tj(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Pj(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Dv(t.address),x=d?`${d}://${r}`:r,v=t.statement?`${t.statement}
`:"",w=`${x} wants you to sign in with your Ethereum account:
${p}

${v}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);m+=`
- ${y}`}g+=m}return`${w}
${g}`}class fe extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Eo extends fe{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Cj({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new fe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Lv(a)){if(i.rp.id!==a)return new fe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Nj({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new fe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Lv(r)){if(n.rpId!==r)return new fe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Aj{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Rj=new Aj;function Oj(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=el(t,["challenge","user","excludeCredentials"]),i=rs(e).buffer,a=Object.assign(Object.assign({},n),{id:rs(n.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:rs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function Ij(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=el(t,["challenge","allowCredentials"]),s=rs(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:rs(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function Dj(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:sr(new Uint8Array(t.response.attestationObject)),clientDataJSON:sr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Lj(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:sr(new Uint8Array(s.authenticatorData)),clientDataJSON:sr(new Uint8Array(s.clientDataJSON)),signature:sr(new Uint8Array(s.signature)),userHandle:s.userHandle?sr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Lv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function mp(){var t,e;return!!(je()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Mj(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Eo("Browser returned unexpected credential type",e)}:{data:null,error:new Eo("Empty credential response",e)}}catch(e){return{data:null,error:Cj({error:e,options:t})}}}async function $j(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Eo("Browser returned unexpected credential type",e)}:{data:null,error:new Eo("Empty credential response",e)}}catch(e){return{data:null,error:Nj({error:e,options:t})}}}const Uj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Fj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function To(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(e(a)){const o=r[i];e(o)?r[i]=To(o,a):r[i]=To(a)}else r[i]=a}return r}function Vj(t,e){return To(Uj,t,e||{})}function Bj(t,e){return To(Fj,t,e||{})}class zj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:l};const u=s??Rj.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;if(!d.name){const h=r;if(h)d.name=`${d.id}:${h}`;else{const p=(await this.client.getUser()).data.user,x=((a=p==null?void 0:p.user_metadata)===null||a===void 0?void 0:a.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";d.name=`${d.id}:${x}`}}d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=Vj(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:f}=await Mj({publicKey:d,signal:u});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const d=Bj(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:f}=await $j(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new er("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Mi("rpId is required for WebAuthn authentication")};try{if(!mp())return{data:null,error:new er("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return R(a)?{data:null,error:a}:{data:null,error:new er("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Mi("rpId is required for WebAuthn registration")};try{if(!mp())return{data:null,error:new er("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return R(a)?{data:null,error:a}:{data:null,error:new er("Unexpected error in register",a)}}}}kj();const Wj={url:F1,storageKey:V1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:B1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function gp(t,e,n){return await n()}const Cr={};class $i{get jwks(){var e,n;return(n=(e=Cr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Cr[this.storageKey]=Object.assign(Object.assign({},Cr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Cr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Cr[this.storageKey]=Object.assign(Object.assign({},Cr[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Wj),e);if(this.storageKey=i.storageKey,this.instanceID=(n=$i.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,$i.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&je()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new bj({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ov(i.fetch),this.lock=i.lock||gp,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&je()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=jj:this.lock=gp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Rv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pp(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=pp(this.memoryStorage)),je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Cv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(je()&&(n=nj(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),je()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),K1(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return R(n)?this._returnResult({error:n}):this._returnResult({error:new er("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:mt}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Er(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:x},xform:mt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:mt})}else throw new Aa("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await Se(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await Se(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:o}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:hp})}else if("phone"in e){const{phone:i,password:a,options:o}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:hp})}else throw new Aa("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new kr;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(R(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,a,o,l,u,d,h,f;let p,x;if("message"in e)p=e.message,x=e.signature;else{const{chain:v,wallet:w,statement:g,options:m}=e;let y;if(je())if(typeof w=="object")y=w;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")y=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=w}const _=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href),b=await y.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=Dv(b[0]);let T=(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const A=await y.request({method:"eth_chainId"});T=Ej(A)}const E={domain:_.host,address:j,statement:g,uri:_.href,version:"1",chainId:T,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Pj(E),x=await y.request({method:"personal_sign",params:[Tj(p),j]})}try{const{data:v,error:w}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:mt});if(w)throw w;if(!v||!v.session||!v.user){const g=new kr;return this._returnResult({data:{user:null,session:null},error:g})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:w})}catch(v){if(R(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var n,r,s,i,a,o,l,u,d,h,f,p;let x,v;if("message"in e)x=e.message,v=e.signature;else{const{chain:w,wallet:g,statement:m,options:y}=e;let _;if(je())if(typeof g=="object")_=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const b=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),m?{statement:m}:null));let T;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")T=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)T=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)x=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),v=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${b.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=j}}try{const{data:w,error:g}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:sr(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:mt});if(g)throw g;if(!w||!w.session||!w.user){const m=new kr;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(R(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const n=await Hn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new G1;const{data:i,error:a}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:mt});if(await Se(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new kr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await Se(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,o=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:mt}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new kr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(R(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Er(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Aa("You must provide either an email or phone number.")}catch(o){if(await Se(this.storage,`${this.storageKey}-code-verifier`),R(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:mt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Er(this.storage,this.storageKey));const u=await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:xj});return!((i=u.data)===null||i===void 0)&&i.url&&je()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await Se(this.storage,`${this.storageKey}-code-verifier`),R(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Qe;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(R(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await D(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:o}=await D(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Aa("You must provide either an email or phone number and a type")}catch(n){if(R(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Hn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<zl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Hn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Hl()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=mj(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fn}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qe}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:fn})})}catch(n){if(R(n))return Wl(n)&&(await this._removeSession(),await Se(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Qe;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Er(this.storage,this.storageKey));const{data:u,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:fn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Se(this.storage,`${this.storageKey}-code-verifier`),R(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qe;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=Oa(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(R(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Qe;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(R(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!je())throw new Ra("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ra(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ip("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ra("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ip("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!i||!o||!a||!u)throw new Ra("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=Ar&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(r){if(R(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Hn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!Wl(i))return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(H1(o)&&(o.status===404||o.status===401||o.status===403)||Wl(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Se(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=tj(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Er(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Se(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,l,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return je()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(R(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:o,token:l,access_token:u,nonce:d}=e,h=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mt}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new kr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(await Se(this.storage,`${this.storageKey}-code-verifier`),R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ij(async s=>(s>0&&await sj(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&ql(i)&&Date.now()+a-r<Ar})}catch(r){if(this._debug(n,"error",r),R(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),je()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Hn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Hn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Rr(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Hl()}else if(s&&!s.user&&!s.user){const a=await Hn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Se(this.storage,this.storageKey+"-user"),await Rr(this.storage,this.storageKey,s)):s.user=Hl()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<zl;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${zl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),ql(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Qe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new rl;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Qe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),R(i)){const a={data:null,error:i};return ql(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Se(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Rr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=cp(s);await Rr(this.storage,this.storageKey,i)}else{const s=cp(n);await Rr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Se(this.storage,this.storageKey),await Se(this.storage,this.storageKey+"-code-verifier"),await Se(this.storage,this.storageKey+"-user"),this.userStorage&&await Se(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ar);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Ar);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ar}ms, refresh threshold is ${mc} ticks`),s<=mc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Iv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Er(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Dj(e.webauthn.credential_response):Lj(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Oj(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Ij(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,s,i;if(e)try{const{payload:p}=Oa(e);let x=null;p.aal&&(x=p.aal);let v=x;const{data:{user:w},error:g}=await this.getUser(e);if(g)return this._returnResult({data:null,error:g});((r=(n=w==null?void 0:w.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(v="aal2");const y=p.amr||[];return{data:{currentLevel:x,nextLevel:v,currentAuthenticationMethods:y},error:null}}catch(p){if(R(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Oa(a.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const f=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await D(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Qe})})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Qe});const a=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&je()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Qe});const a=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&je()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await D(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Qe})})}catch(e){if(R(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await D(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qe})})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+W1>s)return r;const{data:i,error:a}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:x}=await this.getSession();if(x||!p.session)return this._returnResult({data:null,error:x});r=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Oa(r);n!=null&&n.allowExpired||hj(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const d=fj(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,Z1(`${o}.${l}`)))throw new vc("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}}$i.nextInstanceID={};const qj=$i,Hj="2.93.3";let Ks="";typeof Deno<"u"?Ks="deno":typeof document<"u"?Ks="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ks="react-native":Ks="node";const Kj={"X-Client-Info":`supabase-js-${Ks}/${Hj}`},Gj={headers:Kj},Qj={schema:"public"},Jj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yj={};function Ui(t){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ui(t)}function Xj(t,e){if(Ui(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ui(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zj(t){var e=Xj(t,"string");return Ui(e)=="symbol"?e:e+""}function ek(t,e,n){return(e=Zj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yp(Object(n),!0).forEach(function(r){ek(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const tk=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),nk=()=>Headers,rk=(t,e,n)=>{const r=tk(n),s=nk();return async(i,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,se(se({},a),{},{headers:u}))}};function sk(t){return t.endsWith("/")?t:t+"/"}function ik(t,e){var n,r;const{db:s,auth:i,realtime:a,global:o}=t,{db:l,auth:u,realtime:d,global:h}=e,f={db:se(se({},l),s),auth:se(se({},u),i),realtime:se(se({},d),a),storage:{},global:se(se(se({},h),o),{},{headers:se(se({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function ak(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ok=class extends qj{constructor(t){super(t)}},lk=class{constructor(t,e,n){var r,s;this.supabaseUrl=t,this.supabaseKey=e;const i=ak(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:Qj,realtime:Yj,auth:se(se({},Jj),{},{storageKey:a}),global:Gj},l=ik(n??{},o);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=rk(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(se({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new HS(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new U1(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new VS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ok({url:this.authUrl.href,headers:se(se({},f),d),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new u1(this.realtimeUrl.href,se(se({},t),{},{params:se(se({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const uk=(t,e,n)=>new lk(t,e,n);function ck(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}ck()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dk="https://hmyuaebfutebccsjvrbl.supabase.co",hk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhteXVhZWJmdXRlYmNjc2p2cmJsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwNTU3MTQsImV4cCI6MjA4NTYzMTcxNH0.4f4nDnv5o0eIF_kufIvN14YwspYrTpoUibng7FYXYRk",We=uk(dk,hk);function sl(){const[t,e]=S.useState(null),[n,r]=S.useState(!0),[s,i]=S.useState(!1);S.useEffect(()=>{We.auth.getSession().then(({data:{session:d}})=>{e((d==null?void 0:d.user)??null),d!=null&&d.user?a(d.user.id):r(!1)});const{data:{subscription:u}}=We.auth.onAuthStateChange((d,h)=>{e((h==null?void 0:h.user)??null),h!=null&&h.user?a(h.user.id):(i(!1),r(!1))});return()=>u.unsubscribe()},[]);const a=async u=>{try{const{data:d,error:h}=await We.from("admin_users").select("role").eq("id",u).single();!h&&d&&i(!0)}catch(d){console.error("Error checking admin status:",d)}finally{r(!1)}};return{user:t,isAdmin:s,loading:n,signIn:async(u,d)=>{const{data:h,error:f}=await We.auth.signInWithPassword({email:u,password:d});return{data:h,error:f}},signOut:async()=>{const{error:u}=await We.auth.signOut();return{error:u}}}}const fk={},vp=t=>{let e;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){const p=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(x=>x(e,p))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(fk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,s,l);return l},pk=t=>t?vp(t):vp;var Mv={exports:{}},$v={},Uv={exports:{}},Fv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=S;function mk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gk=typeof Object.is=="function"?Object.is:mk,yk=ws.useState,vk=ws.useEffect,xk=ws.useLayoutEffect,wk=ws.useDebugValue;function _k(t,e){var n=e(),r=yk({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return xk(function(){s.value=n,s.getSnapshot=e,Gl(s)&&i({inst:s})},[t,n,e]),vk(function(){return Gl(s)&&i({inst:s}),t(function(){Gl(s)&&i({inst:s})})},[t]),wk(n),n}function Gl(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gk(t,n)}catch{return!0}}function bk(t,e){return e()}var Sk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bk:_k;Fv.useSyncExternalStore=ws.useSyncExternalStore!==void 0?ws.useSyncExternalStore:Sk;Uv.exports=Fv;var jk=Uv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=S,kk=jk;function Ek(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tk=typeof Object.is=="function"?Object.is:Ek,Pk=kk.useSyncExternalStore,Ck=il.useRef,Nk=il.useEffect,Ak=il.useMemo,Rk=il.useDebugValue;$v.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=Ck(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=Ak(function(){function l(p){if(!u){if(u=!0,d=p,p=r(p),s!==void 0&&a.hasValue){var x=a.value;if(s(x,p))return h=x}return h=p}if(x=h,Tk(d,p))return x;var v=r(p);return s!==void 0&&s(x,v)?(d=p,x):(d=p,h=v)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,s]);var o=Pk(t,i[0],i[1]);return Nk(function(){a.hasValue=!0,a.value=o},[o]),Rk(o),o};Mv.exports=$v;var Ok=Mv.exports;const Ik=Hm(Ok),Vv={},{useDebugValue:Dk}=Fc,{useSyncExternalStoreWithSelector:Lk}=Ik;let xp=!1;const Mk=t=>t;function $k(t,e=Mk,n){(Vv?"production":void 0)!=="production"&&n&&!xp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),xp=!0);const r=Lk(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Dk(r),r}const Uk=t=>{(Vv?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?pk(t):t,n=(r,s)=>$k(e,r,s);return Object.assign(n,e),n},Fk=t=>Uk,Vk={};function Bk(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),o=(i=n.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Fi=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Fi(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Fi(r)(n)}}}},zk=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,g)=>({...g,...w}),...e},a=!1;const o=new Set,l=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...w)},r,s);const d=Fi(i.serialize),h=()=>{const w=i.partialize({...r()});let g;const m=d({state:w,version:i.version}).then(y=>u.setItem(i.name,y)).catch(y=>{g=y});if(g)throw g;return m},f=s.setState;s.setState=(w,g)=>{f(w,g),h()};const p=t((...w)=>{n(...w),h()},r,s);let x;const v=()=>{var w;if(!u)return;a=!1,o.forEach(m=>m(r()));const g=((w=i.onRehydrateStorage)==null?void 0:w.call(i,r()))||void 0;return Fi(u.getItem.bind(u))(i.name).then(m=>{if(m)return i.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==i.version){if(i.migrate)return i.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var y;return x=i.merge(m,(y=r())!=null?y:p),n(x,!0),h()}).then(()=>{g==null||g(x,void 0),a=!0,l.forEach(m=>m(x))}).catch(m=>{g==null||g(void 0,m)})};return s.persist={setOptions:w=>{i={...i,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:w=>(o.add(w),()=>{o.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},v(),x||p},Wk=(t,e)=>(n,r,s)=>{let i={storage:Bk(()=>localStorage),partialize:v=>v,version:0,merge:(v,w)=>({...w,...v}),...e},a=!1;const o=new Set,l=new Set;let u=i.storage;if(!u)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const d=()=>{const v=i.partialize({...r()});return u.setItem(i.name,{state:v,version:i.version})},h=s.setState;s.setState=(v,w)=>{h(v,w),d()};const f=t((...v)=>{n(...v),d()},r,s);s.getInitialState=()=>f;let p;const x=()=>{var v,w;if(!u)return;a=!1,o.forEach(m=>{var y;return m((y=r())!=null?y:f)});const g=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(v=r())!=null?v:f))||void 0;return Fi(u.getItem.bind(u))(i.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==i.version){if(i.migrate)return[!0,i.migrate(m.state,m.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var y;const[_,b]=m;if(p=i.merge(b,(y=r())!=null?y:f),n(p,!0),_)return d()}).then(()=>{g==null||g(p,void 0),p=r(),a=!0,l.forEach(m=>m(p))}).catch(m=>{g==null||g(void 0,m)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>a,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||x(),p||f},qk=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Vk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),zk(t,e)):Wk(t,e),Hk=qk,kt=Fk()(Hk((t,e)=>({items:[],addItem:(n,r=1)=>{const s=e().items,i=s.find(a=>a.product.id===n.id);t(i?{items:s.map(a=>a.product.id===n.id?{...a,quantity:a.quantity+r}:a)}:{items:[...s,{product:n,quantity:r}]})},removeItem:n=>{t({items:e().items.filter(r=>r.product.id!==n)})},updateQuantity:(n,r)=>{if(r<=0){e().removeItem(n);return}t({items:e().items.map(s=>s.product.id===n?{...s,quantity:r}:s)})},clearCart:()=>{t({items:[]})},getTotalItems:()=>e().items.reduce((n,r)=>n+r.quantity,0),getSubtotal:()=>e().items.reduce((n,r)=>n+r.product.price*r.quantity,0),getTotalWeight:()=>e().items.reduce((n,r)=>n+r.product.weight_kg*r.quantity,0)}),{name:"carmen-cart-storage"}));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=t=>{const e=Gk(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...o},l)=>S.createElement("svg",{ref:l,...Qk,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Bv("lucide",s),...!i&&!Jk(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>S.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=(t,e)=>{const n=S.forwardRef(({className:r,...s},i)=>S.createElement(Yk,{ref:i,iconNode:e,className:Bv(`lucide-${Kk(wp(t))}`,`lucide-${t}`,r),...s}));return n.displayName=wp(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Zk=q("arrow-left",Xk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],li=q("check",eE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nE=q("chevron-down",tE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],sE=q("chevron-left",rE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ss=q("chevron-right",iE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],oE=q("circle-alert",aE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uE=q("circle-check",lE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],dE=q("dollar-sign",cE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_p=q("funnel",hE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],pE=q("heart",fE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],gE=q("image",mE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],vE=q("layout-dashboard",yE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wE=q("log-out",xE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],zv=q("mail",_E);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Wv=q("map-pin",bE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],qv=q("menu",SE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Hv=q("package",jE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],EE=q("pen",kE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Kv=q("phone",TE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bp=q("plus",PE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],NE=q("send",CE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Gv=q("shopping-bag",AE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Fd=q("shopping-cart",RE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Vd=q("star",OE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qv=q("trash-2",IE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],LE=q("trending-up",DE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$E=q("users",ME);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jv=q("x",UE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],VE=q("zap",FE);function BE(){const{user:t,isAdmin:e,signOut:n}=sl(),r=kt(l=>l.getTotalItems()),[s,i]=S.useState(!1),a=Fn(),o=async()=>{await n(),a("/")};return c.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs(ce,{to:"/",className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-white font-display font-bold text-lg",children:"C"})}),c.jsx("span",{className:"font-display text-xl font-bold hidden sm:inline",children:"Carmen"})]}),c.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[c.jsx(ce,{to:"/",className:"text-gray-700 hover:text-gray-900 transition",children:"Home"}),c.jsx(ce,{to:"/shop",className:"text-gray-700 hover:text-gray-900 transition",children:"Shop"}),c.jsx(ce,{to:"/about",className:"text-gray-700 hover:text-gray-900 transition",children:"About"}),c.jsx(ce,{to:"/contact",className:"text-gray-700 hover:text-gray-900 transition",children:"Contact"}),e&&c.jsx(ce,{to:"/admin",className:"text-gray-700 hover:text-gray-900 transition font-medium",children:"Admin"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[t?c.jsx("button",{onClick:o,className:"text-sm text-gray-700 hover:text-gray-900 transition",children:"Logout"}):c.jsx(ce,{to:"/admin/login",className:"text-sm text-gray-700 hover:text-gray-900 transition",children:"Admin"}),c.jsxs(ce,{to:"/cart",className:"relative p-2 hover:bg-gray-100 rounded-lg transition",children:[c.jsx(Fd,{size:24}),r>0&&c.jsx("span",{className:"absolute top-0 right-0 bg-gray-900 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:r})]}),c.jsx("button",{onClick:()=>i(!s),className:"md:hidden p-2 hover:bg-gray-100 rounded-lg transition",children:s?c.jsx(Jv,{size:24}):c.jsx(qv,{size:24})})]})]}),s&&c.jsxs("nav",{className:"md:hidden pb-4 border-t border-gray-200",children:[c.jsx(ce,{to:"/",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50",onClick:()=>i(!1),children:"Home"}),c.jsx(ce,{to:"/shop",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50",onClick:()=>i(!1),children:"Shop"}),c.jsx(ce,{to:"/about",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50",onClick:()=>i(!1),children:"About"}),c.jsx(ce,{to:"/contact",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50",onClick:()=>i(!1),children:"Contact"}),e&&c.jsx(ce,{to:"/admin",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 font-medium",onClick:()=>i(!1),children:"Admin Dashboard"})]})]})})}function zE(){const t=new Date().getFullYear();return c.jsx("footer",{className:"bg-gray-900 text-white py-16 mt-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-12",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-display text-lg font-bold mb-4",children:"Carmen"}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Premium products curated with care. Shop with confidence, delivered with excellence."})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-4",children:"Quick Links"}),c.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[c.jsx("li",{children:c.jsx("a",{href:"/",className:"hover:text-white transition",children:"Home"})}),c.jsx("li",{children:c.jsx("a",{href:"/shop",className:"hover:text-white transition",children:"Shop"})}),c.jsx("li",{children:c.jsx("a",{href:"/about",className:"hover:text-white transition",children:"About Us"})}),c.jsx("li",{children:c.jsx("a",{href:"/contact",className:"hover:text-white transition",children:"Contact"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-4",children:"Contact"}),c.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(zv,{size:18,className:"mt-0.5 flex-shrink-0"}),c.jsx("span",{children:"hello@carmen.shop"})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(Kv,{size:18,className:"mt-0.5 flex-shrink-0"}),c.jsx("span",{children:"+27 (0) 1 234 567"})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(Wv,{size:18,className:"mt-0.5 flex-shrink-0"}),c.jsx("span",{children:"South Africa"})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-4",children:"Stay Updated"}),c.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Get notified about new products and offers."}),c.jsx("input",{type:"email",placeholder:"Your email",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 text-sm focus:ring-2 focus:ring-white focus:border-transparent"})]})]}),c.jsx("div",{className:"border-t border-gray-800 pt-8",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-sm text-gray-400",children:[c.jsxs("p",{children:[" ",t," Carmen. All rights reserved."]}),c.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[c.jsx("a",{href:"#",className:"hover:text-white transition",children:"Privacy Policy"}),c.jsx("a",{href:"#",className:"hover:text-white transition",children:"Terms of Service"}),c.jsx("a",{href:"#",className:"hover:text-white transition",children:"Shipping Info"})]})]})})]})})}function WE(){return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(BE,{}),c.jsx("main",{className:"flex-grow",children:c.jsx(pv,{})}),c.jsx(zE,{})]})}function qE({children:t}){const{user:e,isAdmin:n,loading:r}=sl();return r?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):!e||!n?c.jsx(Jb,{to:"/admin/login",replace:!0}):c.jsx(c.Fragment,{children:t})}const Yv=S.createContext({});function HE(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Bd=S.createContext(null),Xv=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function KE(t=!0){const e=S.useContext(Bd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=S.useId();S.useEffect(()=>{t&&s(i)},[t]);const a=S.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const zd=typeof window<"u",GE=zd?S.useLayoutEffect:S.useEffect,et=t=>t;let Zv=et;function Wd(t){let e;return()=>(e===void 0&&(e=t()),e)}const _s=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Gt=t=>t*1e3,Qt=t=>t/1e3,QE={useManualTiming:!1};function JE(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){i.has(u)&&(l.schedule(u),t()),u(a)}const l={schedule:(u,d=!1,h=!1)=>{const p=h&&r?e:n;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(a=u,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,s&&(s=!1,l.process(u))}};return l}const Ia=["read","resolveKeyframes","update","preRender","render","postRender"],YE=40;function e0(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Ia.reduce((g,m)=>(g[m]=JE(i),g),{}),{read:o,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:f}=a,p=()=>{const g=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,YE),1),s.timestamp=g,s.isProcessing=!0,o.process(s),l.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},x=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:Ia.reduce((g,m)=>{const y=a[m];return g[m]=(_,b=!1,j=!1)=>(n||x(),y.schedule(_,b,j)),g},{}),cancel:g=>{for(let m=0;m<Ia.length;m++)a[Ia[m]].cancel(g)},state:s,steps:a}}const{schedule:Y,cancel:In,state:Ee,steps:Ql}=e0(typeof requestAnimationFrame<"u"?requestAnimationFrame:et,!0),t0=S.createContext({strict:!1}),Sp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bs={};for(const t in Sp)bs[t]={isEnabled:e=>Sp[t].some(n=>!!e[n])};function XE(t){for(const e in t)bs[e]={...bs[e],...t[e]}}const ZE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Po(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ZE.has(t)}let n0=t=>!Po(t);function eT(t){t&&(n0=e=>e.startsWith("on")?!Po(e):t(e))}try{eT(require("@emotion/is-prop-valid").default)}catch{}function tT(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(n0(s)||n===!0&&Po(s)||!e&&!Po(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function nT(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const al=S.createContext({});function Vi(t){return typeof t=="string"||Array.isArray(t)}function ol(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const qd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hd=["initial",...qd];function ll(t){return ol(t.animate)||Hd.some(e=>Vi(t[e]))}function r0(t){return!!(ll(t)||t.variants)}function rT(t,e){if(ll(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Vi(n)?n:void 0,animate:Vi(r)?r:void 0}}return t.inherit!==!1?e:{}}function sT(t){const{initial:e,animate:n}=rT(t,S.useContext(al));return S.useMemo(()=>({initial:e,animate:n}),[jp(e),jp(n)])}function jp(t){return Array.isArray(t)?t.join(" "):t}const iT=Symbol.for("motionComponentSymbol");function Hr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function aT(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Hr(n)&&(n.current=r))},[e])}const Kd=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oT="framerAppearId",s0="data-"+Kd(oT),{schedule:Gd}=e0(queueMicrotask,!1),i0=S.createContext({});function lT(t,e,n,r,s){var i,a;const{visualElement:o}=S.useContext(al),l=S.useContext(t0),u=S.useContext(Bd),d=S.useContext(Xv).reducedMotion,h=S.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=S.useContext(i0);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&uT(h.current,n,s,p);const x=S.useRef(!1);S.useInsertionEffect(()=>{f&&x.current&&f.update(n,u)});const v=n[s0],w=S.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,v)));return GE(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Gd.render(f.render),w.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,v)}),w.current=!1))}),f}function uT(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:a0(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Hr(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function a0(t){if(t)return t.options.allowProjection!==!1?t.projection:a0(t.parent)}function cT({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,a;t&&XE(t);function o(u,d){let h;const f={...S.useContext(Xv),...u,layoutId:dT(u)},{isStatic:p}=f,x=sT(u),v=r(u,p);if(!p&&zd){hT();const w=fT(f);h=w.MeasureLayout,x.visualElement=lT(s,v,f,e,w.ProjectionNode)}return c.jsxs(al.Provider,{value:x,children:[h&&x.visualElement?c.jsx(h,{visualElement:x.visualElement,...f}):null,n(s,u,aT(v,x.visualElement,d),v,p,x.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const l=S.forwardRef(o);return l[iT]=s,l}function dT({layoutId:t}){const e=S.useContext(Yv).id;return e&&t!==void 0?e+"-"+t:t}function hT(t,e){S.useContext(t0).strict}function fT(t){const{drag:e,layout:n}=bs;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const pT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qd(t){return typeof t!="string"||t.includes("-")?!1:!!(pT.indexOf(t)>-1||/[A-Z]/u.test(t))}function kp(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Jd(t,e,n,r){if(typeof e=="function"){const[s,i]=kp(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=kp(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const xc=t=>Array.isArray(t),mT=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),gT=t=>xc(t)?t[t.length-1]||0:t,De=t=>!!(t&&t.getVelocity);function Qa(t){const e=De(t)?t.get():t;return mT(e)?e.toValue():e}function yT({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const a={latestValues:vT(r,s,i,t),renderState:e()};return n&&(a.onMount=o=>n({props:r,current:o,...a}),a.onUpdate=o=>n(o)),a}const o0=t=>(e,n)=>{const r=S.useContext(al),s=S.useContext(Bd),i=()=>yT(t,e,r,s);return n?i():HE(i)};function vT(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=Qa(i[f]);let{initial:a,animate:o}=t;const l=ll(t),u=r0(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!ol(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const x=Jd(t,f[p]);if(x){const{transitionEnd:v,transition:w,...g}=x;for(const m in g){let y=g[m];if(Array.isArray(y)){const _=d?y.length-1:0;y=y[_]}y!==null&&(s[m]=y)}for(const m in v)s[m]=v[m]}}}return s}const Ns=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],br=new Set(Ns),l0=t=>e=>typeof e=="string"&&e.startsWith(t),u0=l0("--"),xT=l0("var(--"),Yd=t=>xT(t)?wT.test(t.split("/*")[0].trim()):!1,wT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,c0=(t,e)=>e&&typeof t=="number"?e.transform(t):t,en=(t,e,n)=>n>e?e:n<t?t:n,As={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bi={...As,transform:t=>en(0,1,t)},Da={...As,default:1},na=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),on=na("deg"),Mt=na("%"),L=na("px"),_T=na("vh"),bT=na("vw"),Ep={...Mt,parse:t=>Mt.parse(t)/100,transform:t=>Mt.transform(t*100)},ST={borderWidth:L,borderTopWidth:L,borderRightWidth:L,borderBottomWidth:L,borderLeftWidth:L,borderRadius:L,radius:L,borderTopLeftRadius:L,borderTopRightRadius:L,borderBottomRightRadius:L,borderBottomLeftRadius:L,width:L,maxWidth:L,height:L,maxHeight:L,top:L,right:L,bottom:L,left:L,padding:L,paddingTop:L,paddingRight:L,paddingBottom:L,paddingLeft:L,margin:L,marginTop:L,marginRight:L,marginBottom:L,marginLeft:L,backgroundPositionX:L,backgroundPositionY:L},jT={rotate:on,rotateX:on,rotateY:on,rotateZ:on,scale:Da,scaleX:Da,scaleY:Da,scaleZ:Da,skew:on,skewX:on,skewY:on,distance:L,translateX:L,translateY:L,translateZ:L,x:L,y:L,z:L,perspective:L,transformPerspective:L,opacity:Bi,originX:Ep,originY:Ep,originZ:L},Tp={...As,transform:Math.round},Xd={...ST,...jT,zIndex:Tp,size:L,fillOpacity:Bi,strokeOpacity:Bi,numOctaves:Tp},kT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ET=Ns.length;function TT(t,e,n){let r="",s=!0;for(let i=0;i<ET;i++){const a=Ns[i],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=c0(o,Xd[a]);if(!l){s=!1;const d=kT[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Zd(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(br.has(l)){a=!0;continue}else if(u0(l)){s[l]=u;continue}else{const d=c0(u,Xd[l]);l.startsWith("origin")?(o=!0,i[l]=d):r[l]=d}}if(e.transform||(a||n?r.transform=TT(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}const PT={offset:"stroke-dashoffset",array:"stroke-dasharray"},CT={offset:"strokeDashoffset",array:"strokeDasharray"};function NT(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?PT:CT;t[i.offset]=L.transform(-r);const a=L.transform(e),o=L.transform(n);t[i.array]=`${a} ${o}`}function Pp(t,e,n){return typeof t=="string"?t:L.transform(e+n*t)}function AT(t,e,n){const r=Pp(e,t.x,t.width),s=Pp(n,t.y,t.height);return`${r} ${s}`}function eh(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},d,h){if(Zd(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:x}=t;f.transform&&(x&&(p.transform=f.transform),delete f.transform),x&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=AT(x,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&NT(f,a,o,l,!1)}const th=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),d0=()=>({...th(),attrs:{}}),nh=t=>typeof t=="string"&&t.toLowerCase()==="svg";function h0(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const f0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function p0(t,e,n,r){h0(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(f0.has(s)?s:Kd(s),e.attrs[s])}const Co={};function RT(t){Object.assign(Co,t)}function m0(t,{layout:e,layoutId:n}){return br.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Co[t]||t==="opacity")}function rh(t,e,n){var r;const{style:s}=t,i={};for(const a in s)(De(s[a])||e.style&&De(e.style[a])||m0(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function g0(t,e,n){const r=rh(t,e,n);for(const s in t)if(De(t[s])||De(e[s])){const i=Ns.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function OT(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Cp=["x","y","width","height","cx","cy","r"],IT={useVisualState:o0({scrapeMotionValuesFromProps:g0,createRenderState:d0,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const o in s)if(br.has(o)){i=!0;break}}if(!i)return;let a=!e;if(e)for(let o=0;o<Cp.length;o++){const l=Cp[o];t[l]!==e[l]&&(a=!0)}a&&Y.read(()=>{OT(n,r),Y.render(()=>{eh(r,s,nh(n.tagName),t.transformTemplate),p0(n,r)})})}})},DT={useVisualState:o0({scrapeMotionValuesFromProps:rh,createRenderState:th})};function y0(t,e,n){for(const r in e)!De(e[r])&&!m0(r,n)&&(t[r]=e[r])}function LT({transformTemplate:t},e){return S.useMemo(()=>{const n=th();return Zd(n,e,t),Object.assign({},n.vars,n.style)},[e])}function MT(t,e){const n=t.style||{},r={};return y0(r,n,t),Object.assign(r,LT(t,e)),r}function $T(t,e){const n={},r=MT(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function UT(t,e,n,r){const s=S.useMemo(()=>{const i=d0();return eh(i,e,nh(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};y0(i,t.style,t),s.style={...i,...s.style}}return s}function FT(t=!1){return(n,r,s,{latestValues:i},a)=>{const l=(Qd(n)?UT:$T)(r,i,a,n),u=tT(r,typeof n=="string",t),d=n!==S.Fragment?{...u,...l,ref:s}:{},{children:h}=r,f=S.useMemo(()=>De(h)?h.get():h,[h]);return S.createElement(n,{...d,children:f})}}function VT(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...Qd(r)?IT:DT,preloadedFeatures:t,useRender:FT(s),createVisualElement:e,Component:r};return cT(a)}}function v0(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function ul(t,e,n){const r=t.getProps();return Jd(r,e,n!==void 0?n:r.custom,t)}const BT=Wd(()=>window.ScrollTimeline!==void 0);class zT{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(BT()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class WT extends zT{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function sh(t,e){return t?t[e]||t.default||t:void 0}const wc=2e4;function x0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wc;)e+=n,r=t.next(e);return e>=wc?1/0:e}function ih(t){return typeof t=="function"}function Np(t,e){t.timeline=e,t.onfinish=null}const ah=t=>Array.isArray(t)&&typeof t[0]=="number",qT={linearEasing:void 0};function HT(t,e){const n=Wd(t);return()=>{var r;return(r=qT[e])!==null&&r!==void 0?r:n()}}const No=HT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),w0=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(_s(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function _0(t){return!!(typeof t=="function"&&No()||!t||typeof t=="string"&&(t in _c||No())||ah(t)||Array.isArray(t)&&t.every(_0))}const Gs=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,_c={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gs([0,.65,.55,1]),circOut:Gs([.55,0,1,.45]),backIn:Gs([.31,.01,.66,-.59]),backOut:Gs([.33,1.53,.69,.99])};function b0(t,e){if(t)return typeof t=="function"&&No()?w0(t,e):ah(t)?Gs(t):Array.isArray(t)?t.map(n=>b0(n,e)||_c.easeOut):_c[t]}const gt={x:!1,y:!1};function S0(){return gt.x||gt.y}function KT(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function j0(t,e){const n=KT(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Ap(t){return e=>{e.pointerType==="touch"||S0()||t(e)}}function GT(t,e,n={}){const[r,s,i]=j0(t,n),a=Ap(o=>{const{target:l}=o,u=e(o);if(typeof u!="function"||!l)return;const d=Ap(h=>{u(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const k0=(t,e)=>e?t===e?!0:k0(t,e.parentElement):!1,oh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,QT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function JT(t){return QT.has(t.tagName)||t.tabIndex!==-1}const Qs=new WeakSet;function Rp(t){return e=>{e.key==="Enter"&&t(e)}}function Jl(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const YT=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Rp(()=>{if(Qs.has(n))return;Jl(n,"down");const s=Rp(()=>{Jl(n,"up")}),i=()=>Jl(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Op(t){return oh(t)&&!S0()}function XT(t,e,n={}){const[r,s,i]=j0(t,n),a=o=>{const l=o.currentTarget;if(!Op(o)||Qs.has(l))return;Qs.add(l);const u=e(o),d=(p,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Op(p)||!Qs.has(l))&&(Qs.delete(l),typeof u=="function"&&u(p,{success:x}))},h=p=>{d(p,n.useGlobalTarget||k0(l,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(o=>{!JT(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),o.addEventListener("focus",u=>YT(u,s),s)}),i}function ZT(t){return t==="x"||t==="y"?gt[t]?null:(gt[t]=!0,()=>{gt[t]=!1}):gt.x||gt.y?null:(gt.x=gt.y=!0,()=>{gt.x=gt.y=!1})}const E0=new Set(["width","height","top","left","right","bottom",...Ns]);let Ja;function eP(){Ja=void 0}const $t={now:()=>(Ja===void 0&&$t.set(Ee.isProcessing||QE.useManualTiming?Ee.timestamp:performance.now()),Ja),set:t=>{Ja=t,queueMicrotask(eP)}};function lh(t,e){t.indexOf(e)===-1&&t.push(e)}function uh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ch{constructor(){this.subscriptions=[]}add(e){return lh(this.subscriptions,e),()=>uh(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function T0(t,e){return e?t*(1e3/e):0}const Ip=30,tP=t=>!isNaN(parseFloat(t));class nP{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=$t.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=$t.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=tP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ch);const r=this.events[e].add(n);return e==="change"?()=>{r(),Y.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$t.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ip)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ip);return T0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zi(t,e){return new nP(t,e)}function rP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zi(n))}function sP(t,e){const n=ul(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=gT(i[a]);rP(t,a,o)}}function iP(t){return!!(De(t)&&t.add)}function bc(t,e){const n=t.getValue("willChange");if(iP(n))return n.add(e)}function P0(t){return t.props[s0]}const C0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,aP=1e-7,oP=12;function lP(t,e,n,r,s){let i,a,o=0;do a=e+(n-e)/2,i=C0(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>aP&&++o<oP);return a}function ra(t,e,n,r){if(t===e&&n===r)return et;const s=i=>lP(i,0,1,t,n);return i=>i===0||i===1?i:C0(s(i),e,r)}const N0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,A0=t=>e=>1-t(1-e),R0=ra(.33,1.53,.69,.99),dh=A0(R0),O0=N0(dh),I0=t=>(t*=2)<1?.5*dh(t):.5*(2-Math.pow(2,-10*(t-1))),hh=t=>1-Math.sin(Math.acos(t)),D0=A0(hh),L0=N0(hh),M0=t=>/^0[^.\s]+$/u.test(t);function uP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||M0(t):!0}const ui=t=>Math.round(t*1e5)/1e5,fh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cP(t){return t==null}const dP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ph=(t,e)=>n=>!!(typeof n=="string"&&dP.test(n)&&n.startsWith(t)||e&&!cP(n)&&Object.prototype.hasOwnProperty.call(n,e)),$0=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(fh);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},hP=t=>en(0,255,t),Yl={...As,transform:t=>Math.round(hP(t))},ir={test:ph("rgb","red"),parse:$0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Yl.transform(t)+", "+Yl.transform(e)+", "+Yl.transform(n)+", "+ui(Bi.transform(r))+")"};function fP(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Sc={test:ph("#"),parse:fP,transform:ir.transform},Kr={test:ph("hsl","hue"),parse:$0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Mt.transform(ui(e))+", "+Mt.transform(ui(n))+", "+ui(Bi.transform(r))+")"},Oe={test:t=>ir.test(t)||Sc.test(t)||Kr.test(t),parse:t=>ir.test(t)?ir.parse(t):Kr.test(t)?Kr.parse(t):Sc.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ir.transform(t):Kr.transform(t)},pP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(fh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(pP))===null||n===void 0?void 0:n.length)||0)>0}const U0="number",F0="color",gP="var",yP="var(",Dp="${}",vP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wi(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(vP,l=>(Oe.test(l)?(r.color.push(i),s.push(F0),n.push(Oe.parse(l))):l.startsWith(yP)?(r.var.push(i),s.push(gP),n.push(l)):(r.number.push(i),s.push(U0),n.push(parseFloat(l))),++i,Dp)).split(Dp);return{values:n,split:o,indexes:r,types:s}}function V0(t){return Wi(t).values}function B0(t){const{split:e,types:n}=Wi(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const o=n[a];o===U0?i+=ui(s[a]):o===F0?i+=Oe.transform(s[a]):i+=s[a]}return i}}const xP=t=>typeof t=="number"?0:t;function wP(t){const e=V0(t);return B0(t)(e.map(xP))}const Dn={test:mP,parse:V0,createTransformer:B0,getAnimatableNone:wP},_P=new Set(["brightness","contrast","saturate","opacity"]);function bP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(fh)||[];if(!r)return t;const s=n.replace(r,"");let i=_P.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const SP=/\b([a-z-]*)\(.*?\)/gu,jc={...Dn,getAnimatableNone:t=>{const e=t.match(SP);return e?e.map(bP).join(" "):t}},jP={...Xd,color:Oe,backgroundColor:Oe,outlineColor:Oe,fill:Oe,stroke:Oe,borderColor:Oe,borderTopColor:Oe,borderRightColor:Oe,borderBottomColor:Oe,borderLeftColor:Oe,filter:jc,WebkitFilter:jc},mh=t=>jP[t];function z0(t,e){let n=mh(t);return n!==jc&&(n=Dn),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kP=new Set(["auto","none","0"]);function EP(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!kP.has(i)&&Wi(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=z0(n,s)}const Lp=t=>t===As||t===L,Mp=(t,e)=>parseFloat(t.split(", ")[e]),$p=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Mp(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?Mp(i[1],t):0}},TP=new Set(["x","y","z"]),PP=Ns.filter(t=>!TP.has(t));function CP(t){const e=[];return PP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ss={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:$p(4,13),y:$p(5,14)};Ss.translateX=Ss.x;Ss.translateY=Ss.y;const pr=new Set;let kc=!1,Ec=!1;function W0(){if(Ec){const t=Array.from(pr).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=CP(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var o;(o=r.getValue(i))===null||o===void 0||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ec=!1,kc=!1,pr.forEach(t=>t.complete()),pr.clear()}function q0(){pr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ec=!0)})}function NP(){q0(),W0()}class gh{constructor(e,n,r,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(pr.add(this),kc||(kc=!0,Y.read(q0),Y.resolveKeyframes(W0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const a=s==null?void 0:s.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&a===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),pr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,pr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const H0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),AP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RP(t){const e=AP.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function K0(t,e,n=1){const[r,s]=RP(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return H0(a)?parseFloat(a):a}return Yd(s)?K0(s,e,n+1):s}const G0=t=>e=>e.test(t),OP={test:t=>t==="auto",parse:t=>t},Q0=[As,L,Mt,on,bT,_T,OP],Up=t=>Q0.find(G0(t));class J0 extends gh{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Yd(u))){const d=K0(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!E0.has(r)||e.length!==2)return;const[s,i]=e,a=Up(s),o=Up(i);if(a!==o)if(Lp(a)&&Lp(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)uP(e[s])&&r.push(s);r.length&&EP(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ss[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=Ss[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const Fp=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Dn.test(t)||t==="0")&&!t.startsWith("url("));function IP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function DP(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=Fp(s,e),o=Fp(i,e);return!a||!o?!1:IP(t)||(n==="spring"||ih(n))&&r}const LP=t=>t!==null;function cl(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(LP),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const MP=40;class Y0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=$t.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&NP(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=$t.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:a,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!DP(e,r,s,i))if(a)this.options.duration=0;else{l&&l(cl(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ee=(t,e,n)=>t+(e-t)*n;function Xl(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $P({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;s=Xl(l,o,t+1/3),i=Xl(l,o,t),a=Xl(l,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Ao(t,e){return n=>n>0?e:t}const Zl=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},UP=[Sc,ir,Kr],FP=t=>UP.find(e=>e.test(t));function Vp(t){const e=FP(t);if(!e)return!1;let n=e.parse(t);return e===Kr&&(n=$P(n)),n}const Bp=(t,e)=>{const n=Vp(t),r=Vp(e);if(!n||!r)return Ao(t,e);const s={...n};return i=>(s.red=Zl(n.red,r.red,i),s.green=Zl(n.green,r.green,i),s.blue=Zl(n.blue,r.blue,i),s.alpha=ee(n.alpha,r.alpha,i),ir.transform(s))},VP=(t,e)=>n=>e(t(n)),sa=(...t)=>t.reduce(VP),Tc=new Set(["none","hidden"]);function BP(t,e){return Tc.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function zP(t,e){return n=>ee(t,e,n)}function yh(t){return typeof t=="number"?zP:typeof t=="string"?Yd(t)?Ao:Oe.test(t)?Bp:HP:Array.isArray(t)?X0:typeof t=="object"?Oe.test(t)?Bp:WP:Ao}function X0(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>yh(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function WP(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=yh(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function qP(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][s[a]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[i]=l,s[a]++}return r}const HP=(t,e)=>{const n=Dn.createTransformer(e),r=Wi(t),s=Wi(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Tc.has(t)&&!s.values.length||Tc.has(e)&&!r.values.length?BP(t,e):sa(X0(qP(r,s),s.values),n):Ao(t,e)};function Z0(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ee(t,e,n):yh(t)(t,e)}const KP=5;function ex(t,e,n){const r=Math.max(e-KP,0);return T0(n-t(r),e-r)}const ie={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},eu=.001;function GP({duration:t=ie.duration,bounce:e=ie.bounce,velocity:n=ie.velocity,mass:r=ie.mass}){let s,i,a=1-e;a=en(ie.minDamping,ie.maxDamping,a),t=en(ie.minDuration,ie.maxDuration,Qt(t)),a<1?(s=u=>{const d=u*a,h=d*t,f=d-n,p=Pc(u,a),x=Math.exp(-h);return eu-f/p*x},i=u=>{const h=u*a*t,f=h*n+n,p=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-h),v=Pc(Math.pow(u,2),a);return(-s(u)+eu>0?-1:1)*((f-p)*x)/v}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-eu+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const o=5/t,l=JP(s,i,o);if(t=Gt(t),isNaN(l))return{stiffness:ie.stiffness,damping:ie.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const QP=12;function JP(t,e,n){let r=n;for(let s=1;s<QP;s++)r=r-t(r)/e(r);return r}function Pc(t,e){return t*Math.sqrt(1-e*e)}const YP=["duration","bounce"],XP=["stiffness","damping","mass"];function zp(t,e){return e.some(n=>t[n]!==void 0)}function ZP(t){let e={velocity:ie.velocity,stiffness:ie.stiffness,damping:ie.damping,mass:ie.mass,isResolvedFromDuration:!1,...t};if(!zp(t,XP)&&zp(t,YP))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*en(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ie.mass,stiffness:s,damping:i}}else{const n=GP(t);e={...e,...n,mass:ie.mass},e.isResolvedFromDuration=!0}return e}function tx(t=ie.visualDuration,e=ie.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=ZP({...n,velocity:-Qt(n.velocity||0)}),x=f||0,v=u/(2*Math.sqrt(l*d)),w=a-i,g=Qt(Math.sqrt(l/d)),m=Math.abs(w)<5;r||(r=m?ie.restSpeed.granular:ie.restSpeed.default),s||(s=m?ie.restDelta.granular:ie.restDelta.default);let y;if(v<1){const b=Pc(g,v);y=j=>{const T=Math.exp(-v*g*j);return a-T*((x+v*g*w)/b*Math.sin(b*j)+w*Math.cos(b*j))}}else if(v===1)y=b=>a-Math.exp(-g*b)*(w+(x+g*w)*b);else{const b=g*Math.sqrt(v*v-1);y=j=>{const T=Math.exp(-v*g*j),E=Math.min(b*j,300);return a-T*((x+v*g*w)*Math.sinh(E)+b*w*Math.cosh(E))/b}}const _={calculatedDuration:p&&h||null,next:b=>{const j=y(b);if(p)o.done=b>=h;else{let T=0;v<1&&(T=b===0?Gt(x):ex(y,b,j));const E=Math.abs(T)<=r,A=Math.abs(a-j)<=s;o.done=E&&A}return o.value=o.done?a:j,o},toString:()=>{const b=Math.min(x0(_),wc),j=w0(T=>_.next(b*T).value,b,30);return b+"ms "+j}};return _}function Wp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=E=>o!==void 0&&E<o||l!==void 0&&E>l,x=E=>o===void 0?l:l===void 0||Math.abs(o-E)<Math.abs(l-E)?o:l;let v=n*e;const w=h+v,g=a===void 0?w:a(w);g!==w&&(v=g-h);const m=E=>-v*Math.exp(-E/r),y=E=>g+m(E),_=E=>{const A=m(E),I=y(E);f.done=Math.abs(A)<=u,f.value=f.done?g:I};let b,j;const T=E=>{p(f.value)&&(b=E,j=tx({keyframes:[f.value,x(f.value)],velocity:ex(y,E,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:E=>{let A=!1;return!j&&b===void 0&&(A=!0,_(E),T(E)),b!==void 0&&E>=b?j.next(E-b):(!A&&_(E),f)}}}const eC=ra(.42,0,1,1),tC=ra(0,0,.58,1),nx=ra(.42,0,.58,1),nC=t=>Array.isArray(t)&&typeof t[0]!="number",rC={linear:et,easeIn:eC,easeInOut:nx,easeOut:tC,circIn:hh,circInOut:L0,circOut:D0,backIn:dh,backInOut:O0,backOut:R0,anticipate:I0},qp=t=>{if(ah(t)){Zv(t.length===4);const[e,n,r,s]=t;return ra(e,n,r,s)}else if(typeof t=="string")return rC[t];return t};function sC(t,e,n){const r=[],s=n||Z0,i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||et:e;o=sa(l,o)}r.push(o)}return r}function iC(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Zv(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=sC(e,r,s),l=o.length,u=d=>{if(a&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=_s(t[h],t[h+1],d);return o[h](f)};return n?d=>u(en(t[0],t[i-1],d)):u}function aC(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=_s(0,e,r);t.push(ee(n,1,s))}}function oC(t){const e=[0];return aC(e,t.length-1),e}function lC(t,e){return t.map(n=>n*e)}function uC(t,e){return t.map(()=>e||nx).splice(0,t.length-1)}function Ro({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=nC(r)?r.map(qp):qp(r),i={done:!1,value:e[0]},a=lC(n&&n.length===e.length?n:oC(e),t),o=iC(a,e,{ease:Array.isArray(s)?s:uC(e,s)});return{calculatedDuration:t,next:l=>(i.value=o(l),i.done=l>=t,i)}}const cC=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Y.update(e,!0),stop:()=>In(e),now:()=>Ee.isProcessing?Ee.timestamp:$t.now()}},dC={decay:Wp,inertia:Wp,tween:Ro,keyframes:Ro,spring:tx},hC=t=>t/100;class vh extends Y0{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||gh,o=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new a(i,o,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,o=ih(n)?n:dC[n]||Ro;let l,u;o!==Ro&&typeof e[0]!="number"&&(l=sa(hC,Z0(e[0],e[1])),e=[0,100]);const d=o({...this.options,keyframes:e});i==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=x0(d));const{calculatedDuration:h}=d,f=h+s,p=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:x,repeatDelay:v,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),m=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,_=i;if(p){const E=Math.min(this.currentTime,d)/h;let A=Math.floor(E),I=E%1;!I&&E>=1&&(I=1),I===1&&A--,A=Math.min(A,p+1),!!(A%2)&&(x==="reverse"?(I=1-I,v&&(I-=v/h)):x==="mirror"&&(_=a)),y=en(0,1,I)*h}const b=m?{done:!1,value:l[0]}:_.next(y);o&&(b.value=o(b.value));let{done:j}=b;!m&&u!==null&&(j=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return T&&s!==void 0&&(b.value=cl(l,this.options,s)),w&&w(b.value),T&&this.finish(),b}get duration(){const{resolved:e}=this;return e?Qt(e.calculatedDuration):0}get time(){return Qt(this.currentTime)}set time(e){e=Gt(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Qt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=cC,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const fC=new Set(["opacity","clipPath","filter","transform"]);function pC(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=b0(o,s);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const mC=Wd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Oo=10,gC=2e4;function yC(t){return ih(t.type)||t.type==="spring"||!_0(t.ease)}function vC(t,e){const n=new vh({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<gC;)r=n.sample(i),s.push(r.value),i+=Oo;return{times:void 0,keyframes:s,duration:i-Oo,ease:"linear"}}const rx={anticipate:I0,backInOut:O0,circInOut:L0};function xC(t){return t in rx}class Hp extends Y0{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new J0(i,(a,o)=>this.onKeyframesResolved(a,o),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:a,motionValue:o,name:l,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof i=="string"&&No()&&xC(i)&&(i=rx[i]),yC(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:x,...v}=this.options,w=vC(e,v);e=w.keyframes,e.length===1&&(e[1]=e[0]),r=w.duration,s=w.times,i=w.ease,a="keyframes"}const d=pC(o.owner.current,l,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Np(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(cl(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Qt(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Qt(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Gt(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return et;const{animation:r}=n;Np(r,e)}return et}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:a,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,x=new vh({...p,keyframes:r,duration:s,type:i,ease:a,times:o,isGenerator:!0}),v=Gt(this.time);u.setWithVelocity(x.sample(v-Oo).value,x.sample(v).value,Oo)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return mC()&&r&&fC.has(r)&&!l&&!u&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}}const wC={type:"spring",stiffness:500,damping:25,restSpeed:10},_C=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bC={type:"keyframes",duration:.8},SC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jC=(t,{keyframes:e})=>e.length>2?bC:br.has(t)?t.startsWith("scale")?_C(e[1]):wC:SC;function kC({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const xh=(t,e,n,r={},s,i)=>a=>{const o=sh(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Gt(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:s};kC(o)||(d={...d,...jC(t,d)}),d.duration&&(d.duration=Gt(d.duration)),d.repeatDelay&&(d.repeatDelay=Gt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=cl(d.keyframes,o);if(f!==void 0)return Y.update(()=>{d.onUpdate(f),d.onComplete()}),new WT([])}return!i&&Hp.supports(d)?new Hp(d):new vh(d)};function EC({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sx(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(a=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),p=l[h];if(p===void 0||d&&EC(d,h))continue;const x={delay:n,...sh(a||{},h)};let v=!1;if(window.MotionHandoffAnimation){const g=P0(t);if(g){const m=window.MotionHandoffAnimation(g,h,Y);m!==null&&(x.startTime=m,v=!0)}}bc(t,h),f.start(xh(h,f,p,t.shouldReduceMotion&&E0.has(h)?{type:!1}:x,t,v));const w=f.animation;w&&u.push(w)}return o&&Promise.all(u).then(()=>{Y.update(()=>{o&&sP(t,o)})}),u}function Cc(t,e,n={}){var r;const s=ul(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(sx(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return TC(t,e,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function TC(t,e,n=0,r=0,s=1,i){const a=[],o=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(PC).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(Cc(u,e,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function PC(t,e){return t.sortNodePosition(e)}function CC(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Cc(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Cc(t,e,n);else{const s=typeof e=="function"?ul(t,e,n.custom):e;r=Promise.all(sx(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const NC=Hd.length;function ix(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ix(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<NC;n++){const r=Hd[n],s=t.props[r];(Vi(s)||s===!1)&&(e[r]=s)}return e}const AC=[...qd].reverse(),RC=qd.length;function OC(t){return e=>Promise.all(e.map(({animation:n,options:r})=>CC(t,n,r)))}function IC(t){let e=OC(t),n=Kp(),r=!0;const s=l=>(u,d)=>{var h;const f=ul(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:x,...v}=f;u={...u,...v,...x}}return u};function i(l){e=l(t)}function a(l){const{props:u}=t,d=ix(t.parent)||{},h=[],f=new Set;let p={},x=1/0;for(let w=0;w<RC;w++){const g=AC[w],m=n[g],y=u[g]!==void 0?u[g]:d[g],_=Vi(y),b=g===l?m.isActive:null;b===!1&&(x=w);let j=y===d[g]&&y!==u[g]&&_;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),m.protectedKeys={...p},!m.isActive&&b===null||!y&&!m.prevProp||ol(y)||typeof y=="boolean")continue;const T=DC(m.prevProp,y);let E=T||g===l&&m.isActive&&!j&&_||w>x&&_,A=!1;const I=Array.isArray(y)?y:[y];let oe=I.reduce(s(g),{});b===!1&&(oe={});const{prevResolvedValues:rn={}}=m,Bn={...rn,...oe},Rs=me=>{E=!0,f.has(me)&&(A=!0,f.delete(me)),m.needsAnimating[me]=!0;const C=t.getValue(me);C&&(C.liveStyle=!1)};for(const me in Bn){const C=oe[me],U=rn[me];if(p.hasOwnProperty(me))continue;let F=!1;xc(C)&&xc(U)?F=!v0(C,U):F=C!==U,F?C!=null?Rs(me):f.add(me):C!==void 0&&f.has(me)?Rs(me):m.protectedKeys[me]=!0}m.prevProp=y,m.prevResolvedValues=oe,m.isActive&&(p={...p,...oe}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(j&&T)||A)&&h.push(...I.map(me=>({animation:me,options:{type:g}})))}if(f.size){const w={};f.forEach(g=>{const m=t.getBaseTarget(g),y=t.getValue(g);y&&(y.liveStyle=!0),w[g]=m??null}),h.push({animation:w})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function o(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=a(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Kp(),r=!0}}}function DC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!v0(e,t):!1}function Kn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kp(){return{animate:Kn(!0),whileInView:Kn(),whileHover:Kn(),whileTap:Kn(),whileDrag:Kn(),whileFocus:Kn(),exit:Kn()}}class Vn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class LC extends Vn{constructor(e){super(e),e.animationState||(e.animationState=IC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ol(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let MC=0;class $C extends Vn{constructor(){super(...arguments),this.id=MC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const UC={animation:{Feature:LC},exit:{Feature:$C}};function qi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ia(t){return{point:{x:t.pageX,y:t.pageY}}}const FC=t=>e=>oh(e)&&t(e,ia(e));function ci(t,e,n,r){return qi(t,e,FC(n),r)}const Gp=(t,e)=>Math.abs(t-e);function VC(t,e){const n=Gp(t.x,e.x),r=Gp(t.y,e.y);return Math.sqrt(n**2+r**2)}class ax{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=nu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=VC(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:x}=h,{timestamp:v}=Ee;this.history.push({...x,timestamp:v});const{onStart:w,onMove:g}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=tu(f,this.transformPagePoint),Y.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=nu(h.type==="pointercancel"?this.lastMoveEventInfo:tu(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,w),x&&x(h,w)},!oh(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=ia(e),o=tu(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=Ee;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,nu(o,this.history)),this.removeListeners=sa(ci(this.contextWindow,"pointermove",this.handlePointerMove),ci(this.contextWindow,"pointerup",this.handlePointerUp),ci(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),In(this.updatePoint)}}function tu(t,e){return e?{point:e(t.point)}:t}function Qp(t,e){return{x:t.x-e.x,y:t.y-e.y}}function nu({point:t},e){return{point:t,delta:Qp(t,ox(e)),offset:Qp(t,BC(e)),velocity:zC(e,.1)}}function BC(t){return t[0]}function ox(t){return t[t.length-1]}function zC(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=ox(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Gt(e)));)n--;if(!r)return{x:0,y:0};const i=Qt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const lx=1e-4,WC=1-lx,qC=1+lx,ux=.01,HC=0-ux,KC=0+ux;function nt(t){return t.max-t.min}function GC(t,e,n){return Math.abs(t-e)<=n}function Jp(t,e,n,r=.5){t.origin=r,t.originPoint=ee(e.min,e.max,t.origin),t.scale=nt(n)/nt(e),t.translate=ee(n.min,n.max,t.origin)-t.originPoint,(t.scale>=WC&&t.scale<=qC||isNaN(t.scale))&&(t.scale=1),(t.translate>=HC&&t.translate<=KC||isNaN(t.translate))&&(t.translate=0)}function di(t,e,n,r){Jp(t.x,e.x,n.x,r?r.originX:void 0),Jp(t.y,e.y,n.y,r?r.originY:void 0)}function Yp(t,e,n){t.min=n.min+e.min,t.max=t.min+nt(e)}function QC(t,e,n){Yp(t.x,e.x,n.x),Yp(t.y,e.y,n.y)}function Xp(t,e,n){t.min=e.min-n.min,t.max=t.min+nt(e)}function hi(t,e,n){Xp(t.x,e.x,n.x),Xp(t.y,e.y,n.y)}function JC(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ee(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ee(n,t,r.max):Math.min(t,n)),t}function Zp(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function YC(t,{top:e,left:n,bottom:r,right:s}){return{x:Zp(t.x,n,s),y:Zp(t.y,e,r)}}function em(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function XC(t,e){return{x:em(t.x,e.x),y:em(t.y,e.y)}}function ZC(t,e){let n=.5;const r=nt(t),s=nt(e);return s>r?n=_s(e.min,e.max-r,t.min):r>s&&(n=_s(t.min,t.max-s,e.min)),en(0,1,n)}function eN(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Nc=.35;function tN(t=Nc){return t===!1?t=0:t===!0&&(t=Nc),{x:tm(t,"left","right"),y:tm(t,"top","bottom")}}function tm(t,e,n){return{min:nm(t,e),max:nm(t,n)}}function nm(t,e){return typeof t=="number"?t:t[e]||0}const rm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gr=()=>({x:rm(),y:rm()}),sm=()=>({min:0,max:0}),ue=()=>({x:sm(),y:sm()});function at(t){return[t("x"),t("y")]}function cx({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function nN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ru(t){return t===void 0||t===1}function Ac({scale:t,scaleX:e,scaleY:n}){return!ru(t)||!ru(e)||!ru(n)}function Yn(t){return Ac(t)||dx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dx(t){return im(t.x)||im(t.y)}function im(t){return t&&t!=="0%"}function Io(t,e,n){const r=t-n,s=e*r;return n+s}function am(t,e,n,r,s){return s!==void 0&&(t=Io(t,s,r)),Io(t,n,r)+e}function Rc(t,e=0,n=1,r,s){t.min=am(t.min,e,n,r,s),t.max=am(t.max,e,n,r,s)}function hx(t,{x:e,y:n}){Rc(t.x,e.translate,e.scale,e.originPoint),Rc(t.y,n.translate,n.scale,n.originPoint)}const om=.999999999999,lm=1.0000000000001;function sN(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Jr(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,hx(t,a)),r&&Yn(i.latestValues)&&Jr(t,i.latestValues))}e.x<lm&&e.x>om&&(e.x=1),e.y<lm&&e.y>om&&(e.y=1)}function Qr(t,e){t.min=t.min+e,t.max=t.max+e}function um(t,e,n,r,s=.5){const i=ee(t.min,t.max,s);Rc(t,e,n,i,r)}function Jr(t,e){um(t.x,e.x,e.scaleX,e.scale,e.originX),um(t.y,e.y,e.scaleY,e.scale,e.originY)}function fx(t,e){return cx(rN(t.getBoundingClientRect(),e))}function iN(t,e,n){const r=fx(t,n),{scroll:s}=e;return s&&(Qr(r.x,s.offset.x),Qr(r.y,s.offset.y)),r}const px=({current:t})=>t?t.ownerDocument.defaultView:null,aN=new WeakMap;class oN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ue(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ia(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:x}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZT(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),at(w=>{let g=this.getAxisMotionValue(w).get()||0;if(Mt.test(g)){const{projection:m}=this.visualElement;if(m&&m.layout){const y=m.layout.layoutBox[w];y&&(g=nt(y)*(parseFloat(g)/100))}}this.originPoint[w]=g}),x&&Y.postRender(()=>x(d,h)),bc(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:x,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:w}=h;if(p&&this.currentDirection===null){this.currentDirection=lN(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),v&&v(d,h)},o=(d,h)=>this.stop(d,h),l=()=>at(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ax(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:px(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Y.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!La(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=JC(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Hr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=YC(s.layoutBox,n):this.constraints=!1,this.elastic=tN(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&at(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=eN(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Hr(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=iN(r,s.root,this.visualElement.getTransformPagePoint());let a=XC(s.layout.layoutBox,i);if(n){const o=n(nN(a));this.hasMutatedConstraints=!!o,o&&(a=cx(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=at(d=>{if(!La(d,n,this.currentDirection))return;let h=l&&l[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return bc(this.visualElement,e),r.start(xh(e,r,0,n,this.visualElement,!1))}stopAnimation(){at(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){at(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){at(n=>{const{drag:r}=this.getProps();if(!La(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];i.set(e[n]-ee(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Hr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};at(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=ZC({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),at(a=>{if(!La(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(ee(l,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;aN.set(this.visualElement,this);const e=this.visualElement.current,n=ci(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Hr(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Y.read(r);const a=qi(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(at(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Nc,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function La(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function lN(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class uN extends Vn{constructor(e){super(e),this.removeGroupControls=et,this.removeListeners=et,this.controls=new oN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||et}unmount(){this.removeGroupControls(),this.removeListeners()}}const cm=t=>(e,n)=>{t&&Y.postRender(()=>t(e,n))};class cN extends Vn{constructor(){super(...arguments),this.removePointerDownListener=et}onPointerDown(e){this.session=new ax(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:px(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:cm(e),onStart:cm(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Y.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=ci(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ya={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dm(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(L.test(t))t=parseFloat(t);else return t;const n=dm(t,e.target.x),r=dm(t,e.target.y);return`${n}% ${r}%`}},dN={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Dn.parse(t);if(s.length>5)return r;const i=Dn.createTransformer(t),a=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;s[0+a]/=o,s[1+a]/=l;const u=ee(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class hN extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;RT(fN),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ya.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Y.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Gd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mx(t){const[e,n]=KE(),r=S.useContext(Yv);return c.jsx(hN,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(i0),isPresent:e,safeToRemove:n})}const fN={borderRadius:{...Bs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bs,borderTopRightRadius:Bs,borderBottomLeftRadius:Bs,borderBottomRightRadius:Bs,boxShadow:dN};function pN(t,e,n){const r=De(t)?t:zi(t);return r.start(xh("",r,e,n)),r.animation}function mN(t){return t instanceof SVGElement&&t.tagName!=="svg"}const gN=(t,e)=>t.depth-e.depth;class yN{constructor(){this.children=[],this.isDirty=!1}add(e){lh(this.children,e),this.isDirty=!0}remove(e){uh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gN),this.isDirty=!1,this.children.forEach(e)}}function vN(t,e){const n=$t.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(In(r),t(i-e))};return Y.read(r,!0),()=>In(r)}const gx=["TopLeft","TopRight","BottomLeft","BottomRight"],xN=gx.length,hm=t=>typeof t=="string"?parseFloat(t):t,fm=t=>typeof t=="number"||L.test(t);function wN(t,e,n,r,s,i){s?(t.opacity=ee(0,n.opacity!==void 0?n.opacity:1,_N(r)),t.opacityExit=ee(e.opacity!==void 0?e.opacity:1,0,bN(r))):i&&(t.opacity=ee(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<xN;a++){const o=`border${gx[a]}Radius`;let l=pm(e,o),u=pm(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||fm(l)===fm(u)?(t[o]=Math.max(ee(hm(l),hm(u),r),0),(Mt.test(u)||Mt.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=ee(e.rotate||0,n.rotate||0,r))}function pm(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _N=yx(0,.5,D0),bN=yx(.5,.95,et);function yx(t,e,n){return r=>r<t?0:r>e?1:n(_s(t,e,r))}function mm(t,e){t.min=e.min,t.max=e.max}function it(t,e){mm(t.x,e.x),mm(t.y,e.y)}function gm(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ym(t,e,n,r,s){return t-=e,t=Io(t,1/n,r),s!==void 0&&(t=Io(t,1/s,r)),t}function SN(t,e=0,n=1,r=.5,s,i=t,a=t){if(Mt.test(e)&&(e=parseFloat(e),e=ee(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=ee(i.min,i.max,r);t===i&&(o-=e),t.min=ym(t.min,e,n,o,s),t.max=ym(t.max,e,n,o,s)}function vm(t,e,[n,r,s],i,a){SN(t,e[n],e[r],e[s],e.scale,i,a)}const jN=["x","scaleX","originX"],kN=["y","scaleY","originY"];function xm(t,e,n,r){vm(t.x,e,jN,n?n.x:void 0,r?r.x:void 0),vm(t.y,e,kN,n?n.y:void 0,r?r.y:void 0)}function wm(t){return t.translate===0&&t.scale===1}function vx(t){return wm(t.x)&&wm(t.y)}function _m(t,e){return t.min===e.min&&t.max===e.max}function EN(t,e){return _m(t.x,e.x)&&_m(t.y,e.y)}function bm(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xx(t,e){return bm(t.x,e.x)&&bm(t.y,e.y)}function Sm(t){return nt(t.x)/nt(t.y)}function jm(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class TN{constructor(){this.members=[]}add(e){lh(this.members,e),e.scheduleRender()}remove(e){if(uh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PN(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),x&&(r+=`skewY(${x}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const Xn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Js=typeof window<"u"&&window.MotionDebug!==void 0,su=["","X","Y","Z"],CN={visibility:"hidden"},km=1e3;let NN=0;function iu(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function wx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=P0(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Y,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&wx(r)}function _x({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=NN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Js&&(Xn.totalNodes=Xn.resolvedTargetDeltas=Xn.recalculatedProjection=0),this.nodes.forEach(ON),this.nodes.forEach($N),this.nodes.forEach(UN),this.nodes.forEach(IN),Js&&window.MotionDebug.record(Xn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new yN)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new ch),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mN(a),this.instance=a;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=vN(f,250),Ya.hasAnimatedSinceResize&&(Ya.hasAnimatedSinceResize=!1,this.nodes.forEach(Tm))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||WN,{onLayoutAnimationStart:w,onLayoutAnimationComplete:g}=d.getProps(),m=!this.targetLayout||!xx(this.targetLayout,x)||p,y=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const _={...sh(v,"layout"),onPlay:w,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||Tm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,In(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FN),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Em);return}this.isUpdating||this.nodes.forEach(LN),this.isUpdating=!1,this.nodes.forEach(MN),this.nodes.forEach(AN),this.nodes.forEach(RN),this.clearAllSnapshots();const o=$t.now();Ee.delta=en(0,1e3/60,o-Ee.timestamp),Ee.timestamp=o,Ee.isProcessing=!0,Ql.update.process(Ee),Ql.preRender.process(Ee),Ql.render.process(Ee),Ee.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(DN),this.sharedNodes.forEach(VN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Y.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Y.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!vx(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(o||Yn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),qN(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return ue();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(HN))){const{scroll:d}=this.root;d&&(Qr(l.x,d.offset.x),Qr(l.y,d.offset.y))}return l}removeElementScroll(a){var o;const l=ue();if(it(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&it(l,a),Qr(l.x,h.offset.x),Qr(l.y,h.offset.y))}return l}applyTransform(a,o=!1){const l=ue();it(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Jr(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Yn(d.latestValues)&&Jr(l,d.latestValues)}return Yn(this.latestValues)&&Jr(l,this.latestValues),l}removeTransform(a){const o=ue();it(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Yn(u.latestValues))continue;Ac(u.latestValues)&&u.updateSnapshot();const d=ue(),h=u.measurePageBox();it(d,h),xm(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Yn(this.latestValues)&&xm(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ee.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ee.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ue(),this.relativeTargetOrigin=ue(),hi(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),it(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ue(),this.targetWithTransforms=ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):it(this.target,this.layout.layoutBox),hx(this.target,this.targetDelta)):it(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ue(),this.relativeTargetOrigin=ue(),hi(this.relativeTargetOrigin,this.target,p.target),it(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Js&&Xn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ac(this.parent.latestValues)||dx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ee.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;it(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;sN(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ue());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gm(this.prevProjectionDelta.x,this.projectionDelta.x),gm(this.prevProjectionDelta.y,this.projectionDelta.y)),di(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!jm(this.projectionDelta.x,this.prevProjectionDelta.x)||!jm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Js&&Xn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gr(),this.projectionDelta=Gr(),this.projectionDeltaWithTransform=Gr()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Gr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=ue(),p=l?l.source:void 0,x=this.layout?this.layout.source:void 0,v=p!==x,w=this.getStack(),g=!w||w.members.length<=1,m=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(zN));this.animationProgress=0;let y;this.mixTargetDelta=_=>{const b=_/1e3;Pm(h.x,a.x,b),Pm(h.y,a.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hi(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BN(this.relativeTarget,this.relativeTargetOrigin,f,b),y&&EN(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ue()),it(y,this.relativeTarget)),v&&(this.animationValues=d,wN(d,u,this.latestValues,b,m,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(In(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Y.update(()=>{Ya.hasAnimatedSinceResize=!0,this.currentAnimation=pN(0,km,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(km),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&bx(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ue();const h=nt(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const f=nt(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}it(o,l),Jr(o,d),di(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new TN),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&iu("z",a,u,this.animationValues);for(let d=0;d<su.length;d++)iu(`rotate${su[d]}`,a,u,this.animationValues),iu(`skew${su[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return CN;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Qa(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Qa(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Yn(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=PN(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:x}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Co){if(f[v]===void 0)continue;const{correct:w,applyTo:g}=Co[v],m=u.transform==="none"?f[v]:w(f[v],h);if(g){const y=g.length;for(let _=0;_<y;_++)u[g[_]]=m}else u[v]=m}return this.options.layoutId&&(u.pointerEvents=h===this?Qa(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(Em),this.root.sharedNodes.clear()}}}function AN(t){t.updateLayout()}function RN(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?at(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],p=nt(f);f.min=r[h].min,f.max=f.min+p}):bx(i,n.layoutBox,r)&&at(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],p=nt(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const o=Gr();di(o,r,n.layoutBox);const l=Gr();a?di(l,t.applyTransform(s,!0),n.measuredBox):di(l,r,n.layoutBox);const u=!vx(o);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const x=ue();hi(x,n.layoutBox,f.layoutBox);const v=ue();hi(v,r,p.layoutBox),xx(x,v)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ON(t){Js&&Xn.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function IN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function DN(t){t.clearSnapshot()}function Em(t){t.clearMeasurements()}function LN(t){t.isLayoutDirty=!1}function MN(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Tm(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $N(t){t.resolveTargetDelta()}function UN(t){t.calcProjection()}function FN(t){t.resetSkewAndRotation()}function VN(t){t.removeLeadSnapshot()}function Pm(t,e,n){t.translate=ee(e.translate,0,n),t.scale=ee(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Cm(t,e,n,r){t.min=ee(e.min,n.min,r),t.max=ee(e.max,n.max,r)}function BN(t,e,n,r){Cm(t.x,e.x,n.x,r),Cm(t.y,e.y,n.y,r)}function zN(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const WN={duration:.45,ease:[.4,0,.1,1]},Nm=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Am=Nm("applewebkit/")&&!Nm("chrome/")?Math.round:et;function Rm(t){t.min=Am(t.min),t.max=Am(t.max)}function qN(t){Rm(t.x),Rm(t.y)}function bx(t,e,n){return t==="position"||t==="preserve-aspect"&&!GC(Sm(e),Sm(n),.2)}function HN(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const KN=_x({attachResizeListener:(t,e)=>qi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),au={current:void 0},Sx=_x({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!au.current){const t=new KN({});t.mount(window),t.setOptions({layoutScroll:!0}),au.current=t}return au.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),GN={pan:{Feature:cN},drag:{Feature:uN,ProjectionNode:Sx,MeasureLayout:mx}};function Om(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Y.postRender(()=>i(e,ia(e)))}class QN extends Vn{mount(){const{current:e}=this.node;e&&(this.unmount=GT(e,n=>(Om(this.node,n,"Start"),r=>Om(this.node,r,"End"))))}unmount(){}}class JN extends Vn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sa(qi(this.node.current,"focus",()=>this.onFocus()),qi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Im(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Y.postRender(()=>i(e,ia(e)))}class YN extends Vn{mount(){const{current:e}=this.node;e&&(this.unmount=XT(e,n=>(Im(this.node,n,"Start"),(r,{success:s})=>Im(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Oc=new WeakMap,ou=new WeakMap,XN=t=>{const e=Oc.get(t.target);e&&e(t)},ZN=t=>{t.forEach(XN)};function eA({root:t,...e}){const n=t||document;ou.has(n)||ou.set(n,{});const r=ou.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(ZN,{root:t,...e})),r[s]}function tA(t,e,n){const r=eA(e);return Oc.set(t,n),r.observe(t),()=>{Oc.delete(t),r.unobserve(t)}}const nA={some:0,all:1};class rA extends Vn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:nA[s]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return tA(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(sA(e,n))&&this.startObserver()}unmount(){}}function sA({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const iA={inView:{Feature:rA},tap:{Feature:YN},focus:{Feature:JN},hover:{Feature:QN}},aA={layout:{ProjectionNode:Sx,MeasureLayout:mx}},Ic={current:null},jx={current:!1};function oA(){if(jx.current=!0,!!zd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ic.current=t.matches;t.addListener(e),e()}else Ic.current=!1}const lA=[...Q0,Oe,Dn],uA=t=>lA.find(G0(t)),Dm=new WeakMap;function cA(t,e,n){for(const r in e){const s=e[r],i=n[r];if(De(s))t.addValue(r,s);else if(De(i))t.addValue(r,zi(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,zi(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Lm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dA{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=$t.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Y.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=ll(n),this.isVariantNode=r0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const x=f[p];l[p]!==void 0&&De(x)&&x.set(l[p],!1)}}mount(e){this.current=e,Dm.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),jx.current||oA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ic.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Dm.delete(this.current),this.projection&&this.projection.unmount(),In(this.notifyUpdate),In(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=br.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Y.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in bs){const n=bs[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ue()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Lm.length;r++){const s=Lm[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=cA(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=zi(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(H0(s)||M0(s))?s=parseFloat(s):!uA(s)&&Dn.test(n)&&(s=z0(e,n)),this.setBaseTarget(e,De(s)?s.get():s)),De(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=Jd(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(s=a[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!De(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ch),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class kx extends dA{constructor(){super(...arguments),this.KeyframeResolver=J0}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;De(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function hA(t){return window.getComputedStyle(t)}class fA extends kx{constructor(){super(...arguments),this.type="html",this.renderInstance=h0}readValueFromInstance(e,n){if(br.has(n)){const r=mh(n);return r&&r.default||0}else{const r=hA(e),s=(u0(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return fx(e,n)}build(e,n,r){Zd(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return rh(e,n,r)}}class pA extends kx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ue}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(br.has(n)){const r=mh(n);return r&&r.default||0}return n=f0.has(n)?n:Kd(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return g0(e,n,r)}build(e,n,r){eh(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){p0(e,n,r,s)}mount(e){this.isSVGTag=nh(e.tagName),super.mount(e)}}const mA=(t,e)=>Qd(t)?new pA(e):new fA(e,{allowProjection:t!==S.Fragment}),gA=VT({...UC,...iA,...GN,...aA},mA),O=nT(gA);async function dl(){const{data:t,error:e}=await We.from("products").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(e)throw console.error("Error fetching products:",e),e;return t||[]}async function yA(t){const{data:e,error:n}=await We.from("products").select("*").eq("id",t).single();return n?(console.error("Error fetching product:",n),null):e}async function vA(){const{data:t,error:e}=await We.from("products").select("category").eq("is_active",!0);if(e)throw console.error("Error fetching categories:",e),e;const n=(t==null?void 0:t.map(r=>r.category).filter(r=>!!r))||[];return Array.from(new Set(n))}async function xA(t){const{error:e}=await We.from("products").delete().eq("id",t);if(e)throw e}function Q(t){return new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:2}).format(t)}function Ex(t){return new Intl.DateTimeFormat("en-ZA",{year:"numeric",month:"long",day:"numeric"}).format(new Date(t))}function wA(){const[t,e]=S.useState([]),[n,r]=S.useState(!0);S.useEffect(()=>{(async()=>{try{const o=await dl();e(o.slice(0,6))}catch(o){console.error("Error loading products:",o)}finally{r(!1)}})()},[]);const s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return c.jsxs("div",{children:[c.jsxs("section",{className:"relative h-[600px] md:h-[700px] bg-gradient-to-br from-gray-50 to-gray-100 overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 opacity-10",children:[c.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-gray-900 rounded-full mix-blend-multiply filter blur-3xl"}),c.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-gray-700 rounded-full mix-blend-multiply filter blur-3xl"})]}),c.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center",children:c.jsxs(O.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[c.jsxs("div",{children:[c.jsx(O.h1,{className:"font-display text-5xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8},children:"Curated Collections for the Modern You"}),c.jsx(O.p,{className:"text-xl text-gray-600 mb-8 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8},children:"Discover premium products handpicked with care. From fashion to lifestyle, find everything you love in one place."}),c.jsxs(O.div,{className:"flex flex-col sm:flex-row gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.8},children:[c.jsxs(ce,{to:"/shop",className:"btn-primary flex items-center justify-center space-x-2",children:[c.jsx("span",{children:"Start Shopping"}),c.jsx(ss,{size:20})]}),c.jsx(ce,{to:"/about",className:"btn-secondary flex items-center justify-center",children:"Learn More"})]})]}),c.jsx(O.div,{className:"relative h-96 md:h-full hidden md:block",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.8},children:c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl flex items-center justify-center",children:c.jsxs("div",{className:"text-gray-400 text-center",children:[c.jsx("div",{className:"w-32 h-32 bg-white rounded-2xl mx-auto mb-4 flex items-center justify-center",children:c.jsx("span",{className:"text-4xl",children:""})}),c.jsx("p",{children:"Featured Image Area"})]})})})]})})]}),c.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs(O.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[c.jsx("h2",{className:"font-display text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Featured Collections"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Explore our latest arrivals and customer favorites"})]}),n?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):c.jsx(O.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",variants:s,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:t.map(a=>c.jsx(O.div,{variants:i,children:c.jsx(ce,{to:`/product/${a.id}`,children:c.jsxs("div",{className:"card overflow-hidden",children:[c.jsxs("div",{className:"aspect-square bg-gray-100 overflow-hidden relative group",children:[a.images[0]?c.jsx("img",{src:a.images[0],alt:a.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:c.jsx("span",{className:"text-6xl",children:""})}),c.jsx("div",{className:"absolute top-4 right-4 bg-white px-3 py-1 rounded-full text-sm font-semibold",children:"New"})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"font-display text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:a.name}),c.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:a.description}),c.jsxs("div",{className:"flex items-center space-x-1 mb-4",children:[[...Array(5)].map((o,l)=>c.jsx(Vd,{size:16,className:"fill-yellow-400 text-yellow-400"},l)),c.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"(24)"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"font-display text-2xl font-bold text-gray-900",children:Q(a.price)}),c.jsx("button",{className:"text-sm bg-gray-900 text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition",children:"View"})]})]})]})})},a.id))}),c.jsx(O.div,{className:"text-center mt-12",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.3},viewport:{once:!0},children:c.jsxs(ce,{to:"/shop",className:"btn-secondary inline-flex items-center space-x-2",children:[c.jsx("span",{children:"View All Products"}),c.jsx(ss,{size:20})]})})]})}),c.jsx("section",{className:"bg-gray-50 py-16 px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs(O.div,{className:"text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[c.jsx("div",{className:"inline-block p-3 bg-white rounded-lg mb-4",children:c.jsx("span",{className:"text-4xl",children:""})}),c.jsx("h3",{className:"font-display text-xl font-bold mb-2",children:"Fast Shipping"}),c.jsx("p",{className:"text-gray-600",children:"PUDO courier delivery throughout South Africa"})]}),c.jsxs(O.div,{className:"text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.1},viewport:{once:!0},children:[c.jsx("div",{className:"inline-block p-3 bg-white rounded-lg mb-4",children:c.jsx("span",{className:"text-4xl",children:""})}),c.jsx("h3",{className:"font-display text-xl font-bold mb-2",children:"Quality Guaranteed"}),c.jsx("p",{className:"text-gray-600",children:"100% authentic products, handpicked with care"})]}),c.jsxs(O.div,{className:"text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.2},viewport:{once:!0},children:[c.jsx("div",{className:"inline-block p-3 bg-white rounded-lg mb-4",children:c.jsx("span",{className:"text-4xl",children:""})}),c.jsx("h3",{className:"font-display text-xl font-bold mb-2",children:"Secure Payment"}),c.jsx("p",{className:"text-gray-600",children:"Safe checkout with PayFast or Yoco payment gateway"})]})]})})})]})}function _A(){const[t,e]=S.useState([]),[n,r]=S.useState([]),[s,i]=S.useState("all"),[a,o]=S.useState(!0),[l,u]=S.useState(!1);S.useEffect(()=>{(async()=>{try{const[x,v]=await Promise.all([dl(),vA()]);e(x),r(v)}catch(x){console.error("Error loading shop data:",x)}finally{o(!1)}})()},[]);const d=s==="all"?t:t.filter(p=>p.category===s),h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},f={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return c.jsxs("div",{children:[c.jsx("section",{className:"bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx("h1",{className:"font-display text-4xl md:text-5xl font-bold text-gray-900 mb-2",children:"Shop"}),c.jsx("p",{className:"text-gray-600",children:"Discover our complete collection of premium products"})]})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"lg:col-span-1",children:[c.jsxs("button",{onClick:()=>u(!l),className:"lg:hidden w-full flex items-center space-x-2 mb-6 p-4 border border-gray-200 rounded-lg",children:[c.jsx(_p,{size:20}),c.jsx("span",{className:"font-semibold",children:"Filters"})]}),c.jsx(O.div,{className:`space-y-6 ${l?"block":"hidden lg:block"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center space-x-2",children:[c.jsx(_p,{size:20}),c.jsx("span",{children:"Categories"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>{i("all"),u(!1)},className:`block w-full text-left px-4 py-2 rounded-lg transition ${s==="all"?"bg-gray-900 text-white":"text-gray-700 hover:bg-gray-100"}`,children:"All Products"}),n.map(p=>c.jsx("button",{onClick:()=>{i(p),u(!1)},className:`block w-full text-left px-4 py-2 rounded-lg transition ${s===p?"bg-gray-900 text-white":"text-gray-700 hover:bg-gray-100"}`,children:p},p))]})]})})]}),c.jsx("div",{className:"lg:col-span-3",children:a?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):d.length>0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-6",children:c.jsxs("p",{className:"text-gray-600 text-sm",children:["Showing ",d.length," products"]})}),c.jsx(O.div,{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",variants:h,initial:"hidden",animate:"visible",children:d.map(p=>c.jsx(O.div,{variants:f,children:c.jsx(ce,{to:`/product/${p.id}`,children:c.jsxs("div",{className:"card overflow-hidden h-full flex flex-col",children:[c.jsx("div",{className:"aspect-square bg-gray-100 overflow-hidden relative group",children:p.images[0]?c.jsx("img",{src:p.images[0],alt:p.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:c.jsx("span",{className:"text-6xl",children:""})})}),c.jsxs("div",{className:"p-6 flex-grow flex flex-col",children:[c.jsx("h3",{className:"font-display text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:p.name}),c.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-grow",children:p.description}),c.jsxs("div",{className:"flex items-center space-x-1 mb-4",children:[[...Array(5)].map((x,v)=>c.jsx(Vd,{size:14,className:"fill-yellow-400 text-yellow-400"},v)),c.jsx("span",{className:"text-xs text-gray-600 ml-2",children:"(12)"})]}),c.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[c.jsx("span",{className:"font-display text-xl font-bold text-gray-900",children:Q(p.price)}),c.jsx("button",{className:"text-sm bg-gray-900 text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition",children:c.jsx(ss,{size:18})})]})]})]})})},p.id))})]}):c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-600 text-lg",children:"No products found in this category."})})})]})})]})}function bA(){const{id:t}=Db(),e=Fn(),[n,r]=S.useState(null),[s,i]=S.useState(!0),[a,o]=S.useState(1),[l,u]=S.useState(0),[d,h]=S.useState(!1),f=kt(x=>x.addItem);S.useEffect(()=>{if(!t){e("/shop");return}(async()=>{try{const v=await yA(t);v?(r(v),u(0)):e("/shop")}catch(v){console.error("Error loading product:",v),e("/shop")}finally{i(!1)}})()},[t,e]);const p=()=>{n&&(f(n,a),h(!0),setTimeout(()=>h(!1),2e3))};return s?c.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):n?c.jsxs("div",{children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:c.jsxs("button",{onClick:()=>e(-1),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition",children:[c.jsx(sE,{size:20}),c.jsx("span",{children:"Back"})]})}),c.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[c.jsxs(O.div,{className:"space-y-6",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[c.jsx("div",{className:"aspect-square bg-gray-100 rounded-2xl overflow-hidden",children:n.images[l]?c.jsx("img",{src:n.images[l],alt:n.name,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx("span",{className:"text-7xl",children:""})})}),n.images.length>1&&c.jsx("div",{className:"grid grid-cols-4 gap-4",children:n.images.map((x,v)=>c.jsx(O.button,{onClick:()=>u(v),className:`aspect-square rounded-lg overflow-hidden border-2 transition ${l===v?"border-gray-900":"border-gray-200 hover:border-gray-400"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:c.jsx("img",{src:x,alt:`${n.name} ${v+1}`,className:"w-full h-full object-cover"})},v))})]}),c.jsxs(O.div,{className:"space-y-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},children:[c.jsxs("div",{children:[c.jsx("span",{className:"inline-block px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full mb-3",children:n.category}),c.jsx("h1",{className:"font-display text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:n.name}),c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx("div",{className:"flex space-x-1",children:[...Array(5)].map((x,v)=>c.jsx(Vd,{size:20,className:"fill-yellow-400 text-yellow-400"},v))}),c.jsx("span",{className:"text-gray-600",children:"(145 reviews)"})]})]}),c.jsxs("div",{className:"border-t border-b border-gray-200 py-6",children:[c.jsx("p",{className:"text-gray-600 mb-2",children:"Price"}),c.jsx("p",{className:"font-display text-5xl font-bold text-gray-900",children:Q(n.price)})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Description"}),c.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6 p-6 bg-gray-50 rounded-xl",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Weight"}),c.jsxs("p",{className:"font-semibold text-gray-900",children:[n.weight_kg," kg"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Status"}),c.jsx("p",{className:"font-semibold text-gray-900",children:n.is_active?"In Stock":"Out of Stock"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex items-center space-x-6",children:c.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[c.jsx("button",{onClick:()=>o(Math.max(1,a-1)),className:"px-4 py-3 hover:bg-gray-100 transition",children:""}),c.jsx("input",{type:"number",min:"1",value:a,onChange:x=>o(Math.max(1,parseInt(x.target.value)||1)),className:"w-16 text-center border-0 focus:ring-0 text-lg font-semibold"}),c.jsx("button",{onClick:()=>o(a+1),className:"px-4 py-3 hover:bg-gray-100 transition",children:"+"})]})}),c.jsx(O.button,{onClick:p,className:`w-full py-4 rounded-lg font-semibold text-lg transition flex items-center justify-center space-x-2 ${d?"bg-green-500 text-white":"bg-gray-900 text-white hover:bg-gray-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:d?c.jsxs(c.Fragment,{children:[c.jsx(li,{size:24}),c.jsx("span",{children:"Added to Cart!"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Fd,{size:24}),c.jsx("span",{children:"Add to Cart"})]})})]}),c.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-200",children:[c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"p-2 bg-green-100 rounded-lg mt-1",children:c.jsx(li,{size:20,className:"text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900",children:"Secure Checkout"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Safe payment with PayFast or Yoco"})]})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mt-1",children:c.jsx(li,{size:20,className:"text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900",children:"PUDO Delivery"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Convenient delivery to a location near you"})]})]})]})]})]})}),c.jsx("section",{className:"bg-gray-50 py-20 mt-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("h2",{className:"font-display text-3xl font-bold text-gray-900 mb-12",children:"You Might Also Like"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[1,2,3,4].map(x=>c.jsx("div",{className:"card bg-white h-64 animate-pulse"},x))})]})})]}):c.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:c.jsx("p",{className:"text-gray-600 text-lg",children:"Product not found"})})}const lu=[{size:"small",max_weight:5,price:60},{size:"medium",max_weight:10,price:80},{size:"large",max_weight:15,price:100}];function Tx(t){const e=lu.find(n=>t<=n.max_weight);if(!e){const n=lu[lu.length-1];return{size:n.size,price:n.price,total_weight:t}}return{size:e.size,price:e.price,total_weight:t}}function SA(t){return{small:"Small (up to 5kg)",medium:"Medium (up to 10kg)",large:"Large (up to 15kg)"}[t]}function jA(){const t=Fn(),e=kt(l=>l.items),n=kt(l=>l.getSubtotal()),r=kt(l=>l.getTotalWeight()),s=kt(l=>l.removeItem),i=kt(l=>l.updateQuantity),a=Tx(r),o=n+a.price;return e.length===0?c.jsx("div",{className:"min-h-[600px] flex items-center justify-center px-4",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Fd,{size:64,className:"mx-auto text-gray-300 mb-6"}),c.jsx("h1",{className:"font-display text-3xl font-bold text-gray-900 mb-4",children:"Your Cart is Empty"}),c.jsx("p",{className:"text-gray-600 mb-8 max-w-md",children:"Looks like you haven't added anything to your cart yet. Browse our collection and find something you love!"}),c.jsxs(ce,{to:"/shop",className:"btn-primary inline-flex items-center space-x-2",children:[c.jsx("span",{children:"Continue Shopping"}),c.jsx(ss,{size:20})]})]})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[c.jsx(O.h1,{className:"font-display text-4xl font-bold text-gray-900 mb-12",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:"Shopping Cart"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[c.jsxs("div",{className:"lg:col-span-2",children:[c.jsx(O.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.1},children:e.map((l,u)=>c.jsxs(O.div,{className:"flex gap-6 p-6 border border-gray-200 rounded-lg hover:shadow-lg transition",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},children:[c.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-lg flex-shrink-0 overflow-hidden",children:l.product.images[0]?c.jsx("img",{src:l.product.images[0],alt:l.product.name,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx("span",{className:"text-4xl",children:""})})}),c.jsxs("div",{className:"flex-grow flex flex-col justify-between",children:[c.jsxs("div",{children:[c.jsx(ce,{to:`/product/${l.product.id}`,className:"font-display text-lg font-bold text-gray-900 hover:text-gray-700 transition",children:l.product.name}),c.jsx("p",{className:"text-gray-600 text-sm mt-1 line-clamp-2",children:l.product.description})]}),c.jsxs("div",{className:"flex items-center justify-between mt-4",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-gray-600 text-sm",children:[Q(l.product.price)," each"]}),c.jsx("p",{className:"font-display text-xl font-bold text-gray-900",children:Q(l.product.price*l.quantity)})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[c.jsx("button",{onClick:()=>i(l.product.id,Math.max(1,l.quantity-1)),className:"px-3 py-2 hover:bg-gray-100 transition",children:""}),c.jsx("span",{className:"px-4 py-2 font-semibold text-center",children:l.quantity}),c.jsx("button",{onClick:()=>i(l.product.id,l.quantity+1),className:"px-3 py-2 hover:bg-gray-100 transition",children:"+"})]}),c.jsx(O.button,{onClick:()=>s(l.product.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",whileHover:{scale:1.1},whileTap:{scale:.9},children:c.jsx(Qv,{size:20})})]})]})]})]},l.product.id))}),c.jsx(O.div,{className:"mt-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:c.jsxs(ce,{to:"/shop",className:"text-gray-600 hover:text-gray-900 transition flex items-center space-x-2",children:[c.jsx(ss,{size:20,className:"rotate-180"}),c.jsx("span",{children:"Continue Shopping"})]})})]}),c.jsx(O.div,{className:"lg:col-span-1",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:c.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 sticky top-24",children:[c.jsx("h2",{className:"font-display text-2xl font-bold text-gray-900 mb-6",children:"Order Summary"}),c.jsxs("div",{className:"space-y-4 mb-6 pb-6 border-b border-gray-200",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Subtotal"}),c.jsx("span",{className:"font-semibold text-gray-900",children:Q(n)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-600",children:["Shipping (PUDO - ",a.size,")"]}),c.jsx("span",{className:"font-semibold text-gray-900",children:Q(a.price)})]}),c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-sm text-blue-900",children:[c.jsxs("p",{className:"font-semibold mb-1",children:["Weight: ",r,"kg"]}),c.jsxs("p",{children:["Your order will be delivered via PUDO"," ",c.jsx("span",{className:"capitalize font-semibold",children:a.size})," locker"]})]})]}),c.jsxs("div",{className:"flex justify-between items-baseline mb-8",children:[c.jsx("span",{className:"text-gray-600 text-lg",children:"Total"}),c.jsx("span",{className:"font-display text-3xl font-bold text-gray-900",children:Q(o)})]}),c.jsxs(O.button,{onClick:()=>t("/checkout"),className:"w-full btn-primary flex items-center justify-center space-x-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx("span",{children:"Proceed to Checkout"}),c.jsx(ss,{size:20})]}),c.jsxs("div",{className:"mt-8 space-y-3 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{children:"Secure checkout with PayFast"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{children:"Fast PUDO delivery across SA"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{children:"100% money-back guarantee"})]})]})]})})]})]})}async function kA(t,e,n,r,s,i){const a=e+n,{data:o,error:l}=await We.from("orders").insert([{user_email:t,status:"pending",subtotal:e,shipping_cost:n,total:a,pudo_size:r,shipping_address:s}]).select().single();if(l)throw l;const u=i.map(h=>({order_id:o.id,...h})),{error:d}=await We.from("order_items").insert(u);if(d)throw d;return o}async function EA(t){const{data:e,error:n}=await We.from("order_items").select(`
      *,
      product:products(*)
    `).eq("order_id",t);if(n)throw console.error("Error fetching order items:",n),n;return e||[]}async function Px(){const{data:t,error:e}=await We.from("orders").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}async function TA(t,e){const{data:n,error:r}=await We.from("orders").update({status:e}).eq("id",t).select().single();if(r)throw r;return n}function PA(){const t=Fn(),e=kt(m=>m.items),n=kt(m=>m.getSubtotal()),r=kt(m=>m.getTotalWeight()),s=kt(m=>m.clearCart),i=Tx(r),a=n+i.price,[o,l]=S.useState(1),[u,d]=S.useState(!1),[h,f]=S.useState(null),[p,x]=S.useState({full_name:"",phone:"",email:"",pudo_location:"",city:"",province:""}),v=m=>{const{name:y,value:_}=m.target;x(b=>({...b,[y]:_}))},w=m=>{if(m.preventDefault(),!p.full_name||!p.phone||!p.email||!p.pudo_location){alert("Please fill in all required fields");return}l(2)},g=async m=>{m.preventDefault(),d(!0);try{const y=e.map(b=>({product_id:b.product.id,quantity:b.quantity,price:b.product.price})),_=await kA(p.email,n,i.price,i.size,p,y);f(_.id),l(3),s()}catch(y){console.error("Error creating order:",y),alert("Error creating order. Please try again.")}finally{d(!1)}};return e.length===0&&o!==3?c.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"font-display text-3xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),c.jsxs("button",{onClick:()=>t("/shop"),className:"btn-primary inline-flex items-center space-x-2",children:[c.jsx("span",{children:"Back to Shopping"}),c.jsx(Zk,{className:"rotate-180",size:20})]})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[o<3&&c.jsxs("div",{className:"mb-12",children:[c.jsx("div",{className:"flex items-center justify-between",children:[1,2,3].map(m=>c.jsxs("div",{className:"flex items-center flex-1",children:[c.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full font-semibold flex items-center justify-center ${m<=o?"bg-gray-900 text-white":"bg-gray-200 text-gray-600"}`,children:m<o?c.jsx(li,{size:20}):m}),m<3&&c.jsx("div",{className:`flex-1 h-1 mx-2 ${m<o?"bg-gray-900":"bg-gray-200"}`})]},m))}),c.jsxs("div",{className:"flex justify-between mt-4 text-sm",children:[c.jsx("span",{className:o>=1?"font-semibold text-gray-900":"text-gray-600",children:"Shipping"}),c.jsx("span",{className:o>=2?"font-semibold text-gray-900":"text-gray-600",children:"Payment"}),c.jsx("span",{className:o>=3?"font-semibold text-gray-900":"text-gray-600",children:"Confirm"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-8 shadow-sm",children:[o===1&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{children:c.jsx("h2",{className:"font-display text-2xl font-bold text-gray-900 mb-6",children:"Shipping Address"})}),c.jsxs("form",{onSubmit:w,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Full Name *"}),c.jsx("input",{type:"text",name:"full_name",value:p.full_name,onChange:v,required:!0,className:"input",placeholder:"John Doe"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address *"}),c.jsx("input",{type:"email",name:"email",value:p.email,onChange:v,required:!0,className:"input",placeholder:"john@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Phone Number *"}),c.jsx("input",{type:"tel",name:"phone",value:p.phone,onChange:v,required:!0,className:"input",placeholder:"+27 (0) 1 234 567"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"PUDO Location *"}),c.jsx("input",{type:"text",name:"pudo_location",value:p.pudo_location,onChange:v,required:!0,className:"input",placeholder:"E.g., Pick n Pay, Sandton City"}),c.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Enter your preferred PUDO locker location"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"City *"}),c.jsx("input",{type:"text",name:"city",value:p.city,onChange:v,required:!0,className:"input",placeholder:"Johannesburg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Province *"}),c.jsxs("select",{name:"province",value:p.province,onChange:v,required:!0,className:"input",children:[c.jsx("option",{value:"",children:"Select Province"}),c.jsx("option",{value:"Eastern Cape",children:"Eastern Cape"}),c.jsx("option",{value:"Free State",children:"Free State"}),c.jsx("option",{value:"Gauteng",children:"Gauteng"}),c.jsx("option",{value:"KwaZulu-Natal",children:"KwaZulu-Natal"}),c.jsx("option",{value:"Limpopo",children:"Limpopo"}),c.jsx("option",{value:"Mpumalanga",children:"Mpumalanga"}),c.jsx("option",{value:"Northern Cape",children:"Northern Cape"}),c.jsx("option",{value:"North West",children:"North West"}),c.jsx("option",{value:"Western Cape",children:"Western Cape"})]})]}),c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[c.jsxs("p",{className:"text-sm text-blue-900",children:[c.jsx("span",{className:"font-semibold",children:"Shipping Method:"})," PUDO"," ",c.jsx("span",{className:"capitalize font-semibold",children:i.size})," Locker"]}),c.jsxs("p",{className:"text-sm text-blue-900 mt-1",children:[c.jsx("span",{className:"font-semibold",children:"Shipping Cost:"})," ",Q(i.price)]})]}),c.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>t("/cart"),className:"flex-1 btn-secondary",children:"Back to Cart"}),c.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:"Continue to Payment"})]})]})]}),o===2&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"font-display text-2xl font-bold text-gray-900 mb-2",children:"Payment Method"}),c.jsx("p",{className:"text-gray-600",children:"You will be redirected to PayFast to complete your payment securely."})]}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Order Summary"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Subtotal"}),c.jsx("span",{className:"font-semibold",children:Q(n)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Shipping"}),c.jsx("span",{className:"font-semibold",children:Q(i.price)})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-2 flex justify-between",children:[c.jsx("span",{className:"font-semibold",children:"Total"}),c.jsx("span",{className:"font-display text-lg font-bold",children:Q(a)})]})]})]}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Shipping To"}),c.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[c.jsx("p",{children:p.full_name}),c.jsx("p",{children:p.pudo_location}),c.jsxs("p",{children:[p.city,", ",p.province]}),c.jsx("p",{children:p.email}),c.jsx("p",{children:p.phone})]})]}),c.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>l(1),className:"flex-1 btn-secondary",children:"Back"}),c.jsx(O.button,{onClick:g,disabled:u,className:"flex-1 btn-primary disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:u?"Processing...":"Pay Now"})]})]}),o===3&&c.jsxs("div",{className:"text-center space-y-6",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:c.jsx(li,{size:32,className:"text-green-600"})})}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-display text-3xl font-bold text-gray-900 mb-2",children:"Order Confirmed!"}),c.jsx("p",{className:"text-gray-600 text-lg",children:"Thank you for your purchase."})]}),h&&c.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[c.jsx("p",{className:"text-sm text-blue-900 mb-2",children:"Order Number:"}),c.jsx("p",{className:"font-display text-2xl font-bold text-blue-900",children:h.toUpperCase().substring(0,8)})]}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg text-left",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"What Happens Next?"}),c.jsxs("ul",{className:"space-y-3 text-sm text-gray-600",children:[c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("span",{className:"text-green-600 font-bold mt-0.5",children:""}),c.jsx("span",{children:"You'll receive a confirmation email shortly"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("span",{className:"text-green-600 font-bold mt-0.5",children:""}),c.jsx("span",{children:"Your order will be packaged and prepared for shipment"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("span",{className:"text-green-600 font-bold mt-0.5",children:""}),c.jsx("span",{children:"PUDO courier will deliver to your selected location"})]}),c.jsxs("li",{className:"flex items-start space-x-3",children:[c.jsx("span",{className:"text-green-600 font-bold mt-0.5",children:""}),c.jsx("span",{children:"You'll receive tracking information via email"})]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[c.jsx("button",{onClick:()=>t("/shop"),className:"flex-1 btn-secondary",children:"Continue Shopping"}),c.jsx("button",{onClick:()=>t("/"),className:"flex-1 btn-primary",children:"Back Home"})]})]})]},o)}),o<3&&c.jsx(O.div,{className:"lg:col-span-1",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:c.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm sticky top-24",children:[c.jsx("h3",{className:"font-display text-lg font-bold text-gray-900 mb-6",children:"Order Summary"}),c.jsx("div",{className:"space-y-4 mb-6 pb-6 border-b border-gray-200 max-h-64 overflow-y-auto",children:e.map(m=>c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{className:"text-gray-600",children:[m.product.name,"  ",m.quantity]}),c.jsx("span",{className:"font-semibold text-gray-900",children:Q(m.product.price*m.quantity)})]},m.product.id))}),c.jsxs("div",{className:"space-y-3 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Subtotal"}),c.jsx("span",{className:"font-semibold",children:Q(n)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-600",children:["Shipping (",SA(i.size),")"]}),c.jsx("span",{className:"font-semibold",children:Q(i.price)})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-3 mt-3 flex justify-between",children:[c.jsx("span",{className:"font-semibold text-gray-900",children:"Total"}),c.jsx("span",{className:"font-display text-xl font-bold text-gray-900",children:Q(a)})]})]})]})})]})]})})}function CA(){return c.jsxs("div",{children:[c.jsx("section",{className:"bg-gray-50 py-20 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsx(O.h1,{className:"font-display text-5xl font-bold text-gray-900 mb-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:"About Carmen"}),c.jsx(O.p,{className:"text-xl text-gray-600 leading-relaxed",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},children:"We started from a passion for beautiful products and a commitment to exceptional service. Today, we're proud to serve thousands of happy customers across South Africa."})]})}),c.jsx("section",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:c.jsxs(O.div,{className:"prose prose-lg max-w-none text-gray-600",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},children:[c.jsx("p",{children:"Carmen began as a simple idea: what if there was a place where you could find carefully curated products, all in one place? No algorithms deciding what you seejust thoughtfully selected items from someone who truly cares about quality."}),c.jsx("p",{children:"Starting as a social media seller, we realized many of our customers wanted a dedicated space to shop. A place that's fast, reliable, and genuinely customer-focused. That's how Carmen was born."}),c.jsx("p",{children:"Every product we feature has been personally selected. We work directly with trusted suppliers to ensure authenticity and quality. Your satisfaction isn't just a goalit's our promise."})]})}),c.jsx("section",{className:"bg-gray-50 py-20 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsx("h2",{className:"font-display text-4xl font-bold text-gray-900 text-center mb-16",children:"Our Values"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs(O.div,{className:"text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[c.jsx(pE,{className:"w-16 h-16 mx-auto text-red-600 mb-6"}),c.jsx("h3",{className:"font-display text-2xl font-bold text-gray-900 mb-4",children:"Quality First"}),c.jsx("p",{className:"text-gray-600",children:"We only sell products we're proud to recommend to friends and family."})]}),c.jsxs(O.div,{className:"text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.1},viewport:{once:!0},children:[c.jsx($E,{className:"w-16 h-16 mx-auto text-blue-600 mb-6"}),c.jsx("h3",{className:"font-display text-2xl font-bold text-gray-900 mb-4",children:"Customer Focused"}),c.jsx("p",{className:"text-gray-600",children:"Your satisfaction is our top priority. We're here to help, always."})]}),c.jsxs(O.div,{className:"text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.2},viewport:{once:!0},children:[c.jsx(VE,{className:"w-16 h-16 mx-auto text-yellow-600 mb-6"}),c.jsx("h3",{className:"font-display text-2xl font-bold text-gray-900 mb-4",children:"Lightning Fast"}),c.jsx("p",{className:"text-gray-600",children:"Quick shipping via PUDO couriers. Get your order when you need it."})]})]})]})})]})}function NA(){const[t,e]=S.useState({name:"",email:"",subject:"",message:""}),[n,r]=S.useState(!1),s=a=>{const{name:o,value:l}=a.target;e(u=>({...u,[o]:l}))},i=a=>{a.preventDefault(),console.log("Form submitted:",t),r(!0),setTimeout(()=>{e({name:"",email:"",subject:"",message:""}),r(!1)},3e3)};return c.jsxs("div",{children:[c.jsx("section",{className:"bg-gray-50 py-20 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsx(O.h1,{className:"font-display text-5xl font-bold text-gray-900 mb-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:"Get In Touch"}),c.jsx(O.p,{className:"text-xl text-gray-600",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},children:"We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]})}),c.jsx("section",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16",children:[c.jsxs(O.div,{className:"space-y-8",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[c.jsx("h2",{className:"font-display text-3xl font-bold text-gray-900 mb-8",children:"Contact Information"}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(zv,{className:"w-6 h-6 text-gray-900 mt-1 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Email"}),c.jsx("p",{className:"text-gray-600",children:"hello@carmen.shop"}),c.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Response time: 24 hours"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(Kv,{className:"w-6 h-6 text-gray-900 mt-1 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Phone"}),c.jsx("p",{className:"text-gray-600",children:"+27 (0) 1 234 567"}),c.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"MonFri 9am5pm SAST"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(Wv,{className:"w-6 h-6 text-gray-900 mt-1 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Address"}),c.jsx("p",{className:"text-gray-600",children:"South Africa"})]})]}),c.jsxs("div",{className:"pt-8 border-t border-gray-200",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Follow Us"}),c.jsx("div",{className:"flex space-x-4",children:["Instagram","Facebook","TikTok"].map(a=>c.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900 transition font-medium",children:a},a))})]})]}),c.jsx(O.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:c.jsxs("form",{onSubmit:i,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Name"}),c.jsx("input",{type:"text",name:"name",value:t.name,onChange:s,required:!0,className:"input",placeholder:"Your name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email"}),c.jsx("input",{type:"email",name:"email",value:t.email,onChange:s,required:!0,className:"input",placeholder:"your@email.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Subject"}),c.jsx("input",{type:"text",name:"subject",value:t.subject,onChange:s,required:!0,className:"input",placeholder:"How can we help?"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Message"}),c.jsx("textarea",{name:"message",value:t.message,onChange:s,required:!0,rows:6,className:"input",placeholder:"Your message..."})]}),c.jsx(O.button,{type:"submit",className:`w-full py-3 rounded-lg font-semibold transition flex items-center justify-center space-x-2 ${n?"bg-green-500 text-white":"btn-primary"}`,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:n,children:n?c.jsxs(c.Fragment,{children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Message Sent!"})]}):c.jsxs(c.Fragment,{children:[c.jsx(NE,{size:20}),c.jsx("span",{children:"Send Message"})]})})]})})]})})]})}function AA(){const t=Fn(),{signIn:e}=sl(),[n,r]=S.useState(""),[s,i]=S.useState(""),[a,o]=S.useState(!1),[l,u]=S.useState(""),d=async h=>{h.preventDefault(),u(""),o(!0);try{const{data:f,error:p}=await e(n,s);if(p){u(p.message);return}f.user&&t("/admin")}catch(f){u("An error occurred. Please try again."),console.error("Login error:",f)}finally{o(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:c.jsxs(O.div,{className:"w-full max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-block p-3 bg-gray-900 rounded-lg mb-4",children:c.jsx("span",{className:"text-white font-display font-bold text-2xl",children:"C"})}),c.jsx("h1",{className:"font-display text-3xl font-bold text-gray-900 mb-2",children:"Carmen Admin"}),c.jsx("p",{className:"text-gray-600",children:"Sign in to manage your store"})]}),c.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l&&c.jsxs(O.div,{className:"flex items-start space-x-3 p-4 bg-red-50 border border-red-200 rounded-lg",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[c.jsx(oE,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),c.jsx("p",{className:"text-red-800 text-sm",children:l})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address"}),c.jsx("input",{type:"email",value:n,onChange:h=>r(h.target.value),required:!0,className:"input",placeholder:"admin@carmen.shop"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Password"}),c.jsx("input",{type:"password",value:s,onChange:h=>i(h.target.value),required:!0,className:"input",placeholder:""})]}),c.jsx(O.button,{type:"submit",disabled:a,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.02},whileTap:{scale:.98},children:a?"Signing in...":"Sign In"})]}),c.jsx("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:c.jsxs("p",{className:"text-sm text-blue-900",children:[c.jsx("span",{className:"font-semibold",children:"Demo Credentials:"}),c.jsx("br",{}),"Email: admin@carmen.shop",c.jsx("br",{}),"Password: (Check your setup)"]})})]})})}function RA(){const{signOut:t}=sl(),e=Fn(),[n,r]=S.useState(!0),s=async()=>{await t(),e("/")},i=[{label:"Dashboard",icon:vE,href:"/admin"},{label:"Products",icon:Hv,href:"/admin/products"},{label:"Orders",icon:Gv,href:"/admin/orders"}];return c.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[c.jsxs("div",{className:`${n?"w-64":"w-20"} bg-gray-900 text-white transition-all duration-300 fixed h-screen flex flex-col lg:relative`,children:[c.jsxs("div",{className:"p-6 border-b border-gray-800 flex items-center justify-between",children:[n&&c.jsx("h1",{className:"font-display text-xl font-bold",children:"Carmen Admin"}),c.jsx("button",{onClick:()=>r(!n),className:"p-2 hover:bg-gray-800 rounded-lg transition lg:hidden",children:n?c.jsx(Jv,{size:20}):c.jsx(qv,{size:20})})]}),c.jsx("nav",{className:"flex-1 p-4 space-y-2",children:i.map(a=>{const o=a.icon;return c.jsxs("a",{href:a.href,className:"flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition",children:[c.jsx(o,{size:20}),n&&c.jsx("span",{children:a.label})]},a.href)})}),c.jsx("div",{className:"p-4 border-t border-gray-800",children:c.jsxs("button",{onClick:s,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900 hover:bg-opacity-20 rounded-lg transition",children:[c.jsx(wE,{size:20}),n&&c.jsx("span",{children:"Logout"})]})})]}),c.jsx("div",{className:"flex-1 lg:ml-0 ml-0",children:c.jsx("main",{className:"p-8",children:c.jsx(pv,{})})}),n&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 lg:hidden",onClick:()=>r(!1)})]})}function OA(){const[t,e]=S.useState([]),[n,r]=S.useState([]),[s,i]=S.useState(!0);S.useEffect(()=>{(async()=>{try{const[u,d]=await Promise.all([Px().catch(()=>[]),dl().catch(()=>[])]);e(u||[]),r(d||[])}catch(u){console.error("Error loading dashboard data:",u)}finally{i(!1)}})()},[]);const a=[{label:"Total Products",value:n.length,icon:Hv,color:"bg-blue-100",textColor:"text-blue-600"},{label:"Total Orders",value:t.length,icon:Gv,color:"bg-green-100",textColor:"text-green-600"},{label:"Revenue",value:Q(t.reduce((l,u)=>l+u.total,0)),icon:dE,color:"bg-yellow-100",textColor:"text-yellow-600"},{label:"Pending Orders",value:t.filter(l=>l.status==="pending").length,icon:LE,color:"bg-purple-100",textColor:"text-purple-600"}],o=t.slice(0,5);return s?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"font-display text-4xl font-bold text-gray-900",children:"Dashboard"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Welcome back! Here's your store overview."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((l,u)=>{const d=l.icon;return c.jsx(O.div,{className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 text-sm font-medium",children:l.label}),c.jsx("p",{className:"font-display text-3xl font-bold text-gray-900 mt-2",children:l.value})]}),c.jsx("div",{className:`p-3 rounded-lg ${l.color}`,children:c.jsx(d,{className:`w-6 h-6 ${l.textColor}`})})]})},u)})}),c.jsxs(O.div,{className:"bg-white rounded-xl p-6 shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[c.jsx("h2",{className:"font-display text-2xl font-bold text-gray-900 mb-6",children:"Recent Orders"}),o.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-200",children:[c.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-900",children:"Order ID"}),c.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-900",children:"Customer"}),c.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-900",children:"Amount"}),c.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-900",children:"Status"}),c.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-900",children:"Date"})]})}),c.jsx("tbody",{children:o.map(l=>c.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[c.jsx("td",{className:"py-4 px-4 font-mono text-xs",children:l.id.substring(0,8).toUpperCase()}),c.jsx("td",{className:"py-4 px-4 text-gray-600",children:l.user_email}),c.jsx("td",{className:"py-4 px-4 font-semibold text-gray-900",children:Q(l.total)}),c.jsx("td",{className:"py-4 px-4",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${l.status==="paid"?"bg-green-100 text-green-800":l.status==="pending"?"bg-yellow-100 text-yellow-800":l.status==="shipped"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:l.status.charAt(0).toUpperCase()+l.status.slice(1)})}),c.jsx("td",{className:"py-4 px-4 text-gray-600",children:Ex(l.created_at)})]},l.id))})]})}):c.jsx("p",{className:"text-gray-600 text-center py-8",children:"No orders yet."})]})]})}function IA(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[s,i]=S.useState(!1);S.useEffect(()=>{a()},[]);const a=async()=>{try{r(!0);const l=await dl();e(l)}catch(l){console.error("Error loading products:",l)}finally{r(!1)}},o=async l=>{if(confirm("Are you sure you want to delete this product?"))try{await xA(l),e(t.filter(u=>u.id!==l))}catch(u){console.error("Error deleting product:",u),alert("Failed to delete product")}};return n?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"font-display text-4xl font-bold text-gray-900",children:"Products"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your product catalog"})]}),c.jsxs(O.button,{onClick:()=>i(!s),className:"btn-primary flex items-center space-x-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:[c.jsx(bp,{size:20}),c.jsx("span",{children:"Add Product"})]})]}),s&&c.jsxs(O.div,{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-200",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[c.jsx("h2",{className:"font-display text-2xl font-bold text-gray-900 mb-6",children:"Add New Product"}),c.jsx("p",{className:"text-gray-600 p-4 bg-blue-50 rounded-lg mb-6",children:" Product form coming soon! For now, you can manage products via Supabase dashboard."}),c.jsx("button",{onClick:()=>i(!1),className:"btn-secondary",children:"Close"})]}),t.length>0?c.jsx(O.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.1},children:t.map(l=>c.jsxs(O.div,{className:"bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-md transition",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[c.jsxs("div",{className:"aspect-square bg-gray-100 relative overflow-hidden group",children:[l.images[0]?c.jsx("img",{src:l.images[0],alt:l.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:c.jsx(gE,{size:48,className:"text-gray-400"})}),c.jsx("div",{className:"absolute top-4 right-4",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${l.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.is_active?"Active":"Inactive"})})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"font-display text-lg font-bold text-gray-900 line-clamp-2 mb-2",children:l.name}),c.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-4",children:l.description}),c.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Price:"}),c.jsx("span",{className:"font-semibold text-gray-900",children:Q(l.price)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Weight:"}),c.jsxs("span",{className:"font-semibold text-gray-900",children:[l.weight_kg,"kg"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Category:"}),c.jsx("span",{className:"font-semibold text-gray-900",children:l.category})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Images:"}),c.jsx("span",{className:"font-semibold text-gray-900",children:l.images.length})]})]}),c.jsxs("div",{className:"flex items-center space-x-3 pt-4 border-t border-gray-200",children:[c.jsxs("button",{className:"flex-1 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition flex items-center justify-center space-x-2 text-sm font-medium",children:[c.jsx(EE,{size:16}),c.jsx("span",{children:"Edit"})]}),c.jsxs(O.button,{onClick:()=>o(l.id),className:"flex-1 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition flex items-center justify-center space-x-2 text-sm font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:[c.jsx(Qv,{size:16}),c.jsx("span",{children:"Delete"})]})]})]})]},l.id))}):c.jsxs(O.div,{className:"text-center py-12 bg-gray-50 rounded-xl",initial:{opacity:0},animate:{opacity:1},children:[c.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"No products yet. Start by adding your first product!"}),c.jsxs(O.button,{onClick:()=>i(!0),className:"btn-primary inline-flex items-center space-x-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:[c.jsx(bp,{size:20}),c.jsx("span",{children:"Add First Product"})]})]})]})}function DA(){const[t,e]=S.useState([]),[n,r]=S.useState(null),[s,i]=S.useState(new Map),[a,o]=S.useState(!0);S.useEffect(()=>{l()},[]);const l=async()=>{try{o(!0);const p=await Px();e(p)}catch(p){console.error("Error loading orders:",p)}finally{o(!1)}},u=async p=>{if(n===p){r(null);return}try{if(!s.has(p)){const x=await EA(p);i(new Map(s).set(p,x))}r(p)}catch(x){console.error("Error loading order items:",x)}},d=async(p,x)=>{try{await TA(p,x),e(t.map(v=>v.id===p?{...v,status:x}:v))}catch(v){console.error("Error updating order status:",v),alert("Failed to update order status")}},h=p=>{switch(p){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=["pending","paid","processing","shipped","delivered","cancelled"];return a?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"font-display text-4xl font-bold text-gray-900",children:"Orders"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Manage customer orders and shipments"})]}),t.length>0?c.jsx(O.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.1},children:t.map(p=>{var x,v,w,g,m,y,_;return c.jsxs(O.div,{className:"bg-white rounded-xl shadow-sm overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[c.jsxs("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition flex items-center justify-between",onClick:()=>u(p.id),children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[c.jsxs("h3",{className:"font-display font-bold text-gray-900 text-lg",children:["Order ",p.id.substring(0,8).toUpperCase()]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${h(p.status)}`,children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Customer Email"}),c.jsx("p",{className:"font-semibold text-gray-900",children:p.user_email})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Total"}),c.jsx("p",{className:"font-semibold text-gray-900",children:Q(p.total)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Shipping"}),c.jsxs("p",{className:"font-semibold text-gray-900 capitalize",children:["PUDO ",p.pudo_size]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Date"}),c.jsx("p",{className:"font-semibold text-gray-900",children:Ex(p.created_at)})]})]})]}),c.jsx(O.div,{animate:{rotate:n===p.id?180:0},transition:{duration:.2},className:"ml-4",children:c.jsx(nE,{size:24})})]}),n===p.id&&c.jsxs(O.div,{className:"border-t border-gray-200 p-6 bg-gray-50",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.2},children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Shipping Address"}),c.jsxs("div",{className:"bg-white p-4 rounded-lg text-sm text-gray-600 space-y-1",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Name:"})," ",(x=p.shipping_address)==null?void 0:x.full_name]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Email:"})," ",(v=p.shipping_address)==null?void 0:v.email]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Phone:"})," ",(w=p.shipping_address)==null?void 0:w.phone]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"PUDO Location:"})," ",(g=p.shipping_address)==null?void 0:g.pudo_location]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"City/Province:"})," ",(m=p.shipping_address)==null?void 0:m.city,", ",(y=p.shipping_address)==null?void 0:y.province]})]})]}),s.get(p.id)&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Items Ordered"}),c.jsx("div",{className:"space-y-2",children:(_=s.get(p.id))==null?void 0:_.map(b=>{var j;return c.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-semibold text-gray-900",children:((j=b.product)==null?void 0:j.name)||"Product Deleted"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",b.quantity,"  ",Q(b.price)]})]}),c.jsx("p",{className:"font-semibold text-gray-900",children:Q(b.price*b.quantity)})]},b.id)})})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Order Summary"}),c.jsxs("div",{className:"bg-white p-4 rounded-lg space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Subtotal"}),c.jsx("span",{children:Q(p.subtotal)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Shipping"}),c.jsx("span",{children:Q(p.shipping_cost)})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-2 flex justify-between font-semibold",children:[c.jsx("span",{children:"Total"}),c.jsx("span",{children:Q(p.total)})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Update Status"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-2",children:f.map(b=>c.jsxs(O.button,{onClick:()=>d(p.id,b),className:`px-3 py-2 rounded-lg text-sm font-medium transition capitalize ${p.status===b?"bg-gray-900 text-white":"bg-white text-gray-700 border border-gray-200 hover:border-gray-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[b===p.status&&c.jsx(uE,{size:16,className:"inline mr-1"}),b]},b))})]})]})]},p.id)})}):c.jsx(O.div,{className:"text-center py-12 bg-gray-50 rounded-xl",initial:{opacity:0},animate:{opacity:1},children:c.jsx("p",{className:"text-gray-600 text-lg",children:"No orders yet. Customer orders will appear here."})})]})}const LA=new DS;function MA(){return c.jsx(MS,{client:LA,children:c.jsx(iS,{children:c.jsxs(Xb,{children:[c.jsxs(Me,{element:c.jsx(WE,{}),children:[c.jsx(Me,{path:"/",element:c.jsx(wA,{})}),c.jsx(Me,{path:"/shop",element:c.jsx(_A,{})}),c.jsx(Me,{path:"/product/:id",element:c.jsx(bA,{})}),c.jsx(Me,{path:"/cart",element:c.jsx(jA,{})}),c.jsx(Me,{path:"/checkout",element:c.jsx(PA,{})}),c.jsx(Me,{path:"/about",element:c.jsx(CA,{})}),c.jsx(Me,{path:"/contact",element:c.jsx(NA,{})})]}),c.jsx(Me,{path:"/admin/login",element:c.jsx(AA,{})}),c.jsxs(Me,{element:c.jsx(qE,{children:c.jsx(RA,{})}),children:[c.jsx(Me,{path:"/admin",element:c.jsx(OA,{})}),c.jsx(Me,{path:"/admin/products",element:c.jsx(IA,{})}),c.jsx(Me,{path:"/admin/orders",element:c.jsx(DA,{})})]}),c.jsx(Me,{path:"*",element:c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"font-display text-4xl font-bold text-gray-900 mb-4",children:"404"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Page not found"}),c.jsx("a",{href:"/",className:"btn-primary inline-block",children:"Back Home"})]})})})]})})})}uu.createRoot(document.getElementById("root")).render(c.jsx(Fc.StrictMode,{children:c.jsx(MA,{})}));
